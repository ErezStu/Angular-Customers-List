(self.webpackChunkcustomers_crm=self.webpackChunkcustomers_crm||[]).push([[179],{8255:xe=>{function ye(M){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+M+"'");throw h.code="MODULE_NOT_FOUND",h})}ye.keys=()=>[],ye.resolve=ye,ye.id=8255,xe.exports=ye},7716:(xe,ye,M)=>{"use strict";M.d(ye,{deG:()=>kh,tb:()=>sT,AFp:()=>nT,ip1:()=>mI,CZH:()=>qp,hGG:()=>mS,z2F:()=>$_,sBO:()=>ew,Sil:()=>H_,_Vd:()=>Ja,EJc:()=>aT,SBq:()=>ti,qLn:()=>v,vpe:()=>fs,gxx:()=>cu,tBr:()=>Rs,XFs:()=>Fe,OlP:()=>Rt,zs3:()=>Ot,ZZ4:()=>Vo,aQg:()=>ar,soG:()=>vE,YKP:()=>HC,v3s:()=>YA,h0i:()=>tl,PXZ:()=>$A,R0b:()=>Pi,FiY:()=>Ar,Lbi:()=>iT,g9A:()=>rT,Qsj:()=>v_,FYo:()=>ds,JOm:()=>Yt,Tiy:()=>Xa,q3G:()=>qt,tp0:()=>Gr,EAV:()=>XA,Rgc:()=>el,dDg:()=>dT,DyG:()=>pi,q4F:()=>C_,GfV:()=>Tp,s_b:()=>Pp,ifc:()=>Ae,eFA:()=>mT,G48:()=>FA,Gpc:()=>B,X6Q:()=>wI,_c5:()=>uS,VLi:()=>kA,c2e:()=>oT,zSh:()=>mn,wAp:()=>je,vHH:()=>re,EiD:()=>Rg,mCW:()=>ql,qzn:()=>Ki,JVY:()=>ba,pB0:()=>bg,eBb:()=>Tc,L6k:()=>Xh,LAX:()=>ef,cg1:()=>Bs,Tjo:()=>aS,kL8:()=>Qv,yhl:()=>Jh,dqk:()=>It,sIi:()=>xr,CqO:()=>mr,QGY:()=>Um,F4k:()=>np,RDi:()=>qu,AaK:()=>Z,z3N:()=>Pn,qOj:()=>qf,TTD:()=>zu,_Bn:()=>Ep,xp6:()=>Ay,uIk:()=>Cm,ekj:()=>wd,Suo:()=>De,Xpm:()=>ot,lG2:()=>pl,Yz7:()=>Ke,cJS:()=>en,oAB:()=>qs,Yjl:()=>ju,Y36:()=>Cu,_UZ:()=>ep,BQk:()=>jt,ynx:()=>tp,qZA:()=>xt,TgZ:()=>ls,EpF:()=>qn,n5z:()=>fi,Ikx:()=>Za,LFG:()=>Wt,$8M:()=>sn,NdJ:()=>Bm,CRH:()=>We,oxw:()=>Eu,Q6J:()=>Dt,iGM:()=>J,MAs:()=>Am,CHM:()=>tc,LSH:()=>Xl,kYT:()=>Bu,YNc:()=>Yf,_uU:()=>Vv,Oqu:()=>Ad,hij:()=>Po});var h=M(9765),te=M(5319),U=M(7574),ee=M(6682),ue=M(8819);function z(t){for(let n in t)if(t[n]===z)return n;throw Error("Could not find renamed property on target object.")}function pe(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function $(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const P=z({__forward_ref__:z});function B(t){return t.__forward_ref__=B,t.toString=function(){return Z(this())},t}function O(t){return j(t)?t():t}function j(t){return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===B}class re extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function ce(t){return"string"==typeof t?t:null==t?"":String(t)}function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ce(t)}function st(t,n){const s=n?` in ${n}`:"";throw new re("201",`No provider for ${_e(t)} found${s}`)}function Be(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Ke(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function yn(t){return vn(t,_r)||vn(t,xi)}function vn(t,n){return t.hasOwnProperty(n)?t[n]:null}function zs(t){return t&&(t.hasOwnProperty(Oi)||t.hasOwnProperty(_s))?t[Oi]:null}const _r=z({\u0275prov:z}),Oi=z({\u0275inj:z}),xi=z({ngInjectableDef:z}),_s=z({ngInjectorDef:z});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let Cn;function dn(t){const n=Cn;return Cn=t,n}function it(t,n,s){const a=yn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Fe.Optional?null:void 0!==n?n:void st(Z(t),"Injector")}function mt(t){return{toString:t}.toString()}var ct=(()=>((ct=ct||{})[ct.OnPush=0]="OnPush",ct[ct.Default=1]="Default",ct))(),Ae=(()=>((Ae=Ae||{})[Ae.Emulated=0]="Emulated",Ae[Ae.None=2]="None",Ae[Ae.ShadowDom=3]="ShadowDom",Ae))();const He="undefined"!=typeof globalThis&&globalThis,Uu="undefined"!=typeof window&&window,Zs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lr="undefined"!=typeof global&&global,It=He||lr||Uu||Zs,At={},V=[],k=z({\u0275cmp:z}),K=z({\u0275dir:z}),ie=z({\u0275pipe:z}),Y=z({\u0275mod:z}),we=z({\u0275loc:z}),Oe=z({\u0275fac:z}),_t=z({__NG_ELEMENT_ID__:z});let Ct=0;function ot(t){return mt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||V,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ae.Emulated,id:"c",styles:t.styles||V,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,c=t.features,g=t.pipes;return a.id+=Ct++,a.inputs=Ys(t.inputs,s),a.outputs=Ys(t.outputs),c&&c.forEach(m=>m(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(Sn):null,a.pipeDefs=g?()=>("function"==typeof g?g():g).map(Rn):null,a})}function Sn(t){return nn(t)||function(t){return t[K]||null}(t)}function Rn(t){return function(t){return t[ie]||null}(t)}const li={};function qs(t){return mt(()=>{const n={type:t.type,bootstrap:t.bootstrap||V,declarations:t.declarations||V,imports:t.imports||V,exports:t.exports||V,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(li[t.id]=t.type),n})}function Bu(t,n){return mt(()=>{const s=ur(t,!0);s.declarations=n.declarations||V,s.imports=n.imports||V,s.exports=n.exports||V})}function Ys(t,n){if(null==t)return At;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],c=l;Array.isArray(l)&&(c=l[1],l=l[0]),s[l]=a,n&&(n[l]=c)}return s}const pl=ot;function ju(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nn(t){return t[k]||null}function ur(t,n){const s=t[Y]||null;if(!s&&!0===n)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return s}function Er(t){return Array.isArray(t)&&"object"==typeof t[1]}function cr(t){return Array.isArray(t)&&!0===t[1]}function Zo(t){return 0!=(8&t.flags)}function Vi(t){return 2==(2&t.flags)}function dr(t){return 1==(1&t.flags)}function hr(t){return null!==t.template}function br(t){return 0!=(512&t[2])}function Cs(t,n){return t.hasOwnProperty(Oe)?t[Oe]:null}class Xs{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function zu(){return qo}function qo(t){return t.type.prototype.ngOnChanges&&(t.setInput=hh),dh}function dh(){const t=fr(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===At)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function hh(t,n,s,a){const l=fr(t)||function(t,n){return t[ml]=n}(t,{previous:At,current:null}),c=l.current||(l.current={}),g=l.previous,m=this.declaredInputs[s],C=g[m];c[m]=new Xs(C&&C.currentValue,n,g===At),t[a]=n}zu.ngInherit=!0;const ml="__ngSimpleChanges__";function fr(t){return t[ml]||null}let yl;function qu(t){yl=t}function Ft(t){return!!t.listen}const Es={createRenderer:(t,n)=>void 0!==yl?yl:"undefined"!=typeof document?document:void 0};function Bt(t){for(;Array.isArray(t);)t=t[0];return t}function eo(t,n){return Bt(n[t])}function Xn(t,n){return Bt(n[t.index])}function bl(t,n){return t.data[n]}function er(t,n){const s=n[t];return Er(s)?s:s[0]}function Qu(t){return 4==(4&t[2])}function _h(t){return 128==(128&t[2])}function Br(t,n){return null==n?null:t[n]}function wl(t){t[18]=0}function no(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const qe={lFrame:og(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ec(){return qe.bindingsEnabled}function ve(){return qe.lFrame.lView}function ut(){return qe.lFrame.tView}function tc(t){return qe.lFrame.contextLView=t,t[8]}function Lt(){let t=nc();for(;null!==t&&64===t.type;)t=t.parent;return t}function nc(){return qe.lFrame.currentTNode}function Wn(t,n){const s=qe.lFrame;s.currentTNode=t,s.isParent=n}function Il(){return qe.lFrame.isParent}function Dl(){qe.lFrame.isParent=!1}function ro(){return qe.isInCheckNoChangesMode}function Tl(t){qe.isInCheckNoChangesMode=t}function Hi(){return qe.lFrame.bindingIndex++}function Ch(t,n){const s=qe.lFrame;s.bindingIndex=s.bindingRootIndex=t,sc(n)}function sc(t){qe.lFrame.currentDirectiveIndex=t}function ac(){return qe.lFrame.currentQueryIndex}function Is(t){qe.lFrame.currentQueryIndex=t}function Eh(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Ds(t,n,s){if(s&Fe.SkipSelf){let l=n,c=t;for(;!(l=l.parent,null!==l||s&Fe.Host||(l=Eh(c),null===l||(c=c[15],10&l.type))););if(null===l)return!1;n=l,t=c}const a=qe.lFrame=bh();return a.currentTNode=n,a.lView=t,!0}function Ko(t){const n=bh(),s=t[1];qe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function bh(){const t=qe.lFrame,n=null===t?null:t.child;return null===n?og(t):n}function og(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function wh(){const t=qe.lFrame;return qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ag=wh;function Qo(){const t=wh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nn(){return qe.lFrame.selectedIndex}function io(t){qe.lFrame.selectedIndex=t}function ln(){const t=qe.lFrame;return bl(t.tView,t.selectedIndex)}function Sl(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:m,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:I}=c;g&&(t.contentHooks||(t.contentHooks=[])).push(-s,g),m&&((t.contentHooks||(t.contentHooks=[])).push(s,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,m)),C&&(t.viewHooks||(t.viewHooks=[])).push(-s,C),b&&((t.viewHooks||(t.viewHooks=[])).push(s,b),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,b)),null!=I&&(t.destroyHooks||(t.destroyHooks=[])).push(s,I)}}function so(t,n,s){Nl(t,n,3,s)}function Rl(t,n,s,a){(3&t[2])===s&&Nl(t,n,s,a)}function Jo(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Nl(t,n,s,a){const c=null!=a?a:-1,g=n.length-1;let m=0;for(let C=void 0!==a?65535&t[18]:0;C<g;C++)if("number"==typeof n[C+1]){if(m=n[C],null!=a&&m>=a)break}else n[C]<0&&(t[18]+=65536),(m<c||-1==c)&&(lg(t,s,n,C),t[18]=(4294901760&t[18])+C+2),C++}function lg(t,n,s,a){const l=s[a]<0,c=s[a+1],m=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(m)}finally{}}}else try{c.call(m)}finally{}}class Xo{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function dc(t,n,s){const a=Ft(t);let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const g=s[l++],m=s[l++],C=s[l++];a?t.setAttribute(n,m,C,g):n.setAttributeNS(g,m,C)}else{const g=c,m=s[++l];jr(g)?a&&t.setProperty(n,g,m):a?t.setAttribute(n,g,m):n.setAttribute(g,m),l++}}return l}function oo(t){return 3===t||4===t||6===t}function jr(t){return 64===t.charCodeAt(0)}function Zt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?s=l:0===s||Dh(t,s,l,null,-1===s||2===s?n[++a]:null)}}return t}function Dh(t,n,s,a,l){let c=0,g=t.length;if(-1===n)g=-1;else for(;c<t.length;){const m=t[c++];if("number"==typeof m){if(m===n){g=-1;break}if(m>n){g=c-1;break}}}for(;c<t.length;){const m=t[c];if("number"==typeof m)break;if(m===s){if(null===a)return void(null!==l&&(t[c+1]=l));if(a===t[c+1])return void(t[c+2]=l)}c++,null!==a&&c++,null!==l&&c++}-1!==g&&(t.splice(g,0,n),c=g+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==l&&t.splice(c++,0,l)}function ao(t){return-1!==t}function Ss(t){return 32767&t}function ta(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Ah=!0;function na(t){const n=Ah;return Ah=t,n}let Pl=0;function ia(t,n){const s=rn(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Ol(a.data,t),Ol(n,null),Ol(a.blueprint,null));const l=In(t,n),c=t.injectorIndex;if(ao(l)){const g=Ss(l),m=ta(l,n),C=m[1].data;for(let b=0;b<8;b++)n[c+b]=m[g+b]|C[g+b]}return n[c+8]=l,c}function Ol(t,n){t.push(0,0,0,0,0,0,0,0,n)}function rn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function In(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=n;for(;null!==l;){const c=l[1],g=c.type;if(a=2===g?c.declTNode:1===g?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function lo(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(_t)&&(a=s[_t]),null==a&&(a=s[_t]=Pl++);const l=255&a;n.data[t+(l>>5)]|=1<<l}(t,n,s)}function fc(t,n,s){if(s&Fe.Optional)return t;st(n,"NodeInjector")}function Rh(t,n,s,a){if(s&Fe.Optional&&void 0===a&&(a=null),0==(s&(Fe.Self|Fe.Host))){const l=t[9],c=dn(void 0);try{return l?l.get(n,a,s&Fe.Optional):it(n,a,s&Fe.Optional)}finally{dn(c)}}return fc(a,n,s)}function sa(t,n,s,a=Fe.Default,l){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(_t)?t[_t]:void 0;return"number"==typeof n?n>=0?255&n:Dr:n}(s);if("function"==typeof c){if(!Ds(n,t,a))return a&Fe.Host?fc(l,s,a):Rh(n,s,a,l);try{const g=c(a);if(null!=g||a&Fe.Optional)return g;st(s)}finally{ag()}}else if("number"==typeof c){let g=null,m=rn(t,n),C=-1,b=a&Fe.Host?n[16][6]:null;for((-1===m||a&Fe.SkipSelf)&&(C=-1===m?In(t,n):n[m+8],-1!==C&&gc(a,!1)?(g=n[1],m=Ss(C),n=ta(C,n)):m=-1);-1!==m;){const I=n[1];if(Mh(c,m,I.data)){const T=Hr(m,n,s,g,a,b);if(T!==Nh)return T}C=n[m+8],-1!==C&&gc(a,n[1].data[m+8]===b)&&Mh(c,m,n)?(g=I,m=Ss(C),n=ta(C,n)):m=-1}}}return Rh(n,s,a,l)}const Nh={};function Dr(){return new Tr(Lt(),ve())}function Hr(t,n,s,a,l,c){const g=n[1],m=g.data[t+8],I=xl(m,g,s,null==a?Vi(m)&&Ah:a!=g&&0!=(3&m.type),l&Fe.Host&&c===m);return null!==I?uo(n,g,I,m):Nh}function xl(t,n,s,a,l){const c=t.providerIndexes,g=n.data,m=1048575&c,C=t.directiveStart,I=c>>20,R=l?m+I:t.directiveEnd;for(let F=a?m:m+I;F<R;F++){const H=g[F];if(F<C&&s===H||F>=C&&H.type===s)return F}if(l){const F=g[C];if(F&&hr(F)&&F.type===s)return C}return null}function uo(t,n,s,a){let l=t[s];const c=n.data;if(function(t){return t instanceof Xo}(l)){const g=l;g.resolving&&function(t,n){throw new re("200",`Circular dependency in DI detected for ${t}`)}(_e(c[s]));const m=na(g.canSeeViewProviders);g.resolving=!0;const C=g.injectImpl?dn(g.injectImpl):null;Ds(t,a,Fe.Default);try{l=t[s]=g.factory(void 0,c,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:c}=n.type.prototype;if(a){const g=qo(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],n)}finally{null!==C&&dn(C),na(m),g.resolving=!1,ag()}}return l}function Mh(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function gc(t,n){return!(t&Fe.Self||t&Fe.Host&&n)}class Tr{constructor(n,s){this._tNode=n,this._lView=s}get(n,s){return sa(this._tNode,this._lView,n,void 0,s)}}function fi(t){return mt(()=>{const n=t.prototype.constructor,s=n[Oe]||kl(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const c=l[Oe]||kl(l);if(c&&c!==s)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function kl(t){return j(t)?()=>{const n=kl(O(t));return n&&n()}:Cs(t)}function sn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const c=s[l];if(oo(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(c===n)return s[l+1];l+=2}}}return null}(Lt(),t)}const co="__parameters__";function Wi(t,n,s){return mt(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(n);function l(...c){if(this instanceof l)return a.apply(this,c),this;const g=new l(...c);return m.annotation=g,m;function m(C,b,I){const T=C.hasOwnProperty(co)?C[co]:Object.defineProperty(C,co,{value:[]})[co];for(;T.length<=I;)T.push(null);return(T[I]=T[I]||[]).push(g),C}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Rt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ke({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kh=new Rt("AnalyzeForEntryComponents"),pi=Function;function Nt(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Nt(a,n)):n!==t&&n.push(a)}return n}function fn(t,n){t.forEach(s=>Array.isArray(s)?fn(s,n):n(s))}function ca(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ho(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Mn(t,n,s){let a=fa(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let l=t.length;if(l==n)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function Vh(t,n){const s=fa(t,n);if(s>=0)return t[1|s]}function fa(t,n){return function(t,n,s){let a=0,l=t.length>>s;for(;l!==a;){const c=a+(l-a>>1),g=t[c<<s];if(n===g)return c<<s;g>n?l=c:a=c+1}return~(l<<s)}(t,n,1)}const $r={},Ec="__NG_DI_FLAG__",fo="ngTempTokenPath",_g=/\n/gm,po="__source",Gl=z({provide:String,useValue:z});let mi;function go(t){const n=mi;return mi=t,n}function bc(t,n=Fe.Default){if(void 0===mi)throw new Error("inject() must be called from an injection context");return null===mi?it(t,void 0,n):mi.get(t,n&Fe.Optional?null:void 0,n)}function Wt(t,n=Fe.Default){return(Cn||bc)(O(t),n)}function pr(t){const n=[];for(let s=0;s<t.length;s++){const a=O(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,c=Fe.Default;for(let g=0;g<a.length;g++){const m=a[g],C=_o(m);"number"==typeof C?-1===C?l=m.token:c|=C:l=m}n.push(Wt(l,c))}else n.push(Wt(a))}return n}function Wr(t,n){return t[Ec]=n,t.prototype[Ec]=n,t}function _o(t){return t[Ec]}function yo(t,n,s,a){const l=t[fo];throw n[po]&&l.unshift(n[po]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=Z(n);if(Array.isArray(n))l=n.map(Z).join(" -> ");else if("object"==typeof n){let c=[];for(let g in n)if(n.hasOwnProperty(g)){let m=n[g];c.push(g+":"+("string"==typeof m?JSON.stringify(m):Z(m)))}l=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(_g,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[fo]=null,t}const Rs=Wr(Wi("Inject",t=>({token:t})),-1),Ar=Wr(Wi("Optional"),8),Gr=Wr(Wi("SkipSelf"),4);let va;function qi(t){var n;return(null===(n=function(){if(void 0===va&&(va=null,It.trustedTypes))try{va=It.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return va}())||void 0===n?void 0:n.createHTML(t))||t}class Yi{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dc extends Yi{getTypeName(){return"HTML"}}class Cg extends Yi{getTypeName(){return"Style"}}class Kh extends Yi{getTypeName(){return"Script"}}class Eg extends Yi{getTypeName(){return"URL"}}class Qh extends Yi{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof Yi?t.changingThisBreaksApplicationSecurity:t}function Ki(t,n){const s=Jh(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function Jh(t){return t instanceof Yi&&t.getTypeName()||null}function ba(t){return new Dc(t)}function Xh(t){return new Cg(t)}function Tc(t){return new Kh(t)}function ef(t){return new Eg(t)}function bg(t){return new Qh(t)}class wg{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(qi(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Ac{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=qi(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=qi(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let l=s.length-1;0<l;l--){const g=s.item(l).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&n.removeAttribute(g)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Ig=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ql(t){return(t=String(t)).match(Ig)||t.match(Tg)?t:"unsafe:"+t}function Sr(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Qi(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Rc=Sr("area,br,col,hr,img,wbr"),tf=Sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ia=Sr("rp,rt"),wo=Qi(Rc,Qi(tf,Sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qi(Ia,Sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qi(Ia,tf)),Da=Sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kl=Sr("srcset"),sf=Qi(Da,Kl,Sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),of=Sr("script,style,template");class Sg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!wo.hasOwnProperty(s))return this.sanitizedSomething=!0,!of.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let l=0;l<a.length;l++){const c=a.item(l),g=c.name,m=g.toLowerCase();if(!sf.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let C=c.value;Da[m]&&(C=ql(C)),Kl[m]&&(t=C,C=(t=String(t)).split(",").map(n=>ql(n.trim())).join(", ")),this.buf.push(" ",g,'="',Nc(C),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();wo.hasOwnProperty(s)&&!Rc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Nc(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const af=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ql=/([^\#-~ |!])/g;function Nc(t){return t.replace(/&/g,"&amp;").replace(af,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ql,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jl;function Rg(t,n){let s=null;try{Jl=Jl||function(t){const n=new Ac(t);return function(){try{return!!(new window.DOMParser).parseFromString(qi(""),"text/html")}catch(t){return!1}}()?new wg(n):n}(t);let a=n?String(n):"";s=Jl.getInertBodyElement(a);let l=5,c=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=c,c=s.innerHTML,s=Jl.getInertBodyElement(a)}while(a!==c);return qi((new Sg).sanitizeChildren(lf(s)||s))}finally{if(s){const a=lf(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function lf(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();function Xl(t){const n=function(){const t=ve();return t&&t[12]}();return n?n.sanitize(qt.URL,t)||"":Ki(t,"URL")?Pn(t):ql(ce(t))}const Yr="__ngContext__";function bn(t,n){t[Yr]=n}function Oc(t){const n=function(t){return t[Yr]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function y(t){return t.ngOriginalError}function p(t,...n){t.error(...n)}class v{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),l=(t=n)&&t.ngErrorLogger||p;var t;l(this._console,"ERROR",n),s&&l(this._console,"ORIGINAL ERROR",s),a&&l(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(y(n)):null}_findOriginalError(n){let s=n&&y(n);for(;s&&y(s);)s=y(s);return s||null}}const Ma=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function Rr(t){return t instanceof Function?t():t}var Yt=(()=>((Yt=Yt||{})[Yt.Important=1]="Important",Yt[Yt.DashCase=2]="DashCase",Yt))();function Ef(t,n){return undefined(t,n)}function Vc(t){const n=t[3];return cr(n)?n[3]:n}function Pa(t){return gy(t[13])}function wf(t){return gy(t[4])}function gy(t){for(;null!==t&&!cr(t);)t=t[4];return t}function eu(t,n,s,a,l){if(null!=a){let c,g=!1;cr(a)?c=a:Er(a)&&(g=!0,a=a[0]);const m=Bt(a);0===t&&null!==s?null==l?Lg(n,s,m):zn(n,s,m,l||null,!0):1===t&&null!==s?zn(n,s,m,l||null,!0):2===t?function(t,n,s){const a=Ug(t,n);a&&function(t,n,s,a){Ft(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,m,g):3===t&&n.destroyNode(m),null!=c&&function(t,n,s,a,l){const c=s[7];c!==Bt(s)&&eu(n,t,a,c,l);for(let m=10;m<s.length;m++){const C=s[m];vi(C[1],C,t,n,a,c)}}(n,t,c,s,l)}}function If(t,n,s){return Ft(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function ht(t,n){const s=t[9],a=s.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,no(l,-1)),s.splice(a,1)}function kg(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&ht(l,a),n>0&&(t[s-1][4]=a[4]);const c=ho(t,10+n);!function(t,n){vi(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const g=c[19];null!==g&&g.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Oa(t,n){if(!(256&n[2])){const s=n[11];Ft(s)&&s.destroyNode&&vi(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return Df(t[1],t);for(;n;){let s=null;if(Er(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Er(n)&&Df(n[1],n),n=n[3];null===n&&(n=t),Er(n)&&Df(n[1],n),s=n&&n[4]}n=s}}(n)}}function Df(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=n[s[a]];if(!(l instanceof Xo)){const c=s[a+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const m=l[c[g]],C=c[g+1];try{C.call(m)}finally{}}else try{c.call(l)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let l=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const g=s[c+1],m="function"==typeof g?g(n):Bt(n[g]),C=a[l=s[c+2]],b=s[c+3];"boolean"==typeof b?m.removeEventListener(s[c],C,b):b>=0?a[l=b]():a[l=-b].unsubscribe(),c+=2}else{const g=a[l=s[c+1]];s[c].call(g)}if(null!==a){for(let c=l+1;c<a.length;c++)a[c]();n[7]=null}}(t,n),1===n[1].type&&Ft(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&cr(n[3])){s!==n[3]&&ht(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function vy(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Ae.None||l===Ae.Emulated)return null}return Xn(a,s)}(t,n.parent,s)}function zn(t,n,s,a,l){Ft(t)?t.insertBefore(n,s,a,l):n.insertBefore(s,a,l)}function Lg(t,n,s){Ft(t)?t.appendChild(n,s):n.appendChild(s)}function Vg(t,n,s,a,l){null!==a?zn(t,n,s,a,l):Lg(t,n,s)}function Ug(t,n){return Ft(t)?t.parentNode(n):n.parentNode}let wy=function(t,n,s){return 40&t.type?Xn(t,s):null};function Af(t,n,s,a){const l=vy(t,a,n),c=n[11],m=function(t,n,s){return wy(t,n,s)}(a.parent||n[6],a,n);if(null!=l)if(Array.isArray(s))for(let C=0;C<s.length;C++)Vg(c,l,s[C],m,!1);else Vg(c,l,s,m,!1)}function Uc(t,n){if(null!==n){const s=n.type;if(3&s)return Xn(n,t);if(4&s)return Sf(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Uc(t,a);{const l=t[n.index];return cr(l)?Sf(-1,l):Bt(l)}}if(32&s)return Ef(n,t)()||Bt(t[n.index]);{const a=Iy(t,n);return null!==a?Array.isArray(a)?a[0]:Uc(Vc(t[16]),a):Uc(t,n.next)}}return null}function Iy(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Sf(t,n){const s=10+t+1;if(s<n.length){const a=n[s],l=a[1].firstChild;if(null!==l)return Uc(a,l)}return n[7]}function tu(t,n,s,a,l,c,g){for(;null!=s;){const m=a[s.index],C=s.type;if(g&&0===n&&(m&&bn(Bt(m),a),s.flags|=4),64!=(64&s.flags))if(8&C)tu(t,n,s.child,a,l,c,!1),eu(n,t,l,m,c);else if(32&C){const b=Ef(s,a);let I;for(;I=b();)eu(n,t,l,I,c);eu(n,t,l,m,c)}else 16&C?nu(t,n,a,s,l,c):eu(n,t,l,m,c);s=g?s.projectionNext:s.next}}function vi(t,n,s,a,l,c){tu(s,a,t.firstChild,n,l,c,!1)}function nu(t,n,s,a,l,c){const g=s[16],C=g[6].projection[a.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)eu(n,t,l,C[b],c);else tu(t,n,C,g[3],l,c,!0)}function Dy(t,n,s){Ft(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Bc(t,n,s){Ft(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Hg(t,n,s){let a=t.length;for(;;){const l=t.indexOf(n,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const c=n.length;if(l+c===a||t.charCodeAt(l+c)<=32)return l}s=l+1}}const jc="ng-template";function Hc(t,n,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Hg(l.toLowerCase(),n,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function $g(t){return 4===t.type&&t.value!==jc}function Rf(t,n,s){return n===(4!==t.type||s?t.value:jc)}function zE(t,n,s){let a=4;const l=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(oo(t[n]))return n;return t.length}(l);let g=!1;for(let m=0;m<n.length;m++){const C=n[m];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!Rf(t,C,s)||""===C&&1===n.length){if(Nr(a))return!1;g=!0}}else{const b=8&a?C:n[++m];if(8&a&&null!==t.attrs){if(!Hc(t.attrs,b,s)){if(Nr(a))return!1;g=!0}continue}const T=Nf(8&a?"class":C,l,$g(t),s);if(-1===T){if(Nr(a))return!1;g=!0;continue}if(""!==b){let R;R=T>c?"":l[T+1].toLowerCase();const F=8&a?R:null;if(F&&-1!==Hg(F,b,0)||2&a&&b!==R){if(Nr(a))return!1;g=!0}}}}else{if(!g&&!Nr(a)&&!Nr(C))return!1;if(g&&Nr(C))continue;g=!1,a=C|1&a}}return Nr(a)||g}function Nr(t){return 0==(1&t)}function Nf(t,n,s,a){if(null===n)return-1;let l=0;if(a||!s){let c=!1;for(;l<n.length;){const g=n[l];if(g===t)return l;if(3===g||6===g)c=!0;else{if(1===g||2===g){let m=n[++l];for(;"string"==typeof m;)m=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=c?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Wg(t,n,s=!1){for(let a=0;a<n.length;a++)if(zE(t,n[a],s))return!0;return!1}function $c(t,n){return t?":not("+n.trim()+")":n}function KE(t){let n=t[0],s=1,a=2,l="",c=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const m=t[++s];l+="["+g+(m.length>0?'="'+m+'"':"")+"]"}else 8&a?l+="."+g:4&a&&(l+=" "+g);else""!==l&&!Nr(g)&&(n+=$c(c,l),l=""),a=g,c=c||!Nr(a);s++}return""!==l&&(n+=$c(c,l)),n}const nt={};function Ay(t){Gg(ut(),ve(),Nn()+t,ro())}function Gg(t,n,s,a){if(!a)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&so(n,c,s)}else{const c=t.preOrderHooks;null!==c&&Rl(n,c,0,s)}io(s)}function ru(t,n){return t<<17|n<<2}function Mr(t){return t>>17&32767}function Mf(t){return 2|t}function ns(t){return(131068&t)>>2}function zg(t,n){return-131069&t|n<<2}function Pf(t){return 1|t}function ou(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],c=s[a+1];if(-1!==c){const g=t.data[c];Is(l),g.contentQueries(2,n[c],c)}}}function au(t,n,s,a,l,c,g,m,C,b){const I=n.blueprint.slice();return I[0]=l,I[2]=140|a,wl(I),I[3]=I[15]=t,I[8]=s,I[10]=g||t&&t[10],I[11]=m||t&&t[11],I[12]=C||t&&t[12]||null,I[9]=b||t&&t[9]||null,I[6]=c,I[16]=2==n.type?t[16]:I,I}function lu(t,n,s,a,l){let c=t.data[n];if(null===c)c=function(t,n,s,a,l){const c=nc(),g=Il(),C=t.data[n]=function(t,n,s,a,l,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,s,n,a,l);return null===t.firstChild&&(t.firstChild=C),null!==c&&(g?null==c.child&&null!==C.parent&&(c.child=C):null===c.next&&(c.next=C)),C}(t,n,s,a,l),qe.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=l;const g=function(){const t=qe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return Wn(c,!0),c}function So(t,n,s,a){if(0===s)return-1;const l=n.length;for(let c=0;c<s;c++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function Zn(t,n,s){Ko(n);try{const a=t.viewQuery;null!==a&&rd(1,a,s);const l=t.template;null!==l&&Qc(t,n,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ou(t,n),t.staticViewQueries&&rd(2,t.viewQuery,s);const c=t.components;null!==c&&function(t,n){for(let s=0;s<n.length;s++)sD(t,n[s])}(n,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Qo()}}function Fa(t,n,s,a){const l=n[2];if(256==(256&l))return;Ko(n);const c=ro();try{wl(n),function(t){qe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Qc(t,n,s,2,a);const g=3==(3&l);if(!c)if(g){const b=t.preOrderCheckHooks;null!==b&&so(n,b,null)}else{const b=t.preOrderHooks;null!==b&&Rl(n,b,0,null),Jo(n,0)}if(function(t){for(let n=Pa(t);null!==n;n=wf(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const l=s[a],c=l[3];0==(1024&l[2])&&no(c,1),l[2]|=1024}}}(n),function(t){for(let n=Pa(t);null!==n;n=wf(n))for(let s=10;s<n.length;s++){const a=n[s],l=a[1];_h(a)&&Fa(l,a,l.template,a[8])}}(n),null!==t.contentQueries&&ou(t,n),!c)if(g){const b=t.contentCheckHooks;null!==b&&so(n,b)}else{const b=t.contentHooks;null!==b&&Rl(n,b,1),Jo(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)io(~l);else{const c=l,g=s[++a],m=s[++a];Ch(g,c),m(2,n[c])}}}finally{io(-1)}}(t,n);const m=t.components;null!==m&&function(t,n){for(let s=0;s<n.length;s++)E0(t,n[s])}(n,m);const C=t.viewQuery;if(null!==C&&rd(2,C,a),!c)if(g){const b=t.viewCheckHooks;null!==b&&so(n,b)}else{const b=t.viewHooks;null!==b&&Rl(n,b,2),Jo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,no(n[3],-1))}finally{Qo()}}function Oy(t,n,s,a){const l=n[10],c=!ro(),g=Qu(n);try{c&&!g&&l.begin&&l.begin(),g&&Zn(t,n,a),Fa(t,n,s,a)}finally{c&&!g&&l.end&&l.end()}}function Qc(t,n,s,a,l){const c=Nn(),g=2&a;try{io(-1),g&&n.length>20&&Gg(t,n,20,ro()),s(a,l)}finally{io(c)}}function Jc(t,n,s){if(Zo(n)){const l=n.directiveEnd;for(let c=n.directiveStart;c<l;c++){const g=t.data[c];g.contentQueries&&g.contentQueries(1,s[c],c)}}}function Jg(t,n,s){!ec()||(function(t,n,s,a){const l=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||ia(s,n),bn(a,n);const g=s.initialInputs;for(let m=l;m<c;m++){const C=t.data[m],b=hr(C);b&&_0(n,s,C);const I=uo(n,t,m,s);bn(I,n),null!==g&&y0(0,m-l,I,C,0,g),b&&(er(s.index,n)[8]=I)}}(t,n,s,Xn(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,l=s.directiveEnd,g=s.index,m=qe.lFrame.currentDirectiveIndex;try{io(g);for(let C=a;C<l;C++){const b=t.data[C],I=n[C];sc(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Fy(b,I)}}finally{io(-1),sc(m)}}(t,n,s))}function Xg(t,n,s=Xn){const a=n.localNames;if(null!==a){let l=n.index+1;for(let c=0;c<a.length;c+=2){const g=a[c+1],m=-1===g?s(n,t):t[g];t[l++]=m}}}function xy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Lf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Lf(t,n,s,a,l,c,g,m,C,b){const I=20+a,T=I+l,R=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:nt);return s}(I,T),F="function"==typeof b?b():b;return R[1]={type:t,blueprint:R,template:s,queries:null,viewQuery:m,declTNode:n,data:R.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:F,incompleteFirstPass:!1}}function tm(t,n,s,a){const l=Gy(n);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Hf(t).push(a,l.length-1))}function nm(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,l):s[a]=[n,l]}return s}function Pr(t,n,s,a,l,c,g,m){const C=Xn(n,s);let I,b=n.inputs;!m&&null!=b&&(I=b[a])?(La(t,s,I,a,l),Vi(n)&&function(t,n){const s=er(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=g?g(l,n.value||"",a):l,Ft(c)?c.setProperty(C,a,l):jr(a)||(C.setProperty?C.setProperty(a,l):C[a]=l))}function sm(t,n,s,a){let l=!1;if(ec()){const c=function(t,n,s){const a=t.directiveRegistry;let l=null;if(a)for(let c=0;c<a.length;c++){const g=a[c];Wg(s,g.selectors,!1)&&(l||(l=[]),lo(ia(s,n),t,g.type),hr(g)?(Ly(t,s),l.unshift(g)):l.push(g))}return l}(t,n,s),g=null===a?null:{"":-1};if(null!==c){l=!0,Vy(s,t.data.length,c.length);for(let I=0;I<c.length;I++){const T=c[I];T.providersResolver&&T.providersResolver(T)}let m=!1,C=!1,b=So(t,n,c.length,null);for(let I=0;I<c.length;I++){const T=c[I];s.mergedAttrs=Zt(s.mergedAttrs,T.hostAttrs),Uy(t,s,n,b,T),m0(b,T,g),null!==T.contentQueries&&(s.flags|=8),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(s.flags|=128);const R=T.type.prototype;!m&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),m=!0),!C&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),C=!0),b++}!function(t,n){const a=n.directiveEnd,l=t.data,c=n.attrs,g=[];let m=null,C=null;for(let b=n.directiveStart;b<a;b++){const I=l[b],T=I.inputs,R=null===c||$g(n)?null:By(T,c);g.push(R),m=nm(T,b,m),C=nm(I.outputs,b,C)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=g,n.inputs=m,n.outputs=C}(t,s)}g&&function(t,n,s){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const c=s[n[l+1]];if(null==c)throw new re("301",`Export of name '${n[l+1]}' not found!`);a.push(n[l],c)}}}(s,a,g)}return s.mergedAttrs=Zt(s.mergedAttrs,s.attrs),l}function Xc(t,n,s,a,l,c){const g=c.hostBindings;if(g){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const C=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(m)!=C&&m.push(C),m.push(a,l,g)}}function Fy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ly(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function m0(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;hr(n)&&(s[""]=t)}}function Vy(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Uy(t,n,s,a,l){t.data[a]=l;const c=l.factory||(l.factory=Cs(l.type)),g=new Xo(c,hr(l),null);t.blueprint[a]=g,s[a]=g,Xc(t,n,0,a,So(t,s,l.hostVars,nt),l)}function _0(t,n,s){const a=Xn(n,t),l=xy(s),c=t[10],g=nd(t,au(t,l,null,s.onPush?64:16,a,n,c,c.createRenderer(a,s),null,null));t[n.index]=g}function rs(t,n,s,a,l,c){const g=Xn(t,n);!function(t,n,s,a,l,c,g){if(null==c)Ft(t)?t.removeAttribute(n,l,s):n.removeAttribute(l);else{const m=null==g?ce(c):g(c,a||"",l);Ft(t)?t.setAttribute(n,l,m,s):s?n.setAttributeNS(s,l,m):n.setAttribute(l,m)}}(n[11],g,c,t.value,s,a,l)}function y0(t,n,s,a,l,c){const g=c[n];if(null!==g){const m=a.setInput;for(let C=0;C<g.length;){const b=g[C++],I=g[C++],T=g[C++];null!==m?a.setInput(s,T,b,I):s[I]=T}}}function By(t,n){let s=null,a=0;for(;a<n.length;){const l=n[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],n[a+1])),a+=2}else a+=2;else a+=4}return s}function jy(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function E0(t,n){const s=er(n,t);if(_h(s)){const a=s[1];80&s[2]?Fa(a,s,a.template,s[8]):s[5]>0&&Bf(s)}}function Bf(t){for(let a=Pa(t);null!==a;a=wf(a))for(let l=10;l<a.length;l++){const c=a[l];if(1024&c[2]){const g=c[1];Fa(g,c,g.template,c[8])}else c[5]>0&&Bf(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=er(s[a],t);_h(l)&&l[5]>0&&Bf(l)}}function sD(t,n){const s=er(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Zn(a,s,s[8])}function nd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function jf(t){for(;t;){t[2]|=64;const n=Vc(t);if(br(t)&&!n)return t;t=n}return null}function lm(t,n,s){const a=n[10];a.begin&&a.begin();try{Fa(t,n,t.template,s)}catch(l){throw zy(n,l),l}finally{a.end&&a.end()}}function Wy(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Oc(s),l=a[1];Oy(l,a,l.template,s)}}(t[8])}function rd(t,n,s){Is(0),n(t,s)}const I0=(()=>Promise.resolve(null))();function Gy(t){return t[7]||(t[7]=[])}function Hf(t){return t.cleanup||(t.cleanup=[])}function zy(t,n){const s=t[9],a=s?s.get(v,null):null;a&&a.handleError(n)}function La(t,n,s,a,l){for(let c=0;c<s.length;){const g=s[c++],m=s[c++],C=n[g],b=t.data[g];null!==b.setInput?b.setInput(C,l,a,m):C[m]=l}}function Ps(t,n,s){const a=eo(n,t);!function(t,n,s){Ft(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function $f(t,n,s){let a=s?t.styles:null,l=s?t.classes:null,c=0;if(null!==n)for(let g=0;g<n.length;g++){const m=n[g];"number"==typeof m?c=m:1==c?l=$(l,m):2==c&&(a=$(a,m+": "+n[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const cu=new Rt("INJECTOR",-1);class Zy{get(n,s=$r){if(s===$r){const a=new Error(`NullInjectorError: No provider for ${Z(n)}!`);throw a.name="NullInjectorError",a}return s}}const mn=new Rt("Set Injector scope."),id={},Wf={};let sd;function od(){return void 0===sd&&(sd=new Zy),sd}function qy(t,n=null,s=null,a){return new S0(t,s,n||od(),a)}class S0{constructor(n,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&fn(s,m=>this.processProvider(m,n,s)),fn([n],m=>this.processInjectorType(m,[],c)),this.records.set(cu,Va(void 0,this));const g=this.records.get(mn);this.scope=null!=g?g.value:null,this.source=l||("object"==typeof n?null:Z(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=$r,a=Fe.Default){this.assertNotDestroyed();const l=go(this),c=dn(void 0);try{if(!(a&Fe.SkipSelf)){let m=this.records.get(n);if(void 0===m){const C=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Rt)&&yn(n);m=C&&this.injectableDefInScope(C)?Va(ad(n),id):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(a&Fe.Self?od():this.parent).get(n,s=a&Fe.Optional&&s===$r?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[fo]=g[fo]||[]).unshift(Z(n)),l)throw g;return yo(g,n,"R3InjectorError",this.source)}throw g}finally{dn(c),go(l)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,l)=>n.push(Z(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=O(n)))return!1;let l=zs(n);const c=null==l&&n.ngModule||void 0,g=void 0===c?n:c,m=-1!==a.indexOf(g);if(void 0!==c&&(l=zs(c)),null==l)return!1;if(null!=l.imports&&!m){let I;a.push(g);try{fn(l.imports,T=>{this.processInjectorType(T,s,a)&&(void 0===I&&(I=[]),I.push(T))})}finally{}if(void 0!==I)for(let T=0;T<I.length;T++){const{ngModule:R,providers:F}=I[T];fn(F,H=>this.processProvider(H,R,F||V))}}this.injectorDefTypes.add(g);const C=Cs(g)||(()=>new g);this.records.set(g,Va(C,id));const b=l.providers;if(null!=b&&!m){const I=n;fn(b,T=>this.processProvider(T,I,b))}return void 0!==c&&void 0!==n.providers}processProvider(n,s,a){let l=Jr(n=O(n))?n:O(n&&n.provide);const c=cm(t=n)?Va(void 0,t.useValue):Va(Ky(t),id);var t;if(Jr(n)||!0!==n.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=Va(void 0,id,!0),g.factory=()=>pr(g.multi),this.records.set(l,g)),l=n,g.multi.push(n)}this.records.set(l,c)}hydrate(n,s){return s.value===id&&(s.value=Wf,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=O(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function ad(t){const n=yn(t),s=null!==n?n.factory:Cs(t);if(null!==s)return s;if(t instanceof Rt)throw new Error(`Token ${Z(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=function(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${Z(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[_r]||t[xi]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ky(t,n,s){let a;if(Jr(t)){const l=O(t);return Cs(l)||ad(l)}if(cm(t))a=()=>O(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...pr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>Wt(O(t.useExisting));else{const l=O(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Cs(l)||ad(l);a=()=>new l(...pr(t.deps))}return a}function Va(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function cm(t){return null!==t&&"object"==typeof t&&Gl in t}function Jr(t){return"function"==typeof t}const Jy=function(t,n,s){return function(t,n=null,s=null,a){const l=qy(t,n,s,a);return l._resolveInjectorDefTypes(),l}({name:s},n,t,s)};class Ot{static create(n,s){return Array.isArray(n)?Jy(n,s,""):Jy(n.providers,n.parent,n.name||"")}}function mm(t,n){Sl(Oc(t)[1],Lt())}function qf(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let l;if(hr(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(s){a.push(l);const g=t;g.inputs=ks(t.inputs),g.declaredInputs=ks(t.declaredInputs),g.outputs=ks(t.outputs);const m=l.hostBindings;m&&Dn(t,m);const C=l.viewQuery,b=l.contentQueries;if(C&&dv(t,C),b&&hv(t,b),pe(t.inputs,l.inputs),pe(t.declaredInputs,l.declaredInputs),pe(t.outputs,l.outputs),hr(l)&&l.data.animation){const I=t.data;I.animation=(I.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let g=0;g<c.length;g++){const m=c[g];m&&m.ngInherit&&m(t),m===qf&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Zt(l.hostAttrs,s=Zt(s,l.hostAttrs))}}(a)}function ks(t){return t===At?{}:t===V?[]:t}function dv(t,n){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{n(a,l),s(a,l)}:n}function hv(t,n){const s=t.contentQueries;t.contentQueries=s?(a,l,c)=>{n(a,l,c),s(a,l,c)}:n}function Dn(t,n){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{n(a,l),s(a,l)}:n}Ot.THROW_IF_NOT_FOUND=$r,Ot.NULL=new Zy,Ot.\u0275prov=Ke({token:Ot,providedIn:"any",factory:()=>Wt(cu)}),Ot.__NG_ELEMENT_ID__=-1;let Tn=null;function hu(){if(!Tn){const t=It.Symbol;if(t&&t.iterator)Tn=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Tn=a)}}}return Tn}function xr(t){return!!vm(t)&&(Array.isArray(t)||!(t instanceof Map)&&hu()in t)}function vm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fn(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Cm(t,n,s,a){const l=ve();return Fn(l,Hi(),n)&&(ut(),rs(ln(),l,t,n,s,a)),Cm}function Yf(t,n,s,a,l,c,g,m){const C=ve(),b=ut(),I=t+20,T=b.firstCreatePass?function(t,n,s,a,l,c,g,m,C){const b=n.consts,I=lu(n,t,4,g||null,Br(b,m));sm(n,s,I,Br(b,C)),Sl(n,I);const T=I.tViews=Lf(2,I,a,l,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,b);return null!==n.queries&&(n.queries.template(n,I),T.queries=n.queries.embeddedTView(I)),I}(I,b,C,n,s,a,l,c,g):b.data[I];Wn(T,!1);const R=C[11].createComment("");Af(b,C,R,T),bn(R,C),nd(C,C[I]=jy(R,C,R,T)),dr(T)&&Jg(b,C,T),null!=g&&Xg(C,T,m)}function Am(t){return function(t,n){return t[n]}(qe.lFrame.contextLView,20+t)}function Cu(t,n=Fe.Default){const s=ve();return null===s?Wt(t,n):sa(Lt(),s,O(t),n)}function Dt(t,n,s){const a=ve();return Fn(a,Hi(),n)&&Pr(ut(),ln(),a,t,n,a[11],s,!1),Dt}function bt(t,n,s,a,l){const g=l?"class":"style";La(t,s,n.inputs[g],g,a)}function ls(t,n,s,a){const l=ve(),c=ut(),g=20+t,m=l[11],C=l[g]=If(m,n,qe.lFrame.currentNamespace),b=c.firstCreatePass?function(t,n,s,a,l,c,g){const m=n.consts,b=lu(n,t,2,l,Br(m,c));return sm(n,s,b,Br(m,g)),null!==b.attrs&&$f(b,b.attrs,!1),null!==b.mergedAttrs&&$f(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(g,c,l,0,n,s,a):c.data[g];Wn(b,!0);const I=b.mergedAttrs;null!==I&&dc(m,C,I);const T=b.classes;null!==T&&Bc(m,C,T);const R=b.styles;null!==R&&Dy(m,C,R),64!=(64&b.flags)&&Af(c,l,C,b),0===qe.lFrame.elementDepthCount&&bn(C,l),qe.lFrame.elementDepthCount++,dr(b)&&(Jg(c,l,b),Jc(c,b,l)),null!==a&&Xg(l,b)}function xt(){let t=Lt();Il()?Dl():(t=t.parent,Wn(t,!1));const n=t;qe.lFrame.elementDepthCount--;const s=ut();s.firstCreatePass&&(Sl(s,t),Zo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&bt(s,n,ve(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&bt(s,n,ve(),n.stylesWithoutHost,!1)}function ep(t,n,s,a){ls(t,n,s,a),xt()}function tp(t,n,s){const a=ve(),l=ut(),c=t+20,g=l.firstCreatePass?function(t,n,s,a,l){const c=n.consts,g=Br(c,a),m=lu(n,t,8,"ng-container",g);return null!==g&&$f(m,g,!0),sm(n,s,m,Br(c,l)),null!==n.queries&&n.queries.elementStart(n,m),m}(c,l,a,n,s):l.data[c];Wn(g,!0);const m=a[c]=a[11].createComment("");Af(l,a,m,g),bn(m,a),dr(g)&&(Jg(l,a,g),Jc(l,g,a)),null!=s&&Xg(a,g)}function jt(){let t=Lt();const n=ut();Il()?Dl():(t=t.parent,Wn(t,!1)),n.firstCreatePass&&(Sl(n,t),Zo(t)&&n.queries.elementEnd(t))}function qn(){return ve()}function Um(t){return!!t&&"function"==typeof t.then}function np(t){return!!t&&"function"==typeof t.subscribe}const mr=np;function Bm(t,n,s,a){const l=ve(),c=ut(),g=Lt();return function(t,n,s,a,l,c,g,m){const C=dr(a),I=t.firstCreatePass&&Hf(t),T=n[8],R=Gy(n);let F=!0;if(3&a.type||m){const Q=Xn(a,n),Ee=m?m(Q):Q,me=R.length,Ue=m?Ye=>m(Bt(Ye[a.index])):a.index;if(Ft(s)){let Ye=null;if(!m&&C&&(Ye=function(t,n,s,a){const l=t.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const g=l[c];if(g===s&&l[c+1]===a){const m=n[7],C=l[c+2];return m.length>C?m[C]:null}"string"==typeof g&&(c+=2)}return null}(t,n,l,a.index)),null!==Ye)(Ye.__ngLastListenerFn__||Ye).__ngNextListenerFn__=c,Ye.__ngLastListenerFn__=c,F=!1;else{c=vd(a,n,T,c,!1);const Et=s.listen(Ee,l,c);R.push(c,Et),I&&I.push(l,Ue,me,me+1)}}else c=vd(a,n,T,c,!0),Ee.addEventListener(l,c,g),R.push(c),I&&I.push(l,Ue,me,g)}else c=vd(a,n,T,c,!1);const H=a.outputs;let se;if(F&&null!==H&&(se=H[l])){const Q=se.length;if(Q)for(let Ee=0;Ee<Q;Ee+=2){const Un=n[se[Ee]][se[Ee+1]].subscribe(c),gs=R.length;R.push(c,Un),I&&I.push(l,a.index,gs,-(gs+1))}}}(c,l,l[11],g,t,n,!!s,a),Bm}function Mo(t,n,s,a){try{return!1!==s(a)}catch(l){return zy(t,l),!1}}function vd(t,n,s,a,l){return function c(g){if(g===Function)return a;const m=2&t.flags?er(t.index,n):n;0==(32&n[2])&&jf(m);let C=Mo(n,0,a,g),b=c.__ngNextListenerFn__;for(;b;)C=Mo(n,0,b,g)&&C,b=b.__ngNextListenerFn__;return l&&!1===C&&(g.preventDefault(),g.returnValue=!1),C}}function Eu(t=1){return function(t){return(qe.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,qe.lFrame.contextLView))[8]}(t)}function ir(t,n,s,a,l){const c=t[s+1],g=null===n;let m=a?Mr(c):ns(c),C=!1;for(;0!==m&&(!1===C||g);){const I=t[m+1];ub(t[m],n)&&(C=!0,t[m+1]=a?Pf(I):Mf(I)),m=a?Mr(I):ns(I)}C&&(t[s+1]=a?Mf(c):Pf(c))}function ub(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&fa(t,n)>=0}function wd(t,n){return function(t,n,s,a){const l=ve(),c=ut(),g=function(t){const n=qe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);c.firstUpdatePass&&function(t,n,s,a){const l=t.data;if(null===l[s+1]){const c=l[Nn()],g=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(c,a)&&null===n&&!g&&(n=!1),n=function(t,n,s,a){const l=function(t){const n=qe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let c=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(s=wu(s=Dd(null,t,n,s,a),n.attrs,a),c=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==l)if(s=Dd(l,t,n,s,a),null===c){let C=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==ns(a))return t[Mr(a)]}(t,n,a);void 0!==C&&Array.isArray(C)&&(C=Dd(null,t,n,C[1],a),C=wu(C,n.attrs,a),function(t,n,s,a){t[Mr(s?n.classBindings:n.styleBindings)]=a}(t,n,a,C))}else c=function(t,n,s){let a;const l=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<l;c++)a=wu(a,t[c].hostAttrs,s);return wu(a,n.attrs,s)}(t,n,a)}return void 0!==c&&(a?n.residualClasses=c:n.residualStyles=c),s}(l,c,n,a),function(t,n,s,a,l,c){let g=c?n.classBindings:n.styleBindings,m=Mr(g),C=ns(g);t[a]=s;let I,b=!1;if(Array.isArray(s)){const T=s;I=T[1],(null===I||fa(T,I)>0)&&(b=!0)}else I=s;if(l)if(0!==C){const R=Mr(t[m+1]);t[a+1]=ru(R,m),0!==R&&(t[R+1]=zg(t[R+1],a)),t[m+1]=function(t,n){return 131071&t|n<<17}(t[m+1],a)}else t[a+1]=ru(m,0),0!==m&&(t[m+1]=zg(t[m+1],a)),m=a;else t[a+1]=ru(C,0),0===m?m=a:t[C+1]=zg(t[C+1],a),C=a;b&&(t[a+1]=Mf(t[a+1])),ir(t,I,a,!0),ir(t,I,a,!1),function(t,n,s,a,l){const c=l?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&fa(c,n)>=0&&(s[a+1]=Pf(s[a+1]))}(n,I,t,a,c),g=ru(m,C),c?n.classBindings=g:n.styleBindings=g}(l,c,n,s,g,a)}}(c,t,g,a),n!==nt&&Fn(l,g,n)&&function(t,n,s,a,l,c,g,m){if(!(3&n.type))return;const C=t.data,b=C[m+1];Vs(function(t){return 1==(1&t)}(b)?Qm(C,n,s,l,ns(b),g):void 0)||(Vs(c)||function(t){return 2==(2&t)}(b)&&(c=Qm(C,null,s,l,m,g)),function(t,n,s,a,l){const c=Ft(t);if(n)l?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let g=-1===a.indexOf("-")?void 0:Yt.DashCase;if(null==l)c?t.removeStyle(s,a,g):s.style.removeProperty(a);else{const m="string"==typeof l&&l.endsWith("!important");m&&(l=l.slice(0,-10),g|=Yt.Important),c?t.setStyle(s,a,l,g):s.style.setProperty(a,l,m?"important":"")}}}(a,g,eo(Nn(),s),l,c))}(c,c.data[Nn()],l,l[11],t,l[g+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Z(Pn(t)))),t}(n,s),a,g)}(t,n,null,!0),wd}function Dd(t,n,s,a,l){let c=null;const g=s.directiveEnd;let m=s.directiveStylingLast;for(-1===m?m=s.directiveStart:m++;m<g&&(c=n[m],a=wu(a,c.hostAttrs,l),c!==t);)m++;return null!==t&&(s.directiveStylingLast=m),a}function wu(t,n,s){const a=s?1:2;let l=-1;if(null!==n)for(let c=0;c<n.length;c++){const g=n[c];"number"==typeof g?l=g:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mn(t,g,!!s||n[++c]))}return void 0===t?null:t}function Qm(t,n,s,a,l,c){const g=null===n;let m;for(;l>0;){const C=t[l],b=Array.isArray(C),I=b?C[1]:C,T=null===I;let R=s[l+1];R===nt&&(R=T?V:void 0);let F=T?Vh(R,a):I===a?R:void 0;if(b&&!Vs(F)&&(F=Vh(C,a)),Vs(F)&&(m=F,g))return m;const H=t[l+1];l=g?Mr(H):ns(H)}if(null!==n){let C=c?n.residualClasses:n.residualStyles;null!=C&&(m=Vh(C,a))}return m}function Vs(t){return void 0!==t}function Vv(t,n=""){const s=ve(),a=ut(),l=t+20,c=a.firstCreatePass?lu(a,l,1,n,null):a.data[l],g=s[l]=function(t,n){return Ft(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Af(a,s,g,c),Wn(c,!1)}function Ad(t){return Po("",t,""),Ad}function Po(t,n,s){const a=ve(),l=function(t,n,s,a){return Fn(t,Hi(),s)?n+ce(s)+a:nt}(a,t,n,s);return l!==nt&&Ps(a,Nn(),l),Po}function Za(t,n,s){const a=ve();return Fn(a,Hi(),n)&&Pr(ut(),ln(),a,t,n,a[11],s,!0),Za}const qa=void 0;var Nd=["en",[["a","p"],["AM","PM"],qa],[["AM","PM"],qa,qa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qa,"{1} 'at' {0}",qa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Ya={};function Bs(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Vt(n);if(s)return s;const a=n.split("-")[0];if(s=Vt(a),s)return s;if("en"===a)return Nd;throw new Error(`Missing locale data for the locale "${t}".`)}function Qv(t){return Bs(t)[je.PluralCase]}function Vt(t){return t in Ya||(Ya[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),Ya[t]}var je=(()=>((je=je||{})[je.LocaleId=0]="LocaleId",je[je.DayPeriodsFormat=1]="DayPeriodsFormat",je[je.DayPeriodsStandalone=2]="DayPeriodsStandalone",je[je.DaysFormat=3]="DaysFormat",je[je.DaysStandalone=4]="DaysStandalone",je[je.MonthsFormat=5]="MonthsFormat",je[je.MonthsStandalone=6]="MonthsStandalone",je[je.Eras=7]="Eras",je[je.FirstDayOfWeek=8]="FirstDayOfWeek",je[je.WeekendRange=9]="WeekendRange",je[je.DateFormat=10]="DateFormat",je[je.TimeFormat=11]="TimeFormat",je[je.DateTimeFormat=12]="DateTimeFormat",je[je.NumberSymbols=13]="NumberSymbols",je[je.NumberFormats=14]="NumberFormats",je[je.CurrencyCode=15]="CurrencyCode",je[je.CurrencySymbol=16]="CurrencySymbol",je[je.CurrencyName=17]="CurrencyName",je[je.Currencies=18]="Currencies",je[je.Directionality=19]="Directionality",je[je.PluralCase=20]="PluralCase",je[je.ExtraData=21]="ExtraData",je))();const cs="en-US";let Md=cs;function i_(t){Be(t,"Expected localeId to be defined"),"string"==typeof t&&(Md=t.toLowerCase().replace(/_/g,"-"))}function Ru(t,n,s,a,l){if(t=O(t),Array.isArray(t))for(let c=0;c<t.length;c++)Ru(t[c],n,s,a,l);else{const c=ut(),g=ve();let m=Jr(t)?t:O(t.provide),C=Ky(t);const b=Lt(),I=1048575&b.providerIndexes,T=b.directiveStart,R=b.providerIndexes>>20;if(Jr(t)||!t.multi){const F=new Xo(C,l,Cu),H=vp(m,n,l?I:I+R,T);-1===H?(lo(ia(b,g),c,m),g_(c,t,n.length),n.push(m),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),s.push(F),g.push(F)):(s[H]=F,g[H]=F)}else{const F=vp(m,n,I+R,T),H=vp(m,n,I,I+R),se=F>=0&&s[F],Q=H>=0&&s[H];if(l&&!Q||!l&&!se){lo(ia(b,g),c,m);const Ee=function(t,n,s,a,l){const c=new Xo(t,s,Cu);return c.multi=[],c.index=n,c.componentProviders=0,Qa(c,l,a&&!s),c}(l?AC:TC,s.length,l,a,C);!l&&Q&&(s[H].providerFactory=Ee),g_(c,t,n.length,0),n.push(m),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),s.push(Ee),g.push(Ee)}else g_(c,t,F>-1?F:H,Qa(s[l?H:F],C,!l&&a));!l&&a&&Q&&s[H].componentProviders++}}}function g_(t,n,s,a){const l=Jr(n);if(l||function(t){return!!t.useClass}(n)){const g=(n.useClass||n).prototype.ngOnDestroy;if(g){const m=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const C=m.indexOf(s);-1===C?m.push(s,[a,g]):m[C+1].push(a,g)}else m.push(s,g)}}}function Qa(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function vp(t,n,s,a){for(let l=s;l<a;l++)if(n[l]===t)return l;return-1}function TC(t,n,s,a){return Nu(this.multi,[])}function AC(t,n,s,a){const l=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,m=uo(s,s[1],this.providerFactory.index,a);c=m.slice(0,g),Nu(l,c);for(let C=g;C<m.length;C++)c.push(m[C])}else c=[],Nu(l,c);return c}function Nu(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Ep(t,n=[]){return s=>{s.providersResolver=(a,l)=>function(t,n,s){const a=ut();if(a.firstCreatePass){const l=hr(t);Ru(s,a.data,a.blueprint,l,!0),Ru(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class bp{}const Mu="ngComponent";class Zb{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return n[Mu]=t,n}(n)}}class Ja{}function wp(...t){}function Pu(t,n){return new ti(Xn(t,n))}Ja.NULL=new Zb;const __=function(){return Pu(Lt(),ve())};let ti=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=__,t})();function Ip(t){return t instanceof ti?t.nativeElement:t}class ds{}let v_=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Dp(),t})();const Dp=function(){const t=ve(),s=er(Lt().index,t);return function(t){return t[11]}(Er(s)?s:t)};let Xa=(()=>{class t{}return t.\u0275prov=Ke({token:t,providedIn:"root",factory:()=>null}),t})();class Tp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const C_=new Tp("12.2.4");class OC{constructor(){}supports(n){return xr(n)}create(n){return new Ap(n)}}const Qb=(t,n)=>n;class Ap{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Qb}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,l=0,c=null;for(;s||a;){const g=!a||s&&s.currentIndex<Si(a,l,c)?s:a,m=Si(g,l,c),C=g.currentIndex;if(g===a)l--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)l++;else{c||(c=[]);const b=m-l,I=C-l;if(b!=I){for(let R=0;R<b;R++){const F=R<c.length?c[R]:c[R]=0,H=F+R;I<=H&&H<b&&(c[R]=F+1)}c[g.previousIndex]=I-b}}m!==C&&n(g,m,C)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!xr(n))throw new Error(`Error trying to diff '${Z(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,c,g,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)c=n[m],g=this._trackByFn(m,c),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,c,g,m)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,g,m),a=!0),s=s._next}else l=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[hu()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,m=>{g=this._trackByFn(l,m),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,m,g,l)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,g,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,l){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,c,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,c,l)):n=this._addAfter(new kC(s,a),c,l),n}_verifyReinsertion(n,s,a,l){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?n=this._reinsertAfter(c,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,c=n._nextRemoved;return null===l?this._removalsHead=c:l._nextRemoved=c,null===c?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const l=null===s?this._itHead:s._next;return n._next=l,n._prev=s,null===l?this._itTail=n:l._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ou),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ou),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kC{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jb{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Ou{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Jb,this.map.set(s,a)),a.add(n)}get(n,s){const l=this.map.get(n);return l?l.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Si(t,n,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+n+l}class xu{constructor(){}supports(n){return n instanceof Map||vm(n)}create(){return new Xb}}class Xb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||vm(n)))throw new Error(`Error trying to diff '${Z(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,s);const c=l._prev,g=l._next;return c&&(c._next=g),g&&(g._prev=c),l._next=null,l._prev=null,l}const a=new FC(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class FC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sp(){return new Vo([new OC])}let Vo=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Sp()),deps:[[t,new Gr,new Ar]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Ke({token:t,providedIn:"root",factory:Sp}),t})();function LC(){return new ar([new xu])}let ar=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||LC()),deps:[[t,new Gr,new Ar]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Ke({token:t,providedIn:"root",factory:LC}),t})();function Bd(t,n,s,a,l=!1){for(;null!==s;){const c=n[s.index];if(null!==c&&a.push(Bt(c)),cr(c))for(let m=10;m<c.length;m++){const C=c[m],b=C[1].firstChild;null!==b&&Bd(C[1],C,b,a)}const g=s.type;if(8&g)Bd(t,n,s.child,a);else if(32&g){const m=Ef(s,n);let C;for(;C=m();)a.push(C)}else if(16&g){const m=Iy(n,s);if(Array.isArray(m))a.push(...m);else{const C=Vc(n[16]);Bd(C[1],C,m,a,!0)}}s=l?s.projectionNext:s.next}return a}class jd{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Bd(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(cr(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(kg(n,a),ho(s,a))}this._attachedToViewContainer=!1}Oa(this._lView[1],this._lView)}onDestroy(n){tm(this._lView[1],this._lView,null,n)}markForCheck(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){Tl(!0);try{lm(t,n,s)}finally{Tl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,vi(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Rp extends jd{constructor(n){super(n),this._view=n}detectChanges(){Wy(this._view)}checkNoChanges(){!function(t){Tl(!0);try{Wy(t)}finally{Tl(!1)}}(this._view)}get context(){return null}}const VC=function(t){return function(t,n,s){if(Vi(t)&&!s){const a=er(t.index,n);return new jd(a,a)}return 47&t.type?new jd(n[16],n):null}(Lt(),ve(),16==(16&t))};let ew=(()=>{class t{}return t.__NG_ELEMENT_ID__=VC,t})();const nw=[new xu],BC=new Vo([new OC]),Hd=new ar(nw),sw=function(){return Mp(Lt(),ve())};let el=(()=>{class t{}return t.__NG_ELEMENT_ID__=sw,t})();const Np=el,ow=class extends Np{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=au(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),Zn(s,a,n),new jd(a)}};function Mp(t,n){return 4&t.type?new ow(n,t,Pu(t,n)):null}class tl{}class HC{}const aw=function(){return zC(Lt(),ve())};let Pp=(()=>{class t{}return t.__NG_ELEMENT_ID__=aw,t})();const WC=Pp,GC=class extends WC{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const n=In(this._hostTNode,this._hostLView);if(ao(n)){const s=ta(n,this._hostLView),a=Ss(n);return new Tr(s[1].data[a+8],s)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=nl(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const l=n.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(n,s,a,l,c){const g=a||this.parentInjector;if(!c&&null==n.ngModule&&g){const C=g.get(tl,null);C&&(c=C)}const m=n.create(g,l,void 0,c);return this.insert(m.hostView,s),m}insert(n,s){const a=n._lView,l=a[1];if(cr(a[3])){const I=this.indexOf(n);if(-1!==I)this.detach(I);else{const T=a[3],R=new GC(T,T[6],T[3]);R.detach(R.indexOf(n))}}const c=this._adjustIndex(s),g=this._lContainer;!function(t,n,s,a){const l=10+a,c=s.length;a>0&&(s[l-1][4]=n),a<c-10?(n[4]=s[l],ca(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const g=n[17];null!==g&&s!==g&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(g,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(l,a,g,c);const m=Sf(c,g),C=a[11],b=Ug(C,g[7]);return null!==b&&function(t,n,s,a,l,c){a[0]=l,a[6]=n,vi(t,a,s,1,l,c)}(l,g[6],C,a,b,m),n.attachToViewContainerRef(),ca(hs(g),c,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=nl(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=kg(this._lContainer,s);a&&(ho(hs(this._lContainer),s),Oa(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=kg(this._lContainer,s);return a&&null!=ho(hs(this._lContainer),s)?new jd(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function nl(t){return t[8]}function hs(t){return t[8]||(t[8]=[])}function zC(t,n){let s;const a=n[t.index];if(cr(a))s=a;else{let l;if(8&t.type)l=Bt(a);else{const c=n[11];l=c.createComment("");const g=Xn(t,n);zn(c,Ug(c,g),l,function(t,n){return Ft(t)?t.nextSibling(n):n.nextSibling}(c,g),!1)}n[t.index]=s=jy(a,n,l,t),nd(n,s)}return new GC(s,t,n)}const dl={};class k_ extends Ja{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=nn(n);return new Ww(s,this.ngModule)}}function F_(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const sE=new Rt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ma});class Ww extends bp{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(KE).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return F_(this.componentDef.inputs)}get outputs(){return F_(this.componentDef.outputs)}create(n,s,a,l){const c=(l=l||this.ngModule)?function(t,n){return{get:(s,a,l)=>{const c=t.get(s,dl,l);return c!==dl||a===dl?c:n.get(s,a,l)}}}(n,l.injector):n,g=c.get(ds,Es),m=c.get(Xa,null),C=g.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",I=a?function(t,n,s){if(Ft(t))return t.selectRootElement(n,s===Ae.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(C,a,this.componentDef.encapsulation):If(g.createRenderer(null,this.componentDef),b,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(b)),T=this.componentDef.onPush?576:528,R=function(t,n){return{components:[],scheduler:t||Ma,clean:I0,playerHandler:n||null,flags:0}}(),F=Lf(0,null,null,1,0,null,null,null,null,null),H=au(null,F,R,T,null,null,g,C,m,c);let se,Q;Ko(H);try{const Ee=function(t,n,s,a,l,c){const g=s[1];s[20]=t;const C=lu(g,20,2,"#host",null),b=C.mergedAttrs=n.hostAttrs;null!==b&&($f(C,b,!0),null!==t&&(dc(l,t,b),null!==C.classes&&Bc(l,t,C.classes),null!==C.styles&&Dy(l,t,C.styles)));const I=a.createRenderer(t,n),T=au(s,xy(n),null,n.onPush?64:16,s[20],C,a,I,c||null,null);return g.firstCreatePass&&(lo(ia(C,s),g,n.type),Ly(g,C),Vy(C,s.length,1)),nd(s,T),s[20]=T}(I,this.componentDef,H,g,C);if(I)if(a)dc(C,I,["ng-version",C_.full]);else{const{attrs:me,classes:Ue}=function(t){const n=[],s=[];let a=1,l=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===l?""!==c&&n.push(c,t[++a]):8===l&&s.push(c);else{if(!Nr(l))break;l=c}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);me&&dc(C,I,me),Ue&&Ue.length>0&&Bc(C,I,Ue.join(" "))}if(Q=bl(F,20),void 0!==s){const me=Q.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Ye=s[Ue];me.push(null!=Ye?Array.from(Ye):null)}}se=function(t,n,s,a,l){const c=s[1],g=function(t,n,s){const a=Lt();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Uy(t,a,n,So(t,n,1,null),s));const l=uo(n,t,a.directiveStart,a);bn(l,n);const c=Xn(a,n);return c&&bn(c,n),l}(c,s,n);if(a.components.push(g),t[8]=g,l&&l.forEach(C=>C(g,n)),n.contentQueries){const C=Lt();n.contentQueries(1,g,C.directiveStart)}const m=Lt();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(io(m.index),Xc(s[1],m,0,m.directiveStart,m.directiveEnd,n),Fy(n,g)),g}(Ee,this.componentDef,H,R,[mm]),Zn(F,H,null)}finally{Qo()}return new aE(this.componentType,se,Pu(Q,H),H,Q)}}class aE extends class{}{constructor(n,s,a,l,c){super(),this.location=a,this._rootLView=l,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new Rp(l),this.componentType=n}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const hl=new Map;class Yw extends tl{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new k_(this);const a=ur(n),l=n[we]||null;l&&i_(l),this._bootstrapComponents=Rr(a.bootstrap),this._r3Injector=qy(n,s,[{provide:tl,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver}],Z(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Ot.THROW_IF_NOT_FOUND,a=Fe.Default){return n===Ot||n===tl||n===cu?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gp extends HC{constructor(n){super(),this.moduleType=n,null!==ur(n)&&function(t){const n=new Set;!function s(a){const l=ur(a,!0),c=l.id;null!==c&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${Z(n)} vs ${Z(n.name)}`)}(c,hl.get(c),a),hl.set(c,a));const g=Rr(l.imports);for(const m of g)n.has(m)||(n.add(m),s(m))}(t)}(n)}create(n){return new Yw(this.moduleType,n)}}function U_(t){return n=>{setTimeout(t,void 0,n)}}const fs=class extends h.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var l,c,g;let m=n,C=s||(()=>null),b=a;if(n&&"object"==typeof n){const T=n;m=null===(l=T.next)||void 0===l?void 0:l.bind(T),C=null===(c=T.error)||void 0===c?void 0:c.bind(T),b=null===(g=T.complete)||void 0===g?void 0:g.bind(T)}this.__isAsync&&(C=U_(C),m&&(m=U_(m)),b&&(b=U_(b)));const I=super.subscribe({next:m,error:C,complete:b});return n instanceof te.w&&n.add(I),I}};function B_(){return this._results[hu()]()}class zp{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=hu(),a=zp.prototype;a[s]||(a[s]=B_)}get changes(){return this._changes||(this._changes=new fs)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const l=Nt(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],c=n[a];if(s&&(l=s(l),c=s(c)),c!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class r{constructor(n){this.queryList=n,this.matches=null}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}}class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,l=[];for(let c=0;c<a;c++){const g=s.getByIndex(c);l.push(this.queries[g.indexInDeclarationView].clone())}return new e(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==_n(n,s).matches&&this.queries[s].setDirty()}}class o{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class u{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(n,l);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new u(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class f{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new f(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];this.matchTNodeWithReadOption(n,s,_(s,c)),this.matchTNodeWithReadOption(n,s,xl(s,n,c,!1,!1))}else a===el?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,xl(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===ti||l===Pp||l===el&&4&s.type)this.addMatch(s.index,-2);else{const c=xl(s,n,l,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function _(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function w(t,n,s,a){return-1===s?function(t,n){return 11&t.type?Pu(t,n):4&t.type?Mp(t,n):null}(n,t):-2===s?function(t,n,s){return s===ti?Pu(n,t):s===el?Mp(n,t):s===Pp?zC(n,t):void 0}(t,n,a):uo(t,t[1],s,n)}function x(t,n,s,a){const l=n[19].queries[a];if(null===l.matches){const c=t.data,g=s.matches,m=[];for(let C=0;C<g.length;C+=2){const b=g[C];m.push(b<0?null:w(n,c[b],g[C+1],s.metadata.read))}l.matches=m}return l.matches}function L(t,n,s,a){const l=t.queries.getByIndex(s),c=l.matches;if(null!==c){const g=x(t,n,l,s);for(let m=0;m<c.length;m+=2){const C=c[m];if(C>0)a.push(g[m/2]);else{const b=c[m+1],I=n[-C];for(let T=10;T<I.length;T++){const R=I[T];R[17]===R[3]&&L(R[1],R,b,a)}if(null!==I[9]){const T=I[9];for(let R=0;R<T.length;R++){const F=T[R];L(F[1],F,b,a)}}}}}return a}function J(t){const n=ve(),s=ut(),a=ac();Is(a+1);const l=_n(s,a);if(t.dirty&&Qu(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const c=l.crossesNgTemplate?L(s,n,a,[]):x(s,n,l,a);t.reset(c,Ip),t.notifyOnChanges()}return!0}return!1}function De(t,n,s,a){const l=ut();if(l.firstCreatePass){const c=Lt();(function(t,n,s){null===t.queries&&(t.queries=new u),t.queries.track(new f(n,s))})(l,new o(n,s,a),c.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function(t,n,s){const a=new zp(4==(4&s));tm(t,n,a,a.destroy),null===n[19]&&(n[19]=new e),n[19].queries.push(new r(a))}(l,ve(),s)}function We(){return t=ve(),n=ac(),t[19].queries[n].queryList;var t,n}function _n(t,n){return t.queries.getByIndex(n)}const mI=new Rt("Application Initializer");let qp=(()=>{class t{constructor(s){this.appInits=s,this.resolve=wp,this.reject=wp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const c=this.appInits[l]();if(Um(c))s.push(c);else if(mr(c)){const g=new Promise((m,C)=>{c.subscribe({complete:m,error:C})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Wt(mI,8))},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();const nT=new Rt("AppId"),vA={provide:nT,useFactory:function(){return`${_I()}${_I()}${_I()}`},deps:[]};function _I(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rT=new Rt("Platform Initializer"),iT=new Rt("Platform ID"),sT=new Rt("appBootstrapListener");let oT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();const vE=new Rt("LocaleId"),aT=new Rt("DefaultCurrencyCode");class EA{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const yI=function(t){return new Gp(t)},bA=yI,wA=function(t){return Promise.resolve(yI(t))},lT=function(t){const n=yI(t),a=Rr(ur(t).declarations).reduce((l,c)=>{const g=nn(c);return g&&l.push(new Ww(g)),l},[]);return new EA(n,a)},IA=lT,DA=function(t){return Promise.resolve(lT(t))};let H_=(()=>{class t{constructor(){this.compileModuleSync=bA,this.compileModuleAsync=wA,this.compileModuleAndAllComponentsSync=IA,this.compileModuleAndAllComponentsAsync=DA}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();const SA=(()=>Promise.resolve(0))();function vI(t){"undefined"==typeof Zone?SA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Pi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fs(!1),this.onMicrotaskEmpty=new fs(!1),this.onStable=new fs(!1),this.onError=new fs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,n=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,EI(t),t.isCheckStableRunning=!0,CI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),EI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,c,g,m)=>{try{return uT(t),s.invokeTask(l,c,g,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),cT(t)}},onInvoke:(s,a,l,c,g,m,C)=>{try{return uT(t),s.invoke(l,c,g,m,C)}finally{t.shouldCoalesceRunChangeDetection&&n(),cT(t)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,EI(t),CI(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,l){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+l,n,NA,wp,wp);try{return c.runTask(g,s,a)}finally{c.cancelTask(g)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const NA={};function CI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cT(t){t._nesting--,CI(t)}class OA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fs,this.onMicrotaskEmpty=new fs,this.onStable=new fs,this.onError=new fs}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,l){return n.apply(s,a)}}let dT=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),vI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vI(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Wt(Pi))},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})(),hT=(()=>{class t{constructor(){this._applications=new Map,bI.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return bI.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();class xA{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function kA(t){bI=t}let bI=new xA,fT=!0,pT=!1;function wI(){return pT=!0,fT}function FA(){if(pT)throw new Error("Cannot enable prod mode after platform setup.");fT=!1}let Hs;const gT=new Rt("AllowMultipleToken");class $A{constructor(n,s){this.name=n,this.token=s}}function mT(t,n,s=[]){const a=`Platform: ${n}`,l=new Rt(a);return(c=[])=>{let g=_T();if(!g||g.injector.get(gT,!1))if(t)t(s.concat(c).concat({provide:l,useValue:!0}));else{const m=s.concat(c).concat({provide:l,useValue:!0},{provide:mn,useValue:"platform"});!function(t){if(Hs&&!Hs.destroyed&&!Hs.injector.get(gT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hs=t.get(yT);const n=t.get(rT,null);n&&n.forEach(s=>s())}(Ot.create({providers:m,name:a}))}return function(t){const n=_T();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function _T(){return Hs&&!Hs.destroyed?Hs:null}let yT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const m=function(t,n){let s;return s="noop"===t?new OA:("zone.js"===t?void 0:t)||new Pi({enableLongStackTrace:wI(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:Pi,useValue:m}];return m.run(()=>{const b=Ot.create({providers:C,parent:this.injector,name:s.moduleType.name}),I=s.create(b),T=I.injector.get(v,null);if(!T)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const R=m.onError.subscribe({next:F=>{T.handleError(F)}});I.onDestroy(()=>{II(this._modules,I),R.unsubscribe()})}),function(t,n,s){try{const a=s();return Um(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(T,m,()=>{const R=I.injector.get(qp);return R.runInitializers(),R.donePromise.then(()=>(i_(I.injector.get(vE,cs)||cs),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const l=vT({},a);return function(t,n,s){const a=new Gp(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,l))}_moduleDoBootstrap(s){const a=s.injector.get($_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${Z(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Wt(Ot))},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();function vT(t,n){return Array.isArray(n)?n.reduce(vT,t):Object.assign(Object.assign({},t),n)}let $_=(()=>{class t{constructor(s,a,l,c,g){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=c,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new U.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),C=new U.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),vI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ee.T)(m,C.pipe((0,ue.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=s instanceof bp?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const c=function(t){return t.isBoundToModule}(l)?void 0:this._injector.get(tl),m=l.create(Ot.NULL,[],a||l.selector,c),C=m.location.nativeElement,b=m.injector.get(dT,null),I=b&&m.injector.get(hT);return b&&I&&I.registerApplication(C,b),m.onDestroy(()=>{this.detachView(m.hostView),II(this.components,m),I&&I.unregisterApplication(C)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;II(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(sT,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Wt(Pi),Wt(Ot),Wt(v),Wt(Ja),Wt(qp))},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();function II(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class YA{}class QA{}const JA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let XA=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||JA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,l]=s.split("#");return void 0===l&&(l="default"),M(8255)(a).then(c=>c[l]).then(c=>wT(c,a,l)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(s){let[a,l]=s.split("#"),c="NgFactory";return void 0===l&&(l="default",c=""),M(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(g=>g[l+c]).then(g=>wT(g,a,l))}}return t.\u0275fac=function(s){return new(s||t)(Wt(H_),Wt(QA,8))},t.\u0275prov=Ke({token:t,factory:t.\u0275fac}),t})();function wT(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const aS=function(t){return null},uS=mT(null,"core",[{provide:iT,useValue:"unknown"},{provide:yT,deps:[Ot]},{provide:hT,deps:[]},{provide:oT,deps:[]}]),pS=[{provide:$_,useClass:$_,deps:[Pi,Ot,v,Ja,qp]},{provide:sE,deps:[Pi],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:qp,useClass:qp,deps:[[new Ar,mI]]},{provide:H_,useClass:H_,deps:[]},vA,{provide:Vo,useFactory:function(){return BC},deps:[]},{provide:ar,useFactory:function(){return Hd},deps:[]},{provide:vE,useFactory:function(t){return i_(t=t||"undefined"!=typeof $localize&&$localize.locale||cs),t},deps:[[new Rs(vE),new Ar,new Gr]]},{provide:aT,useValue:"USD"}];let mS=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Wt($_))},t.\u0275mod=qs({type:t}),t.\u0275inj=en({providers:pS}),t})()},8939:(xe,ye,M)=>{"use strict";M.d(ye,{hO:()=>j,xv:()=>$,Dh:()=>Z,GT:()=>z,on:()=>P,pX:()=>ue});var h=M(7716),te=M(7841),U=M(9126);xe=M.hmd(xe);const ee=["ngOnDestroy"],ue=(W,re,ne,Ce={})=>new Proxy(W,{get:(ce,_e)=>ne.runOutsideAngular(()=>{var be;if(W[_e])return(null===(be=null==Ce?void 0:Ce.spy)||void 0===be?void 0:be.get)&&Ce.spy.get(_e,W[_e]),W[_e];if(ee.indexOf(_e)>-1)return()=>{};const Te=re.toPromise().then(Ne=>{const st=Ne&&Ne[_e];return"function"==typeof st?st.bind(Ne):st&&st.then?st.then(le=>ne.run(()=>le)):ne.run(()=>st)});return new Proxy(()=>{},{get:(Ne,st)=>Te[st],apply:(Ne,st,le)=>Te.then(vt=>{var et;const oe=vt&&vt(...le);return(null===(et=null==Ce?void 0:Ce.spy)||void 0===et?void 0:et.apply)&&Ce.spy.apply(_e,le,oe),oe})})})}),z=(W,re)=>{re.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(Ce=>{Object.defineProperty(W.prototype,Ce,Object.getOwnPropertyDescriptor(ne.prototype||ne,Ce))})})};class pe{constructor(re){return re}}const Z=new h.OlP("angularfire2.app.options"),$=new h.OlP("angularfire2.app.name");function P(W,re,ne){const ce="object"==typeof ne&&ne||{};ce.name=ce.name||"string"==typeof ne&&ne||"[DEFAULT]";const be=te.Z.apps.filter(Te=>Te&&Te.name===ce.name)[0]||re.runOutsideAngular(()=>te.Z.initializeApp(W,ce));try{JSON.stringify(W)!==JSON.stringify(be.options)&&B("error",`${be.name} Firebase App already initialized with different options${xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new pe(be)}const B=(W,...re)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[W](...re)},O={provide:pe,useFactory:P,deps:[Z,h.R0b,[new h.FiY,$]]};let j=(()=>{class W{constructor(ne){te.Z.registerVersion("angularfire",U.q4.full,"core"),te.Z.registerVersion("angularfire",U.q4.full,"app-compat"),te.Z.registerVersion("angular",h.q4F.full,ne.toString())}static initializeApp(ne,Ce){return{ngModule:W,providers:[{provide:Z,useValue:ne},{provide:$,useValue:Ce}]}}}return W.\u0275fac=function(ne){return new(ne||W)(h.LFG(h.Lbi))},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({providers:[O]}),W})()},9126:(xe,ye,M)=>{"use strict";M.d(ye,{q4:()=>P,iC:()=>oe,HU:()=>Te,cc:()=>j});var h=M(7716);(0,M(5452).registerVersion)("firebase","9.0.1","app");var ue=M(7771),z=M(3637),pe=M(3342),Z=M(3101),$=M(309);xe=M.hmd(xe);const P=new h.GfV("7.0.3"),B=!!xe.hot,O=(ae,...q)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ae](...q)};function j(ae,q,Se,Le,at){const[,ke,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ae)||[];if(ke)return function(ae,q){try{return ae.toString()===q.toString()}catch(Se){return ae===q}}(at,Be)||(O("error",`${q} was already initialized on the ${Se} Firebase App with different settings.${B?" You may need to reload as Firebase is not HMR aware.":""}`),O("warn",{is:at,was:Be})),ke;{const Ge=Le();return globalThis.\u0275AngularfireInstanceCache.push([ae,Ge,at]),Ge}}function ce(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class _e{constructor(q,Se=ue.N){this.zone=q,this.delegate=Se}now(){return this.delegate.now()}schedule(q,Se,Le){const at=this.zone;return this.delegate.schedule(function(Be){at.runGuarded(()=>{q.apply(this,[Be])})},Se,Le)}}class be{constructor(q){this.zone=q,this.task=null}call(q,Se){const Le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)),Se.pipe((0,pe.b)({next:Le,complete:Le,error:Le})).subscribe(q).add(Le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Te=(()=>{class ae{constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=Se.run(()=>new _e(Zone.current,z.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ae.\u0275fac=function(Se){return new(Se||ae)(h.LFG(h.R0b))},ae.\u0275prov=h.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();function Ne(){const ae=globalThis.\u0275AngularFireScheduler;if(!ae)throw new Error("AngularFireModule has not been provided");return ae}function oe(ae){return Ne(),function(ae){return function(Se){return(Se=Se.lift(new be(ae.ngZone))).pipe((0,Z.R)(ae.outsideAngular),(0,$.QV)(ae.insideAngular))}}(Ne())(ae)}},4486:(xe,ye,M)=>{"use strict";M.d(ye,{Z:()=>ne});var h=M(4685),te=M(6034),U=M(5452),ee=M(300);class ue{constructor(ce,_e){this._delegate=ce,this.firebase=_e,(0,U._addComponent)(ce,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ce,_e=U._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(ce);return!Te.isInitialized()&&"EXPLICIT"===(null===(be=Te.getComponent())||void 0===be?void 0:be.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:_e})}_removeServiceInstance(ce,_e=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(_e)}_addComponent(ce){(0,U._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,U._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function $(){const Ce=function(Ce){const ce={},_e={__esModule:!0,initializeApp:function(et,oe={}){const X=U.initializeApp(et,oe);if((0,h.r3)(ce,X.name))return ce[X.name];const ge=new Ce(X,_e);return ce[X.name]=ge,ge},app:Te,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(et){const oe=et.name,X=oe.replace("-compat","");if(U._registerComponent(et)&&"PUBLIC"===et.type){const ge=(de=Te())=>{if("function"!=typeof de[X])throw pe.create("invalid-app-argument",{appName:oe});return de[X]()};void 0!==et.serviceProps&&(0,h.ZB)(ge,et.serviceProps),_e[X]=ge,Ce.prototype[X]=function(...de){return this._getService.bind(this,oe).apply(this,et.multipleInstances?de:[])}}return"PUBLIC"===et.type?_e[X]:null},removeApp:function(et){delete ce[et]},useAsService:function(et,oe){return"serverAuth"===oe?null:oe},modularAPIs:U}};function Te(et){if(!(0,h.r3)(ce,et=et||U._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:et});return ce[et]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(ce).map(et=>ce[et])}}),Te.App=Ce,_e}(ue);return Ce.INTERNAL=Object.assign(Object.assign({},Ce.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(_e){(0,h.ZB)(Ce,_e)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ce}(),B=new ee.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const re=P;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ne=re},5452:(xe,ye,M)=>{"use strict";M.r(ye),M.d(ye,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Gs,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>on,_addOrOverwriteComponent:()=>si,_apps:()=>Be,_clearComponents:()=>en,_components:()=>Ge,_getProvider:()=>Ke,_registerComponent:()=>kt,_removeServiceInstance:()=>oi,deleteApp:()=>xi,getApp:()=>_r,getApps:()=>Oi,initializeApp:()=>zs,onLog:()=>Cn,registerVersion:()=>Fe,setLogLevel:()=>ai});var h=M(8239),te=M(6034),U=M(300),ee=M(4685);class ue{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function(it){const $e=it.getComponent();return"VERSION"===(null==$e?void 0:$e.type)}(mt)){const ct=mt.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(mt=>mt).join(" ")}}const pe="@firebase/app",$=new U.Yd("@firebase/app"),at="[DEFAULT]",ke={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Be=new Map,Ge=new Map;function on(it,$e){try{it.container.addComponent($e)}catch(mt){$.debug(`Component ${$e.name} failed to register with FirebaseApp ${it.name}`,mt)}}function si(it,$e){it.container.addOrOverwriteComponent($e)}function kt(it){const $e=it.name;if(Ge.has($e))return $.debug(`There were multiple attempts to register component ${$e}.`),!1;Ge.set($e,it);for(const mt of Be.values())on(mt,it);return!0}function Ke(it,$e){return it.container.getProvider($e)}function oi(it,$e,mt=at){Ke(it,$e).clearInstance(mt)}function en(){Ge.clear()}const vn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ms{constructor($e,mt,ct){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Gs="9.0.0";function zs(it,$e={}){"object"!=typeof $e&&($e={name:$e});const mt=Object.assign({name:at,automaticDataCollectionEnabled:!1},$e),ct=mt.name;if("string"!=typeof ct||!ct)throw vn.create("bad-app-name",{appName:String(ct)});const En=Be.get(ct);if(En){if((0,ee.vZ)(it,En.options)&&(0,ee.vZ)(mt,En.config))return En;throw vn.create("duplicate-app",{appName:ct})}const Mt=new te.H0(ct);for(const He of Ge.values())Mt.addComponent(He);const Ae=new ms(it,mt,Mt);return Be.set(ct,Ae),Ae}function _r(it=at){const $e=Be.get(it);if(!$e)throw vn.create("no-app",{appName:it});return $e}function Oi(){return Array.from(Be.values())}function xi(it){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(it){const $e=it.name;Be.has($e)&&(Be.delete($e),yield Promise.all(it.container.getProviders().map(mt=>mt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Fe(it,$e,mt){var ct;let En=null!==(ct=ke[it])&&void 0!==ct?ct:it;mt&&(En+=`-${mt}`);const Mt=En.match(/\s|\//),Ae=$e.match(/\s|\//);if(Mt||Ae){const He=[`Unable to register library "${En}" with version "${$e}":`];return Mt&&He.push(`library name "${En}" contains illegal characters (whitespace or "/")`),Mt&&Ae&&He.push("and"),Ae&&He.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void $.warn(He.join(" "))}kt(new te.wA(`${En}-version`,()=>({library:En,version:$e}),"VERSION"))}function Cn(it,$e){if(null!==it&&"function"!=typeof it)throw vn.create("invalid-log-argument");(0,U.Am)(it,$e)}function ai(it){(0,U.Ub)(it)}kt(new te.wA("platform-logger",$e=>new ue($e),"PRIVATE")),Fe(pe,"0.7.0",undefined),Fe("fire-js","")},6034:(xe,ye,M)=>{"use strict";M.d(ye,{wA:()=>U,H0:()=>Z,zt:()=>ue});var h=M(4762),te=M(4685),U=function(){function $(P,B,O){this.name=P,this.instanceFactory=B,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},$.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},$.prototype.setServiceProps=function(P){return this.serviceProps=P,this},$.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},$}(),ee="[DEFAULT]",ue=function(){function $(P,B){this.name=P,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(P){var B=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(B)){var O=new te.BH;if(this.instancesDeferred.set(B,O),this.isInitialized(B)||this.shouldAutoInitialize())try{var j=this.getOrInitializeService({instanceIdentifier:B});j&&O.resolve(j)}catch(W){}}return this.instancesDeferred.get(B).promise},$.prototype.getImmediate=function(P){var B,O=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),j=null!==(B=null==P?void 0:P.optional)&&void 0!==B&&B;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(j)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(W){if(j)return null;throw W}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(P){var B,O;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(be){}try{for(var j=(0,h.XA)(this.instancesDeferred.entries()),W=j.next();!W.done;W=j.next()){var re=(0,h.CR)(W.value,2),Ce=re[1],ce=this.normalizeInstanceIdentifier(re[0]);try{var _e=this.getOrInitializeService({instanceIdentifier:ce});Ce.resolve(_e)}catch(be){}}}catch(be){B={error:be}}finally{try{W&&!W.done&&(O=j.return)&&O.call(j)}finally{if(B)throw B.error}}}},$.prototype.clearInstance=function(P){void 0===P&&(P=ee),this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)},$.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var P;return(0,h.Jh)(this,function(B){switch(B.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(P.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,h.CR)(P.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return B.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(P){return void 0===P&&(P=ee),this.instances.has(P)},$.prototype.getOptions=function(P){return void 0===P&&(P=ee),this.instancesOptions.get(P)||{}},$.prototype.initialize=function(P){var B,O;void 0===P&&(P={});var j=P.options,W=void 0===j?{}:j,re=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(re))throw Error(this.name+"("+re+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:re,options:W});try{for(var Ce=(0,h.XA)(this.instancesDeferred.entries()),ce=Ce.next();!ce.done;ce=Ce.next()){var _e=(0,h.CR)(ce.value,2),Te=_e[1];re===this.normalizeInstanceIdentifier(_e[0])&&Te.resolve(ne)}}catch(st){B={error:st}}finally{try{ce&&!ce.done&&(O=Ce.return)&&O.call(Ce)}finally{if(B)throw B.error}}return ne},$.prototype.onInit=function(P,B){var O,j=this.normalizeInstanceIdentifier(B),W=null!==(O=this.onInitCallbacks.get(j))&&void 0!==O?O:new Set;W.add(P),this.onInitCallbacks.set(j,W);var re=this.instances.get(j);return re&&P(re,j),function(){W.delete(P)}},$.prototype.invokeOnInitCallbacks=function(P,B){var O,j,W=this.onInitCallbacks.get(B);if(W)try{for(var re=(0,h.XA)(W),ne=re.next();!ne.done;ne=re.next()){var Ce=ne.value;try{Ce(P,B)}catch(ce){}}}catch(ce){O={error:ce}}finally{try{ne&&!ne.done&&(j=re.return)&&j.call(re)}finally{if(O)throw O.error}}},$.prototype.getOrInitializeService=function(P){var B=P.instanceIdentifier,O=P.options,j=void 0===O?{}:O,W=this.instances.get(B);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:z(B),options:j}),this.instances.set(B,W),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(W,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,W)}catch(re){}return W||null},$.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=ee),this.component?this.component.multipleInstances?P:ee:P},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function z($){return $===ee?void 0:$}var Z=function(){function $(P){this.name=P,this.providers=new Map}return $.prototype.addComponent=function(P){var B=this.getProvider(P.name);if(B.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);B.setComponent(P)},$.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},$.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var B=new ue(P,this);return this.providers.set(P,B),B},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},300:(xe,ye,M)=>{"use strict";function h(){for(var O=0,j=0,W=arguments.length;j<W;j++)O+=arguments[j].length;var re=Array(O),ne=0;for(j=0;j<W;j++)for(var Ce=arguments[j],ce=0,_e=Ce.length;ce<_e;ce++,ne++)re[ne]=Ce[ce];return re}M.d(ye,{in:()=>ee,Yd:()=>$,Ub:()=>P,Am:()=>B});var te,U=[],ee=(()=>{return(O=ee||(ee={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",ee;var O})(),ue={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},z=ee.INFO,pe=((te={})[ee.DEBUG]="log",te[ee.VERBOSE]="log",te[ee.INFO]="info",te[ee.WARN]="warn",te[ee.ERROR]="error",te),Z=function(O,j){for(var W=[],re=2;re<arguments.length;re++)W[re-2]=arguments[re];if(!(j<O.logLevel)){var ne=(new Date).toISOString(),Ce=pe[j];if(!Ce)throw new Error("Attempted to log a message with an invalid logType (value: "+j+")");console[Ce].apply(console,h(["["+ne+"]  "+O.name+":"],W))}},$=function(){function O(j){this.name=j,this._logLevel=z,this._logHandler=Z,this._userLogHandler=null,U.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(j){if(!(j in ee))throw new TypeError('Invalid value "'+j+'" assigned to `logLevel`');this._logLevel=j},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(j){this._logLevel="string"==typeof j?ue[j]:j},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(j){this._userLogHandler=j},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,h([this,ee.DEBUG],j)),this._logHandler.apply(this,h([this,ee.DEBUG],j))},O.prototype.log=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,h([this,ee.VERBOSE],j)),this._logHandler.apply(this,h([this,ee.VERBOSE],j))},O.prototype.info=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,h([this,ee.INFO],j)),this._logHandler.apply(this,h([this,ee.INFO],j))},O.prototype.warn=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,h([this,ee.WARN],j)),this._logHandler.apply(this,h([this,ee.WARN],j))},O.prototype.error=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,h([this,ee.ERROR],j)),this._logHandler.apply(this,h([this,ee.ERROR],j))},O}();function P(O){U.forEach(function(j){j.setLogLevel(O)})}function B(O,j){for(var W=function(ce){var _e=null;j&&j.level&&(_e=ue[j.level]),ce.userLogHandler=null===O?null:function(be,Te){for(var Ne=[],st=2;st<arguments.length;st++)Ne[st-2]=arguments[st];var le=Ne.map(function(vt){if(null==vt)return null;if("string"==typeof vt)return vt;if("number"==typeof vt||"boolean"==typeof vt)return vt.toString();if(vt instanceof Error)return vt.message;try{return JSON.stringify(vt)}catch(et){return null}}).filter(function(vt){return vt}).join(" ");Te>=(null!=_e?_e:be.logLevel)&&O({level:ee[Te].toLowerCase(),message:le,args:Ne,type:be.name})}},re=0,ne=U;re<ne.length;re++)W(ne[re])}},4685:(xe,ye,M)=>{"use strict";M.d(ye,{BH:()=>W,LL:()=>Se,ZR:()=>q,gQ:()=>xi,hu:()=>U,g5:()=>ee,US:()=>pe,tV:()=>P,h$:()=>Z,r3:()=>oi,Sg:()=>re,ne:()=>_s,p$:()=>B,vZ:()=>ms,ZB:()=>O,gK:()=>$e,pd:()=>Oi,m9:()=>At,z$:()=>ne,GJ:()=>Ke,jU:()=>_e,ru:()=>be,xb:()=>yn,w1:()=>st,hl:()=>oe,uI:()=>Ce,UG:()=>ce,Yr:()=>vt,b$:()=>Te,w9:()=>kt,cI:()=>ke,UI:()=>vn,xO:()=>zs,zd:()=>_r,DV:()=>en,ug:()=>Ae,dS:()=>Mt,Pz:()=>Be,Dv:()=>it,Wj:()=>ct,lb:()=>En});var h=M(4762),U=function(V,k){if(!V)throw ee(k)},ee=function(V){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+V)},ue=function(V){for(var k=[],K=0,ie=0;ie<V.length;ie++){var Y=V.charCodeAt(ie);Y<128?k[K++]=Y:Y<2048?(k[K++]=Y>>6|192,k[K++]=63&Y|128):55296==(64512&Y)&&ie+1<V.length&&56320==(64512&V.charCodeAt(ie+1))?(Y=65536+((1023&Y)<<10)+(1023&V.charCodeAt(++ie)),k[K++]=Y>>18|240,k[K++]=Y>>12&63|128,k[K++]=Y>>6&63|128,k[K++]=63&Y|128):(k[K++]=Y>>12|224,k[K++]=Y>>6&63|128,k[K++]=63&Y|128)}return k},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(V,k){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var K=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[],Y=0;Y<V.length;Y+=3){var we=V[Y],Oe=Y+1<V.length,_t=Oe?V[Y+1]:0,Ct=Y+2<V.length,ot=Ct?V[Y+2]:0,Rn=(15&_t)<<2|ot>>6,li=63&ot;Ct||(li=64,Oe||(Rn=64)),ie.push(K[we>>2],K[(3&we)<<4|_t>>4],K[Rn],K[li])}return ie.join("")},encodeString:function(V,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(V):this.encodeByteArray(ue(V),k)},decodeString:function(V,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(V):function(V){for(var k=[],K=0,ie=0;K<V.length;){var Y=V[K++];if(Y<128)k[ie++]=String.fromCharCode(Y);else if(Y>191&&Y<224){var we=V[K++];k[ie++]=String.fromCharCode((31&Y)<<6|63&we)}else if(Y>239&&Y<365){var Ct=((7&Y)<<18|(63&(we=V[K++]))<<12|(63&(Oe=V[K++]))<<6|63&V[K++])-65536;k[ie++]=String.fromCharCode(55296+(Ct>>10)),k[ie++]=String.fromCharCode(56320+(1023&Ct))}else{we=V[K++];var Oe=V[K++];k[ie++]=String.fromCharCode((15&Y)<<12|(63&we)<<6|63&Oe)}}return k.join("")}(this.decodeStringToByteArray(V,k))},decodeStringToByteArray:function(V,k){this.init_();for(var K=k?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[],Y=0;Y<V.length;){var we=K[V.charAt(Y++)],_t=Y<V.length?K[V.charAt(Y)]:0,ot=++Y<V.length?K[V.charAt(Y)]:64,Sn=++Y<V.length?K[V.charAt(Y)]:64;if(++Y,null==we||null==_t||null==ot||null==Sn)throw Error();ie.push(we<<2|_t>>4),64!==ot&&(ie.push(_t<<4&240|ot>>2),64!==Sn&&ie.push(ot<<6&192|Sn))}return ie},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},Z=function(V){var k=ue(V);return pe.encodeByteArray(k,!0)},$=function(V){return Z(V).replace(/\./g,"")},P=function(V){try{return pe.decodeString(V,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function B(V){return O(void 0,V)}function O(V,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return k}for(var ie in k)!k.hasOwnProperty(ie)||!j(ie)||(V[ie]=O(V[ie],k[ie]));return V}function j(V){return"__proto__"!==V}var W=function(){function V(){var k=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(K,ie){k.resolve=K,k.reject=ie})}return V.prototype.wrapCallback=function(k){var K=this;return function(ie,Y){ie?K.reject(ie):K.resolve(Y),"function"==typeof k&&(K.promise.catch(function(){}),1===k.length?k(ie):k(ie,Y))}},V}();function re(V,k){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ie=k||"demo-project",Y=V.iat||0,we=V.sub||V.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Oe=(0,h.pi)({iss:"https://securetoken.google.com/"+ie,aud:ie,iat:Y,exp:Y+3600,auth_time:Y,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},V);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(Oe)),""].join(".")}function ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function _e(){return"object"==typeof self&&self.self===self}function be(){var V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){var V=ne();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function vt(){return!1}function oe(){return"indexedDB"in self&&null!=indexedDB}var q=function(V){function k(K,ie,Y){var we=V.call(this,ie)||this;return we.code=K,we.customData=Y,we.name="FirebaseError",Object.setPrototypeOf(we,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(we,Se.prototype.create),we}return(0,h.ZT)(k,V),k}(Error),Se=function(){function V(k,K,ie){this.service=k,this.serviceName=K,this.errors=ie}return V.prototype.create=function(k){for(var K=[],ie=1;ie<arguments.length;ie++)K[ie-1]=arguments[ie];var Y=K[0]||{},we=this.service+"/"+k,Oe=this.errors[k],_t=Oe?Le(Oe,Y):"Error",Ct=this.serviceName+": "+_t+" ("+we+").",ot=new q(we,Ct,Y);return ot},V}();function Le(V,k){return V.replace(at,function(K,ie){var Y=k[ie];return null!=Y?String(Y):"<"+ie+"?>"})}var at=/\{\$([^}]+)}/g;function ke(V){return JSON.parse(V)}function Be(V){return JSON.stringify(V)}var Ge=function(V){var k={},K={},ie={},Y="";try{var we=V.split(".");k=ke(P(we[0])||""),K=ke(P(we[1])||""),Y=we[2],ie=K.d||{},delete K.d}catch(Oe){}return{header:k,claims:K,data:ie,signature:Y}},kt=function(V){var K=Ge(V).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Ke=function(V){var k=Ge(V).claims;return"object"==typeof k&&!0===k.admin};function oi(V,k){return Object.prototype.hasOwnProperty.call(V,k)}function en(V,k){if(Object.prototype.hasOwnProperty.call(V,k))return V[k]}function yn(V){for(var k in V)if(Object.prototype.hasOwnProperty.call(V,k))return!1;return!0}function vn(V,k,K){var ie={};for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(ie[Y]=k.call(K,V[Y],Y,V));return ie}function ms(V,k){if(V===k)return!0;for(var K=Object.keys(V),ie=Object.keys(k),Y=0,we=K;Y<we.length;Y++){if(!ie.includes(Oe=we[Y]))return!1;var _t=V[Oe],Ct=k[Oe];if(Gs(_t)&&Gs(Ct)){if(!ms(_t,Ct))return!1}else if(_t!==Ct)return!1}for(var ot=0,tn=ie;ot<tn.length;ot++){var Oe;if(!K.includes(Oe=tn[ot]))return!1}return!0}function Gs(V){return null!==V&&"object"==typeof V}function zs(V){for(var k=[],K=function(Ct,ot){Array.isArray(ot)?ot.forEach(function(tn){k.push(encodeURIComponent(Ct)+"="+encodeURIComponent(tn))}):k.push(encodeURIComponent(Ct)+"="+encodeURIComponent(ot))},ie=0,Y=Object.entries(V);ie<Y.length;ie++){var we=Y[ie];K(we[0],we[1])}return k.length?"&"+k.join("&"):""}function _r(V){var k={};return V.replace(/^\?/,"").split("&").forEach(function(ie){if(ie){var Y=ie.split("="),Oe=Y[1];k[decodeURIComponent(Y[0])]=decodeURIComponent(Oe)}}),k}function Oi(V){var k=V.indexOf("?");if(!k)return"";var K=V.indexOf("#",k);return V.substring(k,K>0?K:void 0)}var xi=function(){function V(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var k=1;k<this.blockSize;++k)this.pad_[k]=0;this.reset()}return V.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},V.prototype.compress_=function(k,K){K||(K=0);var ie=this.W_;if("string"==typeof k)for(var Y=0;Y<16;Y++)ie[Y]=k.charCodeAt(K)<<24|k.charCodeAt(K+1)<<16|k.charCodeAt(K+2)<<8|k.charCodeAt(K+3),K+=4;else for(Y=0;Y<16;Y++)ie[Y]=k[K]<<24|k[K+1]<<16|k[K+2]<<8|k[K+3],K+=4;for(Y=16;Y<80;Y++)ie[Y]=4294967295&((we=ie[Y-3]^ie[Y-8]^ie[Y-14]^ie[Y-16])<<1|we>>>31);var Sn,Rn,Oe=this.chain_[0],_t=this.chain_[1],Ct=this.chain_[2],ot=this.chain_[3],tn=this.chain_[4];for(Y=0;Y<80;Y++){Y<40?Y<20?(Sn=ot^_t&(Ct^ot),Rn=1518500249):(Sn=_t^Ct^ot,Rn=1859775393):Y<60?(Sn=_t&Ct|ot&(_t|Ct),Rn=2400959708):(Sn=_t^Ct^ot,Rn=3395469782);var we=(Oe<<5|Oe>>>27)+Sn+tn+Rn+ie[Y]&4294967295;tn=ot,ot=Ct,Ct=4294967295&(_t<<30|_t>>>2),_t=Oe,Oe=we}this.chain_[0]=this.chain_[0]+Oe&4294967295,this.chain_[1]=this.chain_[1]+_t&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+ot&4294967295,this.chain_[4]=this.chain_[4]+tn&4294967295},V.prototype.update=function(k,K){if(null!=k){void 0===K&&(K=k.length);for(var ie=K-this.blockSize,Y=0,we=this.buf_,Oe=this.inbuf_;Y<K;){if(0===Oe)for(;Y<=ie;)this.compress_(k,Y),Y+=this.blockSize;if("string"==typeof k){for(;Y<K;)if(we[Oe]=k.charCodeAt(Y),++Y,++Oe===this.blockSize){this.compress_(we),Oe=0;break}}else for(;Y<K;)if(we[Oe]=k[Y],++Y,++Oe===this.blockSize){this.compress_(we),Oe=0;break}}this.inbuf_=Oe,this.total_+=K}},V.prototype.digest=function(){var k=[],K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&K,K/=256;this.compress_(this.buf_);var Y=0;for(ie=0;ie<5;ie++)for(var we=24;we>=0;we-=8)k[Y]=this.chain_[ie]>>we&255,++Y;return k},V}();function _s(V,k){var K=new Fe(V,k);return K.subscribe.bind(K)}var Fe=function(){function V(k,K){var ie=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(function(){k(ie)}).catch(function(Y){ie.error(Y)})}return V.prototype.next=function(k){this.forEachObserver(function(K){K.next(k)})},V.prototype.error=function(k){this.forEachObserver(function(K){K.error(k)}),this.close(k)},V.prototype.complete=function(){this.forEachObserver(function(k){k.complete()}),this.close()},V.prototype.subscribe=function(k,K,ie){var we,Y=this;if(void 0===k&&void 0===K&&void 0===ie)throw new Error("Missing Observer.");void 0===(we=function(V,k){if("object"!=typeof V||null===V)return!1;for(var K=0,ie=["next","error","complete"];K<ie.length;K++){var Y=ie[K];if(Y in V&&"function"==typeof V[Y])return!0}return!1}(k)?k:{next:k,error:K,complete:ie}).next&&(we.next=dn),void 0===we.error&&(we.error=dn),void 0===we.complete&&(we.complete=dn);var Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Y.finalError?we.error(Y.finalError):we.complete()}catch(_t){}}),this.observers.push(we),Oe},V.prototype.unsubscribeOne=function(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},V.prototype.forEachObserver=function(k){if(!this.finalized)for(var K=0;K<this.observers.length;K++)this.sendOne(K,k)},V.prototype.sendOne=function(k,K){var ie=this;this.task.then(function(){if(void 0!==ie.observers&&void 0!==ie.observers[k])try{K(ie.observers[k])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})},V.prototype.close=function(k){var K=this;this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(function(){K.observers=void 0,K.onNoObservers=void 0}))},V}();function dn(){}var it=function(V,k,K,ie){var Y;if(ie<k?Y="at least "+k:ie>K&&(Y=0===K?"none":"no more than "+K),Y)throw new Error(V+" failed: Was called with "+ie+(1===ie?" argument.":" arguments.")+" Expects "+Y+".")};function $e(V,k){return V+" failed: "+k+" argument "}function ct(V,k,K,ie){if((!ie||K)&&"function"!=typeof K)throw new Error($e(V,k)+"must be a valid function.")}function En(V,k,K,ie){if((!ie||K)&&("object"!=typeof K||null===K))throw new Error($e(V,k)+"must be a valid context object.")}var Mt=function(V){for(var k=[],K=0,ie=0;ie<V.length;ie++){var Y=V.charCodeAt(ie);if(Y>=55296&&Y<=56319){var we=Y-55296;ie++,U(ie<V.length,"Surrogate pair missing trail surrogate."),Y=65536+(we<<10)+(V.charCodeAt(ie)-56320)}Y<128?k[K++]=Y:Y<2048?(k[K++]=Y>>6|192,k[K++]=63&Y|128):Y<65536?(k[K++]=Y>>12|224,k[K++]=Y>>6&63|128,k[K++]=63&Y|128):(k[K++]=Y>>18|240,k[K++]=Y>>12&63|128,k[K++]=Y>>6&63|128,k[K++]=63&Y|128)}return k},Ae=function(V){for(var k=0,K=0;K<V.length;K++){var ie=V.charCodeAt(K);ie<128?k++:ie<2048?k+=2:ie>=55296&&ie<=56319?(k+=4,K++):k+=3}return k};function At(V){return V&&V._delegate?V._delegate:V}},7841:(xe,ye,M)=>{"use strict";M.d(ye,{Z:()=>h.Z});var h=M(4486);h.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(xe,ye,M)=>{"use strict";M.r(ye);var h=M(8239),te=M(4486),U=M(4685),ee=M(5452),ue=M(4762),z=M(300),pe=M(6034);const re=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new z.Yd("@firebase/auth");function be(y,...d){_e.logLevel<=z.in.ERROR&&_e.error(`Auth (${ee.SDK_VERSION}): ${y}`,...d)}function Te(y,...d){throw st(y,...d)}function Ne(y,...d){return st(y,...d)}function st(y,...d){if("string"!=typeof y){const p=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return Ce.create(y,...d)}function le(y,d,...p){if(!y)throw st(d,...p)}function vt(y){const d="INTERNAL ASSERTION FAILED: "+y;throw be(d),new Error(d)}function et(y,d){y||vt(d)}const oe=new Map;function X(y){et(y instanceof Function,"Expected a class definition");let d=oe.get(y);return d?(et(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,oe.set(y,d),d)}function ae(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function q(){return"http:"===Se()||"https:"===Se()}function Se(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ke{constructor(d,p){this.shortDelay=d,this.longDelay=p,et(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(q()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Be(y,d){et(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Ge{static initialize(d,p,v){this.fetchImpl=d,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},si=new ke(3e4,6e4);function kt(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Ke(y,d,p,v){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(y,d,p,v,D={}){return en(y,D,()=>{let S={},G={};v&&("GET"===d?G=v:S={body:JSON.stringify(v)});const he=(0,U.xO)(Object.assign({key:y.config.apiKey},G)).slice(1),Ie=new(Ge.headers());return Ie.set("Content-Type","application/json"),Ie.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Ie.set("X-Firebase-Locale",y.languageCode),Ge.fetch()(Gs(y,y.config.apiHost,p,he),Object.assign({method:d,headers:Ie,referrerPolicy:"no-referrer"},S))})})).apply(this,arguments)}function en(y,d,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(y,d,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},on),d);try{const D=new zs(y),S=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const G=yield S.json();if("needConfirmation"in G)throw _r(y,"account-exists-with-different-credential",G);if(S.ok&&!("errorMessage"in G))return G;{const Ie=(S.ok?G.errorMessage:G.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ie)throw _r(y,"credential-already-in-use",G);if("EMAIL_EXISTS"===Ie)throw _r(y,"email-already-in-use",G);Te(y,v[Ie]||Ie.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(D){if(D instanceof U.ZR)throw D;Te(y,"network-request-failed")}})).apply(this,arguments)}function vn(y,d,p,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(y,d,p,v,D={}){const S=yield Ke(y,d,p,v,D);return"mfaPendingCredential"in S&&Te(y,"multi-factor-auth-required",{serverResponse:S}),S})).apply(this,arguments)}function Gs(y,d,p,v){const D=`${d}${p}?${v}`;return y.config.emulator?Be(y.config,D):`${y.config.apiScheme}://${D}`}class zs{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(Ne(this.auth,"timeout")),si.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _r(y,d,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const D=Ne(y,d,v);return D.customData._tokenResponse=p,D}function xi(){return(xi=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function _s(y,d){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Cn(y,d){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function dn(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function mt(){return(mt=(0,h.Z)(function*(y,d=!1){const p=(0,U.m9)(y),v=yield p.getIdToken(d),D=En(v);le(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const S="object"==typeof D.firebase?D.firebase:void 0,G=null==S?void 0:S.sign_in_provider;return{claims:D,token:v,authTime:dn(ct(D.auth_time)),issuedAtTime:dn(ct(D.iat)),expirationTime:dn(ct(D.exp)),signInProvider:G||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function ct(y){return 1e3*Number(y)}function En(y){const[d,p,v]=y.split(".");if(void 0===d||void 0===p||void 0===v)return be("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,U.tV)(p);return D?JSON.parse(D):(be("Failed to decode base64 JWT payload"),null)}catch(D){return be("Caught error parsing JWT payload as JSON",D),null}}function Ae(y,d){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(v){throw v instanceof U.ZR&&Uu(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Uu({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Zs{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,h.Z)(function*(){yield p.iteration()}),v)}iteration(){var d=this;return(0,h.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&d.schedule(!0))}d.schedule()})()}}class lr{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function It(y){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(y){var d;const p=y.auth,v=yield y.getIdToken(),D=yield Ae(y,Cn(p,{idToken:v}));le(null==D?void 0:D.users.length,p,"internal-error");const S=D.users[0];y._notifyReloadListener(S);const G=(null===(d=S.providerUserInfo)||void 0===d?void 0:d.length)?k(S.providerUserInfo):[],he=V(y.providerData,G),Ve=!!y.isAnonymous&&!(y.email&&S.passwordHash||(null==he?void 0:he.length)),Me={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:he,metadata:new lr(S.createdAt,S.lastLoginAt),isAnonymous:Ve};Object.assign(y,Me)})).apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(y){const d=(0,U.m9)(y);yield It(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function V(y,d){return[...y.filter(v=>!d.some(D=>D.providerId===v.providerId)),...d]}function k(y){return y.map(d=>{var{providerId:p}=d,v=(0,ue._T)(d,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ie(){return(ie=(0,h.Z)(function*(y,d){const p=yield en(y,{},()=>{const v=(0,U.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:D,apiKey:S}=y.config,G=Gs(y,D,"/v1/token",`key=${S}`);return Ge.fetch()(G,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:v})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){le(d.idToken,"internal-error"),le(void 0!==d.idToken,"internal-error"),le(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(y){const d=En(y);return le(d,"internal-error"),le(void 0!==d.exp,"internal-error"),le(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var v=this;return(0,h.Z)(function*(){return le(!v.accessToken||v.refreshToken,d,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var v=this;return(0,h.Z)(function*(){const{accessToken:D,refreshToken:S,expiresIn:G}=yield function(y,d){return ie.apply(this,arguments)}(d,p);v.updateTokensAndExpiration(D,S,Number(G))})()}updateTokensAndExpiration(d,p,v){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,p){const{refreshToken:v,accessToken:D,expirationTime:S}=p,G=new Y;return v&&(le("string"==typeof v,"internal-error",{appName:d}),G.refreshToken=v),D&&(le("string"==typeof D,"internal-error",{appName:d}),G.accessToken=D),S&&(le("number"==typeof S,"internal-error",{appName:d}),G.expirationTime=S),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return vt("not implemented")}}function we(y,d){le("string"==typeof y||void 0===y,"internal-error",{appName:d})}class Oe{constructor(d){var{uid:p,auth:v,stsTokenManager:D}=d,S=(0,ue._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.metadata=new lr(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,h.Z)(function*(){const v=yield Ae(p,p.stsTokenManager.getToken(p.auth,d));return le(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(d){return function(y){return mt.apply(this,arguments)}(this,d)}reload(){return function(y){return At.apply(this,arguments)}(this)}_assign(d){this!==d&&(le(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Oe(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var v=this;return(0,h.Z)(function*(){let D=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),D=!0),p&&(yield It(v)),yield v.auth._persistUserIfCurrent(v),D&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,h.Z)(function*(){const p=yield d.getIdToken();return yield Ae(d,function(y,d){return xi.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var v,D,S,G,he,Ie,Pe,Ve;const Me=null!==(v=p.displayName)&&void 0!==v?v:void 0,Gt=null!==(D=p.email)&&void 0!==D?D:void 0,rr=null!==(S=p.phoneNumber)&&void 0!==S?S:void 0,Na=null!==(G=p.photoURL)&&void 0!==G?G:void 0,Pg=null!==(he=p.tenantId)&&void 0!==he?he:void 0,Ma=null!==(Ie=p._redirectEventId)&&void 0!==Ie?Ie:void 0,mf=null!==(Pe=p.createdAt)&&void 0!==Pe?Pe:void 0,_f=null!==(Ve=p.lastLoginAt)&&void 0!==Ve?Ve:void 0,{uid:Lc,emailVerified:Ji,isAnonymous:Rr,providerData:yf,stsTokenManager:vf}=p;le(Lc&&vf,d,"internal-error");const Cf=Y.fromJSON(this.name,vf);le("string"==typeof Lc,d,"internal-error"),we(Me,d.name),we(Gt,d.name),le("boolean"==typeof Ji,d,"internal-error"),le("boolean"==typeof Rr,d,"internal-error"),we(rr,d.name),we(Na,d.name),we(Pg,d.name),we(Ma,d.name),we(mf,d.name),we(_f,d.name);const Xi=new Oe({uid:Lc,auth:d,email:Gt,emailVerified:Ji,displayName:Me,isAnonymous:Rr,photoURL:Na,phoneNumber:rr,tenantId:Pg,stsTokenManager:Cf,createdAt:mf,lastLoginAt:_f});return yf&&Array.isArray(yf)&&(Xi.providerData=yf.map(Yt=>Object.assign({},Yt))),Ma&&(Xi._redirectEventId=Ma),Xi}static _fromIdTokenResponse(d,p,v=!1){return(0,h.Z)(function*(){const D=new Y;D.updateFromServerResponse(p);const S=new Oe({uid:p.localId,auth:d,stsTokenManager:D,isAnonymous:v});return yield It(S),S})()}}const Ct=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(p,v){var D=this;return(0,h.Z)(function*(){D.storage[p]=v})()}_get(p){var v=this;return(0,h.Z)(function*(){const D=v.storage[p];return void 0===D?null:D})()}_remove(p){var v=this;return(0,h.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function ot(y,d,p){return`firebase:${y}:${d}:${p}`}class tn{constructor(d,p,v){this.persistence=d,this.auth=p,this.userKey=v;const{config:D,name:S}=this.auth;this.fullUserKey=ot(this.userKey,D.apiKey,S),this.fullPersistenceKey=ot("persistence",D.apiKey,S),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,h.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Oe._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,h.Z)(function*(){if(p.persistence===d)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,v="authUser"){return(0,h.Z)(function*(){if(!p.length)return new tn(X(Ct),d,v);const D=(yield Promise.all(p.map(function(){var Pe=(0,h.Z)(function*(Ve){if(yield Ve._isAvailable())return Ve});return function(Ve){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let S=D[0]||X(Ct);const G=ot(v,d.config.apiKey,d.name);let he=null;for(const Pe of p)try{const Ve=yield Pe._get(G);if(Ve){const Me=Oe._fromJSON(d,Ve);Pe!==S&&(he=Me),S=Pe;break}}catch(Ve){}const Ie=D.filter(Pe=>Pe._shouldAllowMigration);return S._shouldAllowMigration&&Ie.length?(S=Ie[0],he&&(yield S._set(G,he.toJSON())),yield Promise.all(p.map(function(){var Pe=(0,h.Z)(function*(Ve){if(Ve!==S)try{yield Ve._remove(G)}catch(Me){}});return function(Ve){return Pe.apply(this,arguments)}}())),new tn(S,d,v)):new tn(S,d,v)})()}}function Sn(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Bu(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Rn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(pl(d))return"Blackberry";if(ju(d))return"Webos";if(li(d))return"Safari";if((d.includes("chrome/")||qs(d))&&!d.includes("edge/"))return"Chrome";if(Ys(d))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Rn(y=(0,U.z$)()){return/firefox\//i.test(y)}function li(y=(0,U.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function qs(y=(0,U.z$)()){return/crios\//i.test(y)}function Bu(y=(0,U.z$)()){return/iemobile/i.test(y)}function Ys(y=(0,U.z$)()){return/android/i.test(y)}function pl(y=(0,U.z$)()){return/blackberry/i.test(y)}function ju(y=(0,U.z$)()){return/webos/i.test(y)}function nn(y=(0,U.z$)()){return/iphone|ipad|ipod/i.test(y)}function sh(y=(0,U.z$)()){return nn(y)||Ys(y)||ju(y)||pl(y)||/windows phone/i.test(y)||Bu(y)}function Re(y,d=[]){let p;switch(y){case"Browser":p=Sn((0,U.z$)());break;case"Worker":p=`${Sn((0,U.z$)())}-${y}`;break;default:p=y}const v=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ee.SDK_VERSION}/${v}`}class lt{constructor(d,p){this.app=d,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jn(this),this.idTokenSubscription=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(d,p){var v=this;return p&&(this._popupRedirectResolver=X(p)),this._initializationPromise=this.queue((0,h.Z)(function*(){var D;v._deleted||(v.persistenceManager=yield tn.create(v,d),!v._deleted&&((null===(D=v._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield v._popupRedirectResolver._initialize(v)),yield v.initializeCurrentUser(p),!v._deleted&&(v._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,h.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p)}})()}initializeCurrentUser(d){var p=this;return(0,h.Z)(function*(){var v;let D=yield p.assertedPersistence.getCurrentUser();if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const S=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,G=null==D?void 0:D._redirectEventId,he=yield p.tryRedirectSignIn(d);(!S||S===G)&&(null==he?void 0:he.user)&&(D=he.user)}return D?D._redirectEventId?(le(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===D._redirectEventId?p.directlySetCurrentUser(D):p.reloadAndSetCurrentUserOrClear(D)):p.reloadAndSetCurrentUserOrClear(D):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var p=this;return(0,h.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(D){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,h.Z)(function*(){try{yield It(d)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,h.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,h.Z)(function*(){const v=d?(0,U.m9)(d):null;return v&&le(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,h.Z)(function*(){if(!p._deleted)return d&&le(p.tenantId===d.tenantId,p,"tenant-id-mismatch"),p.queue((0,h.Z)(function*(){yield p.directlySetCurrentUser(d),p.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,h.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var p=this;return this.queue((0,h.Z)(function*(){yield p.assertedPersistence.setPersistence(X(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new U.LL("auth","Firebase",d())}onAuthStateChanged(d,p,v){return this.registerStateListener(this.authStateSubscription,d,p,v)}onIdTokenChanged(d,p,v){return this.registerStateListener(this.idTokenSubscription,d,p,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var v=this;return(0,h.Z)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(p);return null===d?D.removeCurrentUser():D.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,h.Z)(function*(){if(!p.redirectPersistenceManager){const v=d&&X(d)||p._popupRedirectResolver;le(v,p,"argument-error"),p.redirectPersistenceManager=yield tn.create(p,[X(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,h.Z)(function*(){var v,D;return p._isInitialized&&(yield p.queue((0,h.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===d?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,h.Z)(function*(){if(d===p.currentUser)return p.queue((0,h.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,v,D){if(this._deleted)return()=>{};const S="function"==typeof p?p:p.next.bind(p),G=this._isInitialized?Promise.resolve():this._initializationPromise;return le(G,this,"internal-error"),G.then(()=>S(this.currentUser)),"function"==typeof p?d.addObserver(p,v,D):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,h.Z)(function*(){p.currentUser&&p.currentUser!==d&&(p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh()),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function tt(y){return(0,U.m9)(y)}class jn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,U.ne)(p=>this.observer=p)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function un(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function zt(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class Cr{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return vt("not implemented")}_getIdTokenResponse(d){return vt("not implemented")}_linkToIdToken(d,p){return vt("not implemented")}_getReauthenticationResolver(d){return vt("not implemented")}}function Qe(y,d){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:resetPassword",kt(y,d))})).apply(this,arguments)}function ki(y,d){return $o.apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Wo(y,d){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:update",kt(y,d))})).apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithPassword",kt(y,d))})).apply(this,arguments)}function Hn(y,d){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:sendOobCode",kt(y,d))})).apply(this,arguments)}function oh(y,d){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,h.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Ks(y,d){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Qs(y,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,h.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function di(y,d){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(y,d){return Hn(y,d)})).apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithEmailLink",kt(y,d))})).apply(this,arguments)}function Zo(){return(Zo=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithEmailLink",kt(y,d))})).apply(this,arguments)}class Vi extends Cr{constructor(d,p,v,D=null){super("password",v),this._email=d,this._password=p,this._tenantId=D}static _fromEmailAndPassword(d,p){return new Vi(d,p,"password")}static _fromEmailAndCode(d,p,v=null){return new Vi(d,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,h.Z)(function*(){switch(p.signInMethod){case"password":return function(y,d){return Fi.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(y,d){return Er.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Te(d,"internal-error")}})()}_linkToIdToken(d,p){var v=this;return(0,h.Z)(function*(){switch(v.signInMethod){case"password":return ki(d,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(y,d){return Zo.apply(this,arguments)}(d,{idToken:p,email:v._email,oobCode:v._password});default:Te(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function dr(y,d){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithIdp",kt(y,d))})).apply(this,arguments)}class hi extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new hi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):Te("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:D}=p,S=(0,ue._T)(p,["providerId","signInMethod"]);if(!v||!D)return null;const G=new hi(v,D);return Object.assign(G,S),G}_getIdTokenResponse(d){return dr(d,this.buildRequest())}_linkToIdToken(d,p){const v=this.buildRequest();return v.idToken=p,dr(d,v)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,dr(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,U.xO)(p)}return d}}function tg(y,d){return $u.apply(this,arguments)}function $u(){return($u=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:sendVerificationCode",kt(y,d))})).apply(this,arguments)}function ah(){return(ah=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithPhoneNumber",kt(y,d))})).apply(this,arguments)}function lh(){return(lh=(0,h.Z)(function*(y,d){const p=yield vn(y,"POST","/v1/accounts:signInWithPhoneNumber",kt(y,d));if(p.temporaryProof)throw _r(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Q_={USER_NOT_FOUND:"user-not-found"};function uh(){return(uh=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithPhoneNumber",kt(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Q_)})).apply(this,arguments)}class Js extends Cr{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new Js({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new Js({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function(y,d){return ah.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function(y,d){return lh.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(y,d){return uh.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:v,verificationCode:D}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:v,code:D}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:S}=d;return v||p||D||S?new Js({verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:S}):null}}class gl{constructor(d){var p,v,D,S,G,he;const Ie=(0,U.zd)((0,U.pd)(d)),Pe=null!==(p=Ie.apiKey)&&void 0!==p?p:null,Ve=null!==(v=Ie.oobCode)&&void 0!==v?v:null,Me=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ie.mode)&&void 0!==D?D:null);le(Pe&&Ve&&Me,"argument-error"),this.apiKey=Pe,this.operation=Me,this.code=Ve,this.continueUrl=null!==(S=Ie.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(G=Ie.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(he=Ie.tenantId)&&void 0!==he?he:null}static parseLink(d){const p=function(y){const d=(0,U.zd)((0,U.pd)(y)).link,p=d?(0,U.zd)((0,U.pd)(d)).deep_link_id:null,v=(0,U.zd)((0,U.pd)(y)).deep_link_id;return(v?(0,U.zd)((0,U.pd)(v)).link:null)||v||p||d||y}(d);try{return new gl(p)}catch(v){return null}}}let ch=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return Vi._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const D=gl.parseLink(v);return le(D,"argument-error"),Vi._fromEmailAndCode(p,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ui{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class vs extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Bi extends vs{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return le("providerId"in p&&"signInMethod"in p,"argument-error"),hi._fromParams(p)}credential(d){return this._credential(d)}_credential(d){return le(d.idToken||d.accessToken,"argument-error"),hi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Bi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Bi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:S,nonce:G,providerId:he}=d;if(!v&&!D&&!p&&!S||!he)return null;try{return new Bi(he)._credential({idToken:p,accessToken:v,rawNonce:G,pendingToken:S})}catch(Ie){return null}}}let ng=(()=>{class y extends vs{constructor(){super("facebook.com")}static credential(p){return hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Wu=(()=>{class y extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:D}=p;if(!v&&!D)return null;try{return y.credential(v,D)}catch(S){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Gu=(()=>{class y extends vs{constructor(){super("github.com")}static credential(p){return hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xs extends Cr{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return dr(d,this.buildRequest())}_linkToIdToken(d,p){const v=this.buildRequest();return v.idToken=p,dr(d,v)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,dr(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:D,pendingToken:S}=p;return v&&D&&S&&v===D?new Xs(v,S):null}static _create(d,p){return new Xs(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let dh=(()=>{class y extends vs{constructor(){super("twitter.com")}static credential(p,v){return hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=p;if(!v||!D)return null;try{return y.credential(v,D)}catch(S){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function hh(y,d){return ml.apply(this,arguments)}function ml(){return(ml=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signUp",kt(y,d))})).apply(this,arguments)}class fr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,v,D=!1){return(0,h.Z)(function*(){const S=yield Oe._fromIdTokenResponse(d,v,D),G=fh(v);return new fr({user:S,providerId:G,_tokenResponse:v,operationType:p})})()}static _forOperation(d,p,v){return(0,h.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const D=fh(v);return new fr({user:d,providerId:D,_tokenResponse:v,operationType:p})})()}}function fh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function gh(){return(gh=(0,h.Z)(function*(y){var d;const p=tt(y);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new fr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield hh(p,{returnSecureToken:!0}),D=yield fr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class $n extends U.ZR{constructor(d,p,v,D){var S;super(p.code,p.message),this.operationType=v,this.user=D,this.name="FirebaseError",Object.setPrototypeOf(this,$n.prototype),this.appName=d.name,this.code=p.code,this.tenantId=null!==(S=d.tenantId)&&void 0!==S?S:void 0,this.serverResponse=p.customData.serverResponse}static _fromErrorAndOperation(d,p,v,D){return new $n(d,p,v,D)}}function _l(y,d,p,v){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?$n._fromErrorAndOperation(y,S,d,v):S})}function Zu(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function qu(){return(qu=(0,h.Z)(function*(y,d){const p=(0,U.m9)(y);yield Ft(!0,p,d);const{providerUserInfo:v}=yield _s(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),D=Zu(v||[]);return p.providerData=p.providerData.filter(S=>D.has(S.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function vl(y,d){return mh.apply(this,arguments)}function mh(){return(mh=(0,h.Z)(function*(y,d,p=!1){const v=yield Ae(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return fr._forOperation(y,"link",v)})).apply(this,arguments)}function Ft(y,d,p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(y,d,p){yield It(d);const D=!1===y?"provider-already-linked":"no-such-provider";le(Zu(d.providerData).has(p)===y,d.auth,D)})).apply(this,arguments)}function Es(y,d){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,h.Z)(function*(y,d,p=!1){const{auth:v}=y,D="reauthenticate";try{const S=yield Ae(y,_l(v,D,d,y),p);le(S.idToken,v,"internal-error");const G=En(S.idToken);le(G,v,"internal-error");const{sub:he}=G;return le(y.uid===he,v,"user-mismatch"),fr._forOperation(y,D,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&Te(v,"user-mismatch"),S}})).apply(this,arguments)}function Bt(y,d){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,h.Z)(function*(y,d,p=!1){const v="signIn",D=yield _l(y,v,d),S=yield fr._fromIdTokenResponse(y,v,D);return p||(yield y._updateCurrentUser(S.user)),S})).apply(this,arguments)}function El(y,d){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(y,d){return Bt(tt(y),d)})).apply(this,arguments)}function Xn(y,d){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,h.Z)(function*(y,d){const p=(0,U.m9)(y);return yield Ft(!1,p,d.providerId),vl(p,d)})).apply(this,arguments)}function bl(y,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(y,d){return Es((0,U.m9)(y),d)})).apply(this,arguments)}function er(y,d){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:signInWithCustomToken",kt(y,d))})).apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(y,d){const p=tt(y),v=yield er(p,{token:d,returnSecureToken:!0}),D=yield fr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class Br{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?wl._fromServerResponse(d,p):Te(d,"internal-error")}}class wl extends Br{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new wl(p)}}function no(y,d,p){var v;le((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),le(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(le(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iosBundleId=p.iOS.bundleId),p.android&&(le(p.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function Ju(){return(Ju=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y),D={requestType:"PASSWORD_RESET",email:d};p&&no(v,D,p),yield Ks(v,D)})).apply(this,arguments)}function Xu(){return(Xu=(0,h.Z)(function*(y,d,p){yield Qe((0,U.m9)(y),{oobCode:d,newPassword:p})})).apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(y,d){yield Wo((0,U.m9)(y),{oobCode:d})})).apply(this,arguments)}function yh(y,d){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(y,d){const p=(0,U.m9)(y),v=yield Qe(p,{oobCode:d}),D=v.requestType;switch(le(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(v.mfaInfo,p,"internal-error");default:le(v.email,p,"internal-error")}let S=null;return v.mfaInfo&&(S=Br._fromServerResponse(tt(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:D}})).apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(y,d){const{data:p}=yield yh((0,U.m9)(y),d);return p.email})).apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(y,d,p){const v=tt(y),D=yield hh(v,{returnSecureToken:!0,email:d,password:p}),S=yield fr._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function Wn(){return(Wn=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y),D={requestType:"EMAIL_SIGNIN",email:d};le(p.handleCodeInApp,v,"argument-error"),p&&no(v,D,p),yield Qs(v,D)})).apply(this,arguments)}function vh(){return(vh=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y),D=ch.credentialWithLink(d,p||ae());return le(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),El(v,D)})).apply(this,arguments)}function sg(y,d){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:createAuthUri",kt(y,d))})).apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(y,d){const v={identifier:d,continueUri:q()?ae():"http://localhost"},{signinMethods:D}=yield sg((0,U.m9)(y),v);return D||[]})).apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(y,d){const p=(0,U.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&no(p.auth,D,d);const{email:S}=yield oh(p.auth,D);S!==y.email&&(yield y.reload())})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};p&&no(v.auth,S,p);const{email:G}=yield di(v.auth,S);G!==y.email&&(yield y.reload())})).apply(this,arguments)}function ty(y,d){return Al.apply(this,arguments)}function Al(){return(Al=(0,h.Z)(function*(y,d){return Ke(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ic(){return(ic=(0,h.Z)(function*(y,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const v=(0,U.m9)(y),S={idToken:yield v.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},G=yield Ae(v,ty(v.auth,S));v.displayName=G.displayName||null,v.photoURL=G.photoUrl||null;const he=v.providerData.find(({providerId:Ie})=>"password"===Ie);he&&(he.displayName=v.displayName,he.photoURL=v.photoURL),yield v._updateTokensIfNecessary(G)})).apply(this,arguments)}function ac(y,d,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(y,d,p){const{auth:v}=y,S={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(S.email=d),p&&(S.password=p);const G=yield Ae(y,ki(v,S));yield y._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class Ds{constructor(d,p,v={}){this.isNewUser=d,this.providerId=p,this.profile=v}}class Ko extends Ds{constructor(d,p,v,D){super(d,p,v),this.username=D}}class bh extends Ds{constructor(d,p){super(d,"facebook.com",p)}}class og extends Ko{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class wh extends Ds{constructor(d,p){super(d,"google.com",p)}}class ag extends Ko{constructor(d,p,v){super(d,"twitter.com",p,v)}}function Qo(y){const{user:d,_tokenResponse:p}=y;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(y){var d,p;if(!y)return null;const{providerId:v}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},S=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const G=null===(p=null===(d=En(y.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(G)return new Ds(S,"anonymous"!==G&&"custom"!==G?G:null)}if(!v)return null;switch(v){case"facebook.com":return new bh(S,D);case"github.com":return new og(S,D);case"google.com":return new wh(S,D);case"twitter.com":return new ag(S,D,y.screenName||null);case"custom":case"anonymous":return new Ds(S,null);default:return new Ds(S,v,D)}}(p)}class Ts{constructor(d,p){this.type=d,this.credential=p}static _fromIdtoken(d){return new Ts("enroll",d)}static _fromMfaPendingCredential(d){return new Ts("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,v;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Ts._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return Ts._fromIdtoken(d.multiFactorSession.idToken)}return null}}class uc{constructor(d,p,v){this.session=d,this.hints=p,this.signInResolver=v}static _fromError(d,p){const v=tt(d),D=(p.serverResponse.mfaInfo||[]).map(G=>Br._fromServerResponse(v,G));le(p.serverResponse.mfaPendingCredential,v,"internal-error");const S=Ts._fromMfaPendingCredential(p.serverResponse.mfaPendingCredential);return new uc(S,D,function(){var G=(0,h.Z)(function*(he){const Ie=yield he._process(v,S);delete p.serverResponse.mfaInfo,delete p.serverResponse.mfaPendingCredential;const Pe=Object.assign(Object.assign({},p.serverResponse),{idToken:Ie.idToken,refreshToken:Ie.refreshToken});switch(p.operationType){case"signIn":const Ve=yield fr._fromIdTokenResponse(v,p.operationType,Pe);return yield v._updateCurrentUser(Ve.user),Ve;case"reauthenticate":return le(p.user,v,"internal-error"),fr._forOperation(p.user,p.operationType,Pe);default:Te(v,"internal-error")}});return function(he){return G.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,h.Z)(function*(){return p.signInResolver(d)})()}}function Sl(y,d){return Ke(y,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:y.tenantId},d))}class Jo{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Br._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new Jo(d)}getSession(){var d=this;return(0,h.Z)(function*(){return Ts._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,p){var v=this;return(0,h.Z)(function*(){const D=d,S=yield v.getSession(),G=yield Ae(v.user,D._process(v.user.auth,S,p));return yield v.user._updateTokensIfNecessary(G),v.user.reload()})()}unenroll(d){var p=this;return(0,h.Z)(function*(){const v="string"==typeof d?d:d.uid,D=yield p.user.getIdToken(),S=yield Ae(p.user,function(y,d){return Ke(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:y.tenantId},d))}(p.user.auth,{idToken:D,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:G})=>G!==v),yield p.user._updateTokensIfNecessary(S);try{yield p.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const Nl=new WeakMap,Ir="__sak";class Xo{constructor(d,p){this.storage=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ir,"1"),this.storage.removeItem(Ir),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}}const Ml=(()=>{class y extends Xo{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,U.z$)();return li(y)||nn(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=sh(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),S=this.localCache[v];D!==S&&p(v,S,D)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((he,Ie,Pe)=>{this.notifyListeners(he,Pe)});const D=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(D);if(p.newValue!==he)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!v)return}const S=()=>{const he=this.storage.getItem(D);!v&&this.localCache[D]===he||this.notifyListeners(D,he)},G=this.storage.getItem(D);(0,U.w1)()&&10===document.documentMode&&G!==p.newValue&&p.newValue!==p.oldValue?setTimeout(S,10):S()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const S of Array.from(D))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var D=()=>super._set,S=this;return(0,h.Z)(function*(){yield D().call(S,p,v),S.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,D=this;return(0,h.Z)(function*(){const S=yield v().call(D,p);return D.localCache[p]=JSON.stringify(S),S})()}_remove(p){var v=()=>super._remove,D=this;return(0,h.Z)(function*(){yield v().call(D,p),delete D.localCache[p]})()}}return y.type="LOCAL",y})(),As=(()=>{class y extends Xo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let dc=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(S=>S.isListeningto(p));if(v)return v;const D=new y(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,h.Z)(function*(){const D=p,{eventId:S,eventType:G,data:he}=D.data,Ie=v.handlersMap[G];if(!(null==Ie?void 0:Ie.size))return;D.ports[0].postMessage({status:"ack",eventId:S,eventType:G});const Pe=Array.from(Ie).map(function(){var Me=(0,h.Z)(function*(Gt){return Gt(D.origin,he)});return function(Gt){return Me.apply(this,arguments)}}()),Ve=yield function(y){return Promise.all(y.map(function(){var d=(0,h.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return d.apply(this,arguments)}}()))}(Pe);D.ports[0].postMessage({status:"done",eventId:S,eventType:G,response:Ve})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function oo(y="",d=10){let p="";for(let v=0;v<d;v++)p+=Math.floor(10*Math.random());return y+p}class jr{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,v=50){var D=this;return(0,h.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let G,he;return new Promise((Ie,Pe)=>{const Ve=oo("",20);S.port1.start();const Me=setTimeout(()=>{Pe(new Error("unsupported_event"))},v);he={messageChannel:S,onMessage(Gt){const rr=Gt;if(rr.data.eventId===Ve)switch(rr.data.status){case"ack":clearTimeout(Me),G=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Ie(rr.data.response);break;default:clearTimeout(Me),clearTimeout(G),Pe(new Error("invalid_response"))}}},D.handlers.add(he),S.port1.addEventListener("message",he.onMessage),D.target.postMessage({eventType:d,eventId:Ve,data:p},[S.port2])}).finally(()=>{he&&D.removeMessageHandler(he)})})()}}function Zt(){return window}function ao(){return void 0!==Zt().WorkerGlobalScope&&"function"==typeof Zt().importScripts}function Th(){return(Th=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const na="firebaseLocalStorageDb",ra="firebaseLocalStorage",Sh="fbase_key";class Pl{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function hc(y,d){return y.transaction([ra],d?"readwrite":"readonly").objectStore(ra)}function Ol(){const y=indexedDB.open(na,1);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(ra,{keyPath:Sh})}catch(D){p(D)}}),y.addEventListener("success",(0,h.Z)(function*(){const v=y.result;v.objectStoreNames.contains(ra)?d(v):(v.close(),yield function(){const y=indexedDB.deleteDatabase(na);return new Pl(y).toPromise()}(),d(yield Ol()))}))})}function rn(y,d,p){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(y,d,p){const v=hc(y,!0).put({[Sh]:d,value:p});return new Pl(v).toPromise()})).apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(y,d){const p=hc(y,!1).get(d),v=yield new Pl(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function fc(y,d){const p=hc(y,!0).delete(d);return new Pl(p).toPromise()}const Dr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,h.Z)(function*(){return p.db||(p.db=yield Ol()),p.db})()}_withRetries(p){var v=this;return(0,h.Z)(function*(){let D=0;for(;;)try{const S=yield v._openDb();return yield p(S)}catch(S){if(D++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,h.Z)(function*(){return ao()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,h.Z)(function*(){p.receiver=dc._getInstance(ao()?self:null),p.receiver._subscribe("keyChanged",function(){var v=(0,h.Z)(function*(D,S){return{keyProcessed:(yield p._poll()).includes(S.key)}});return function(D,S){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,h.Z)(function*(D,S){return["keyChanged"]});return function(D,S){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,h.Z)(function*(){var v,D;if(p.activeServiceWorker=yield function(){return Th.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new jr(p.activeServiceWorker);const S=yield p.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(D=S[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,h.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ol();return yield rn(p,Ir,"1"),yield fc(p,Ir),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,h.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(S=>rn(S,p,v)),D.localCache[p]=v,D.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,h.Z)(function*(){const D=yield v._withRetries(S=>function(y,d){return dt.apply(this,arguments)}(S,p));return v.localCache[p]=D,D})()}_remove(p){var v=this;return(0,h.Z)(function*(){return v._withPendingWrite((0,h.Z)(function*(){return yield v._withRetries(D=>fc(D,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,h.Z)(function*(){const v=yield p._withRetries(G=>{const he=hc(G,!1).getAll();return new Pl(he).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const D=[],S=new Set;for(const{fbase_key:G,value:he}of v)S.add(G),JSON.stringify(p.localCache[G])!==JSON.stringify(he)&&(p.notifyListeners(G,he),D.push(G));for(const G of Object.keys(p.localCache))p.localCache[G]&&!S.has(G)&&(p.notifyListeners(G,null),D.push(G));return D})()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const S of Array.from(D))S(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Hr(y,d){return Ke(y,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:y.tenantId},d))}function pc(){return(pc=(0,h.Z)(function*(y){return(yield Ke(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gc(y){return new Promise((d,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=d,v.onerror=D=>{const S=Ne("internal-error");S.customData=D,p(S)},v.type="text/javascript",v.charset="UTF-8",function(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(v)})}function Tr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const sn=1e12;class nr{constructor(d){this.auth=d,this.counter=sn,this._widgets=new Map}render(d,p){const v=this.counter;return this._widgets.set(v,new co(d,this.auth.name,p||{})),this.counter++,v}reset(d){var p;const v=d||sn;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(d){var p;return(null===(p=this._widgets.get(d||sn))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,h.Z)(function*(){var v;return null===(v=p._widgets.get(d||sn))||void 0===v||v.execute(),""})()}}class co{constructor(d,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof d?document.getElementById(d):d;le(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}();const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $i=Tr("rcb"),Fl=new ke(3e4,6e4);class cg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Zt().grecaptcha}load(d,p=""){return le((y=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Zt().grecaptcha):new Promise((v,D)=>{const S=Zt().setTimeout(()=>{D(Ne(d,"network-request-failed"))},Fl.get());Zt()[$i]=()=>{Zt().clearTimeout(S),delete Zt()[$i];const he=Zt().grecaptcha;if(!he)return void D(Ne(d,"internal-error"));const Ie=he.render;he.render=(Pe,Ve)=>{const Me=Ie(Pe,Ve);return this.counter++,Me},this.hostLanguage=p,v(he)},gc(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:$i,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(S),D(Ne(d,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Zt().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ph{load(d){return(0,h.Z)(function*(){return new nr(d)})()}clearedOneInstance(){}}const Oh="recaptcha",xh={theme:"light",type:"image"};class Rt{constructor(d,p=Object.assign({},xh),v){this.parameters=p,this.type=Oh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tt(v),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof d?document.getElementById(d):d;le(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ph:new cg,this.validateStartingState()}verify(){var d=this;return(0,h.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(p)||new Promise(S=>{const G=he=>{!he||(d.tokenChangeListeners.delete(G),S(he))};d.tokenChangeListeners.add(G),d.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof d)d(p);else if("string"==typeof d){const v=Zt()[d];"function"==typeof v&&v(p)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,h.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,h.Z)(function*(){le(q()&&!ao(),d.auth,"internal-error"),yield function(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function(y){return pc.apply(this,arguments)}(d.auth);le(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class aa{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=Js._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function mc(){return(mc=(0,h.Z)(function*(y,d,p){const v=tt(y),D=yield Vl(v,d,(0,U.m9)(p));return new aa(D,S=>El(v,S))})).apply(this,arguments)}function _c(){return(_c=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y);yield Ft(!1,v,"phone");const D=yield Vl(v.auth,d,(0,U.m9)(p));return new aa(D,S=>Xn(v,S))})).apply(this,arguments)}function Ll(){return(Ll=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y),D=yield Vl(v.auth,d,(0,U.m9)(p));return new aa(D,S=>bl(v,S))})).apply(this,arguments)}function Vl(y,d,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,h.Z)(function*(y,d,p){var v;const D=yield p.verify();try{let S;if(le("string"==typeof D,y,"argument-error"),le(p.type===Oh,y,"argument-error"),S="string"==typeof d?{phoneNumber:d}:d,"session"in S){const G=S.session;if("phoneNumber"in S)return le("enroll"===G.type,y,"internal-error"),(yield Sl(y,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{le("signin"===G.type,y,"internal-error");const he=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return le(he,y,"missing-multi-factor-info"),(yield Hr(y,{mfaPendingCredential:G.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield tg(y,{phoneNumber:S.phoneNumber,recaptchaToken:D});return G}}finally{p._reset()}})).apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(y,d){yield vl((0,U.m9)(y),d)})).apply(this,arguments)}let la=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=tt(p)}verifyPhoneNumber(p,v){return Vl(this.auth,p,(0,U.m9)(v))}static credential(p,v){return Js._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:D}=p;return v&&D?Js._fromTokenResponse(v,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Pt(y,d){return d?X(d):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class pi extends Cr{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return dr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return dr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return dr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function ua(y){return Bt(y.auth,new pi(y),y.bypassAuthState)}function gg(y){const{auth:d,user:p}=y;return le(p,d,"internal-error"),Es(p,new pi(y),y.bypassAuthState)}function Fh(y){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(y){const{auth:d,user:p}=y;return le(p,d,"internal-error"),vl(p,new pi(y),y.bypassAuthState)})).apply(this,arguments)}class fn{constructor(d,p,v,D,S=!1){this.auth=d,this.resolver=v,this.user=D,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,h.Z)(function*(v,D){d.pendingPromise={resolve:v,reject:D};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(S){d.reject(S)}});return function(v,D){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,h.Z)(function*(){const{urlResponse:v,sessionId:D,postBody:S,tenantId:G,error:he,type:Ie}=d;if(he)return void p.reject(he);const Pe={auth:p.auth,requestUri:v,sessionId:D,tenantId:G||void 0,postBody:S||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ie)(Pe))}catch(Ve){p.reject(Ve)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ua;case"linkViaPopup":case"linkViaRedirect":return Fh;case"reauthViaPopup":case"reauthViaRedirect":return gg;default:Te(this.auth,"internal-error")}}resolve(d){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ca=new ke(2e3,1e4);function gi(){return(gi=(0,h.Z)(function*(y,d,p){const v=tt(y);le(d instanceof Ui,y,"argument-error");const D=Pt(v,p);return new Lh(v,"signInViaPopup",d,D).executeNotNull()})).apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y);le(d instanceof Ui,v.auth,"argument-error");const D=Pt(v.auth,p);return new Lh(v.auth,"reauthViaPopup",d,D,v).executeNotNull()})).apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y);le(d instanceof Ui,v.auth,"argument-error");const D=Pt(v.auth,p);return new Lh(v.auth,"linkViaPopup",d,D,v).executeNotNull()})).apply(this,arguments)}let Lh=(()=>{class y extends fn{constructor(p,v,D,S,G){super(p,v,S,G),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,h.Z)(function*(){const v=yield p.execute();return le(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,h.Z)(function*(){et(1===p.filter.length,"Popup operations only handle one event");const v=oo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(Ne(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,D;this.pollId=(null===(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ca.get())};p()}}return y.currentPopupAction=null,y})();const Mn=new Map;class Vh extends fn{constructor(d,p,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,h.Z)(function*(){let v=Mn.get(p.auth._key());if(!v){try{const S=(yield function(y,d){return mg.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;v=()=>Promise.resolve(S)}catch(D){v=()=>Promise.reject(D)}Mn.set(p.auth._key(),v)}return v()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,v=this;return(0,h.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(v,d);if("unknown"!==d.type){if(d.eventId){const D=yield v.auth._redirectUserForId(d.eventId);if(D)return v.user=D,p().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function mg(){return(mg=(0,h.Z)(function*(y,d){const p=pa(d),v="true"===(yield Cc(y)._get(p));return yield Cc(y)._remove(p),v})).apply(this,arguments)}function vc(y,d){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,h.Z)(function*(y,d){return Cc(y)._set(pa(d),"true")})).apply(this,arguments)}function Cc(y){return X(y._redirectPersistence)}function pa(y){return ot("pendingRedirect",y.config.apiKey,y.name)}function Zi(){return(Zi=(0,h.Z)(function*(y,d,p){const v=tt(y);le(d instanceof Ui,y,"argument-error");const D=Pt(v,p);return yield vc(D,v),D._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y);le(d instanceof Ui,v.auth,"argument-error");const D=Pt(v.auth,p);yield vc(D,v.auth);const S=yield Gl(v);return D._openRedirect(v.auth,d,"reauthViaRedirect",S)})).apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(y,d,p){const v=(0,U.m9)(y);le(d instanceof Ui,v.auth,"argument-error");const D=Pt(v.auth,p);yield Ft(!1,v,d.providerId),yield vc(D,v.auth);const S=yield Gl(v);return D._openRedirect(v.auth,d,"linkViaRedirect",S)})).apply(this,arguments)}function Wl(){return(Wl=(0,h.Z)(function*(y,d){return yield tt(y)._initializationPromise,po(y,d,!1)})).apply(this,arguments)}function po(y,d){return yg.apply(this,arguments)}function yg(){return(yg=(0,h.Z)(function*(y,d,p=!1){const v=tt(y),D=Pt(v,d),G=yield new Vh(v,D,p).execute();return G&&!p&&(delete G.user._redirectEventId,yield v._persistUserIfCurrent(G.user),yield v._setRedirectUser(null,d)),G})).apply(this,arguments)}function Gl(y){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(y){const d=oo(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class bc{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(p=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var v;if(d.error&&!mo(d)){const D=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(Ne(this.auth,D))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const v=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wt(d))}saveEventToCache(d){this.cachedEventUids.add(Wt(d)),this.lastProcessedEventTime=Date.now()}}function Wt(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function mo({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function pr(y){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(y,d={}){return Ke(y,"GET","/v1/projects",d)})).apply(this,arguments)}const _o=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yo=/^https?/;function zl(){return(zl=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield pr(y);for(const p of d)try{if(Rs(p))return}catch(v){}Te(y,"unauthorized-domain")})).apply(this,arguments)}function Rs(y){const d=ae(),{protocol:p,hostname:v}=new URL(d);if(y.startsWith("chrome-extension://")){const G=new URL(y);return""===G.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&G.hostname===v}if(!yo.test(p))return!1;if(_o.test(y))return v===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const Ar=new ke(3e4,6e4);function vo(){const y=Zt().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Co=null;function ma(y){return Co=Co||function(y){return new Promise((d,p)=>{var v,D,S;function G(){vo(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{vo(),p(Ne(y,"network-request-failed"))},timeout:Ar.get()})}if(null===(D=null===(v=Zt().gapi)||void 0===v?void 0:v.iframes)||void 0===D?void 0:D.Iframe)d(gapi.iframes.getContext());else{if(!(null===(S=Zt().gapi)||void 0===S?void 0:S.load)){const he=Tr("iframefcb");return Zt()[he]=()=>{gapi.load?G():p(Ne(y,"network-request-failed"))},gc(`https://apis.google.com/js/api.js?onload=${he}`)}G()}}).catch(d=>{throw Co=null,d})}(y),Co}const _a=new ke(5e3,15e3),ay={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zr(y){const d=y.config;le(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?Be(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:y.name,v:ee.SDK_VERSION},D=ya.get(y.config.apiHost);D&&(v.eid=D);const S=y._getFrameworks();return S.length&&(v.fw=S.join(",")),`${p}?${(0,U.xO)(v).slice(1)}`}function $h(){return($h=(0,h.Z)(function*(y){const d=yield ma(y),p=Zt().gapi;return le(p,y,"internal-error"),d.open({where:document.body,url:zr(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ay,dontclear:!0},v=>new Promise(function(){var D=(0,h.Z)(function*(S,G){yield v.restyle({setHideOnLeave:!1});const he=Ne(y,"network-request-failed"),Ie=Zt().setTimeout(()=>{G(he)},_a.get());function Pe(){Zt().clearTimeout(Ie),S(v)}v.ping(Pe).then(Pe,()=>{G(he)})});return function(S,G){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const LE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gh{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function wc(y,d,p,v,D,S){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const G={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:ee.SDK_VERSION,eventId:D};if(d instanceof Ui){d.setDefaultLanguage(y.languageCode),G.providerId=d.providerId||"",(0,U.xb)(d.getCustomParameters())||(G.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ie,Pe]of Object.entries(S||{}))G[Ie]=Pe}if(d instanceof vs){const Ie=d.getScopes().filter(Pe=>""!==Pe);Ie.length>0&&(G.scopes=Ie.join(","))}y.tenantId&&(G.tid=y.tenantId);const he=G;for(const Ie of Object.keys(he))void 0===he[Ie]&&delete he[Ie];return`${function({config:y}){return y.emulator?Be(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,U.xO)(he).slice(1)}`}const Zh="webStorageSupport";class Ea extends class{constructor(d){this.factorId=d}_process(d,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,v);case"signin":return this._finalizeSignIn(d,p.credential);default:return vt("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ea(d)}_finalizeEnroll(d,p,v){return function(y,d){return Ke(y,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:y.tenantId},d))}(d,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function(y,d){return Ke(y,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:y.tenantId},d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Yh{constructor(){}static assertion(d){return Ea._fromCredential(d)}}var y;class Cg{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,h.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(v=>{var D;d((null===(D=v)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pn(){return window}function ba(){return(ba=(0,h.Z)(function*(y,d,p){var v;const{BuildInfo:D}=Pn();et(d.sessionId,"AuthEvent did not contain a session ID");const S=yield Ac(d.sessionId),G={};return nn()?G.ibi=D.packageName:Ys()?G.apn=D.packageName:Te(y,"operation-not-supported-in-this-environment"),D.displayName&&(G.appDisplayName=D.displayName),G.sessionId=S,wc(y,p,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,G)})).apply(this,arguments)}function Tc(){return(Tc=(0,h.Z)(function*(y){const{BuildInfo:d}=Pn(),p={};nn()?p.iosBundleId=d.packageName:Ys()?p.androidPackageName=d.packageName:Te(y,"operation-not-supported-in-this-environment"),yield pr(y,p)})).apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(y,d,p){const{cordova:v}=Pn();let D=()=>{};try{yield new Promise((S,G)=>{let he=null;function Ie(){var Me;S();const Gt=null===(Me=v.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof Gt&&Gt(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Pe(){he||(he=window.setTimeout(()=>{G(Ne(y,"redirect-cancelled-by-user"))},2e3))}function Ve(){"visible"===(null==document?void 0:document.visibilityState)&&Pe()}d.addPassiveListener(Ie),document.addEventListener("resume",Pe,!1),Ys()&&document.addEventListener("visibilitychange",Ve,!1),D=()=>{d.removePassiveListener(Ie),document.removeEventListener("resume",Pe,!1),document.removeEventListener("visibilitychange",Ve,!1),he&&window.clearTimeout(he)}})}finally{D()}})).apply(this,arguments)}function Ac(y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,h.Z)(function*(y){const d=Ig(y),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ig(y){if(et(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),p=new Uint8Array(d);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}y="Browser",(0,ee._registerComponent)(new pe.wA("auth",(d,{options:p})=>{const v=d.getProvider("app").getImmediate(),{apiKey:D,authDomain:S}=v.options;return(G=>{le(D&&!D.includes(":"),"invalid-api-key",{appName:G.name}),le(!(null==S?void 0:S.includes(":")),"argument-error",{appName:G.name});const he={apiKey:D,authDomain:S,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Re(y)},Ie=new lt(G,he);return function(y,d){const p=(null==d?void 0:d.persistence)||[],v=(Array.isArray(p)?p:[p]).map(X);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(Ie,p),Ie})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,v)=>{d.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new pe.wA("auth-internal",d=>{const p=tt(d.getProvider("auth").getImmediate());return new Cg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)("@firebase/auth","0.17.1",void 0);class Tg extends bc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,h.Z)(function*(){yield d.initPromise})()}}function Sr(y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(y){const d=yield Ia()._get(nf(y));return d&&(yield Ia()._remove(nf(y))),d})).apply(this,arguments)}function tf(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*d.length);y.push(d.charAt(v))}return y.join("")}function Ia(){return X(Ml)}function nf(y){return ot("authEvent",y.config.apiKey,y.name)}function wo(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...p]=y.split("?");return(0,U.zd)(p.join("?"))}function rf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function Ql(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Jl(y=(0,U.z$)()){return!("file:"!==Ql()&&"ionic:"!==Ql()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ng(){try{const y=self.localStorage,d=oo();if(y)return y.setItem(d,"1"),y.removeItem(d),!function(y=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,U.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,U.hl)()}catch(y){return cf()&&(0,U.hl)()}return!1}function cf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xl(){return("http:"===Ql()||"https:"===Ql()||(0,U.ru)()||Jl())&&!((0,U.b$)()||(0,U.UG)())&&Ng()&&!cf()}function df(){return Jl()&&"undefined"!=typeof document}function Zr(){return(Zr=(0,h.Z)(function*(){return!!df()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},On=le,Mc="persistence";function Pc(y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(y){yield y._initializationPromise;const d=Ta(),p=ot(Mc,y.config.apiKey,y.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(p,y._getPersistence())})).apply(this,arguments)}function Ta(){return"undefined"!=typeof window?window:null}const hf=le;class Yr{constructor(){this.browserResolver=X(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=po}_openPopup(d,p,v,D){var S=this;return(0,h.Z)(function*(){var G;et(null===(G=S.eventManagers[d._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const he=wc(d,p,v,ae(),D);return function(y,d,p,v=500,D=600){const S=Math.max((window.screen.availHeight-D)/2,0).toString(),G=Math.max((window.screen.availWidth-v)/2,0).toString();let he="";const Ie=Object.assign(Object.assign({},LE),{width:v.toString(),height:D.toString(),top:S,left:G}),Pe=(0,U.z$)().toLowerCase();p&&(he=qs(Pe)?"_blank":p),Rn(Pe)&&(d=d||"http://localhost",Ie.scrollbars="yes");const Ve=Object.entries(Ie).reduce((Gt,[rr,Na])=>`${Gt}${rr}=${Na},`,"");if(function(y=(0,U.z$)()){var d;return nn(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Pe)&&"_self"!==he)return function(y,d){const p=document.createElement("a");p.href=y,p.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(d||"",he),new Gh(null);const Me=window.open(d||"",he,Ve);le(Me,y,"popup-blocked");try{Me.focus()}catch(Gt){}return new Gh(Me)}(d,he,oo())})()}_openRedirect(d,p,v,D){var S=this;return(0,h.Z)(function*(){return yield S._originValidation(d),y=wc(d,p,v,ae(),D),Zt().location.href=y,new Promise(()=>{});var y})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:D,promise:S}=this.eventManagers[p];return D?Promise.resolve(D):(et(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(d);return this.eventManagers[p]={promise:v},v}initAndGetManager(d){var p=this;return(0,h.Z)(function*(){const v=yield function(y){return $h.apply(this,arguments)}(d),D=new bc(d);return v.register("authEvent",S=>(le(null==S?void 0:S.authEvent,d,"invalid-auth-event"),{status:D.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:D},p.iframes[d._key()]=v,D})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Zh,{type:Zh},D=>{var S;const G=null===(S=null==D?void 0:D[0])||void 0===S?void 0:S[Zh];void 0!==G&&p(!!G),Te(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return zl.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return sh()||li()||nn()}}),this.cordovaResolver=X(class{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=po}_initialize(d){var p=this;return(0,h.Z)(function*(){const v=d._key();let D=p.eventManagers.get(v);return D||(D=new Tg(d),p.eventManagers.set(v,D),p.attachCallbackListeners(d,D)),D})()}_openPopup(d){Te(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,v,D){var S=this;return(0,h.Z)(function*(){!function(y){var d,p,v,D,S,G,he,Ie,Pe,Ve;const Me=Pn();le("function"==typeof(null===(d=null==Me?void 0:Me.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(void 0!==(null===(p=null==Me?void 0:Me.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(S=null===(D=null===(v=null==Me?void 0:Me.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===S?void 0:S.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Ie=null===(he=null===(G=null==Me?void 0:Me.cordova)||void 0===G?void 0:G.plugins)||void 0===he?void 0:he.browsertab)||void 0===Ie?void 0:Ie.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Ve=null===(Pe=null==Me?void 0:Me.cordova)||void 0===Pe?void 0:Pe.InAppBrowser)||void 0===Ve?void 0:Ve.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const G=yield S._initialize(d);yield G.initialized(),G.resetRedirect(),Mn.clear(),yield S._originValidation(d);const he=function(y,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:tf(),postBody:null,tenantId:y.tenantId,error:Ne(y,"no-auth-event")}}(d,v,D);yield function(y,d){return Ia()._set(nf(y),d)}(d,he);const Ie=yield function(y,d,p){return ba.apply(this,arguments)}(d,he,p),Pe=yield function(y){const{cordova:d}=Pn();return new Promise(p=>{d.plugins.browsertab.isAvailable(v=>{let D=null;v?d.plugins.browsertab.openUrl(y):D=d.InAppBrowser.open(y,function(y=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(D)})})}(Ie);return function(y,d,p){return wa.apply(this,arguments)}(d,G,Pe)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return Tc.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:v,handleOpenURL:D,BuildInfo:S}=Pn(),G=setTimeout((0,h.Z)(function*(){yield Sr(d),p.onEvent(rf())}),500),he=function(){var Ve=(0,h.Z)(function*(Me){clearTimeout(G);const Gt=yield Sr(d);let rr=null;Gt&&(null==Me?void 0:Me.url)&&(rr=function(y,d){var p,v;const D=function(y){const d=wo(y),p=d.link?decodeURIComponent(d.link):void 0,v=wo(p).link,D=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return wo(D).link||D||v||p||y}(d);if(D.includes("/__/auth/callback")){const S=wo(D),G=S.firebaseError?function(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(S.firebaseError)):null,he=null===(v=null===(p=null==G?void 0:G.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Ie=he?Ne(he):null;return Ie?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ie,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(Gt,Me.url)),p.onEvent(rr||rf())});return function(Gt){return Ve.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,he);const Ie=D,Pe=`${S.packageName.toLowerCase()}://`;Pn().handleOpenURL=function(){var Ve=(0,h.Z)(function*(Me){if(Me.toLowerCase().startsWith(Pe)&&he({url:Me}),"function"==typeof Ie)try{Ie(Me)}catch(Gt){console.error(Gt)}});return function(Me){return Ve.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=po}_initialize(d){var p=this;return(0,h.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,v,D){var S=this;return(0,h.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(d,p,v,D)})()}_openRedirect(d,p,v,D){var S=this;return(0,h.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(d,p,v,D)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return df()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,h.Z)(function*(){if(d.underlyingResolver)return;const p=yield function(){return Zr.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function bn(y){return y.unwrap()}function Oc(y){return Sa(y)}function fy(y,d){var p;const v=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new kc(y,function(y,d){var p;const v=(0,U.m9)(y),D=d;return le(d.operationType,v,"argument-error"),le(null===(p=D.serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),uc._fromError(v,D)}(y,d));else if(v){const D=Sa(d),S=d;D&&(S.credential=D,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}function Sa(y){const{_tokenResponse:d}=y instanceof U.ZR?y.customData:y;if(!d)return null;if(!(y instanceof U.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return la.credentialFromResult(y);const p=d.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=Wu;break;case"facebook.com":v=ng;break;case"github.com":v=Gu;break;case"twitter.com":v=dh;break;default:const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:he,nonce:Ie}=d;return S||G||D||he?he?p.startsWith("saml.")?Xs._create(p,he):hi._fromParams({providerId:p,signInMethod:p,pendingToken:he,idToken:D,accessToken:S}):new Bi(p).credential({idToken:D,accessToken:S,rawNonce:Ie}):null}return y instanceof U.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function pn(y,d){return xc.apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(y,d){let p;try{p=yield d}catch(S){throw S instanceof U.ZR&&fy(y,S),S}const{operationType:v,user:D}=p;return{operationType:v,credential:Oc(p),additionalUserInfo:Qo(p),user:_i.getOrCreate(D)}})).apply(this,arguments)}function Io(y,d){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(y,d){const p=yield d;return{verificationId:p.verificationId,confirm:v=>pn(y,p.confirm(v))}})).apply(this,arguments)}class kc{constructor(d,p){this.resolver=p,this.auth=function(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return pn(bn(this.auth),this.resolver.resolveSignIn(d))}}class _i{constructor(d){this._delegate=d,this.multiFactor=function(y){const d=(0,U.m9)(y);return Nl.has(d)||Nl.set(d,Jo._fromUser(d)),Nl.get(d)}(d)}static getOrCreate(d){return _i.USER_MAP.has(d)||_i.USER_MAP.set(d,new _i(d)),_i.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,h.Z)(function*(){return pn(p.auth,Xn(p._delegate,d))})()}linkWithPhoneNumber(d,p){var v=this;return(0,h.Z)(function*(){return Io(v.auth,function(y,d,p){return _c.apply(this,arguments)}(v._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,h.Z)(function*(){return pn(p.auth,function(y,d,p){return ha.apply(this,arguments)}(p._delegate,d,Yr))})()}linkWithRedirect(d){var p=this;return(0,h.Z)(function*(){return yield Pc(tt(p.auth)),function(y,d,p){return function(y,d,p){return $l.apply(this,arguments)}(y,d,p)}(p._delegate,d,Yr)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,h.Z)(function*(){return pn(p.auth,bl(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return Io(this.auth,function(y,d,p){return Ll.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return pn(this.auth,function(y,d,p){return da.apply(this,arguments)}(this._delegate,d,Yr))}reauthenticateWithRedirect(d){var p=this;return(0,h.Z)(function*(){return yield Pc(tt(p.auth)),function(y,d,p){return function(y,d,p){return $r.apply(this,arguments)}(y,d,p)}(p._delegate,d,Yr)})()}sendEmailVerification(d){return function(y,d){return rc.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,h.Z)(function*(){return yield function(y,d){return qu.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function(y,d){return ac((0,U.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function(y,d){return ac((0,U.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(y,d){return Gi.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(y,d){return ic.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function(y,d,p){return tr.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_i.USER_MAP=new WeakMap;const Qr=le;let gn=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;Qr(D,"invalid-api-key",{appName:p.name});let S=[Ct];if("undefined"!=typeof window){S=function(y,d){const p=Ta();if(!(null==p?void 0:p.sessionStorage))return[];const v=ot(Mc,y,d);switch(p.sessionStorage.getItem(v)){case Gn.NONE:return[Ct];case Gn.LOCAL:return[Dr,As];case Gn.SESSION:return[As];default:return[]}}(D,p.name);for(const he of[Dr,Ml,As])S.includes(he)||S.push(he)}Qr(D,"invalid-api-key",{appName:p.name});const G="undefined"!=typeof window?Yr:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:G}}),this._delegate._updateErrorMap(re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_i.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function(y,d,p){const v=tt(y);le(v._canInitEmulator,v,"emulator-config-failed"),le(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const D=!!(null==p?void 0:p.disableWarnings),S=un(d),{host:G,port:he}=function(y){const d=un(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const S=D[1];return{host:S,port:zt(v.substr(S.length+1))}}{const[S,G]=v.split(":");return{host:S,port:zt(G)}}}(d);v.config.emulator={url:`${S}//${G}${null===he?"":`:${he}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:G,port:he,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:D})}),function(y){function d(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!y&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",d):d())}(D)}(this._delegate,p,v)}applyActionCode(p){return function(y,d){return ec.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return yh(this._delegate,p)}confirmPasswordReset(p,v){return function(y,d,p){return Xu.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var D=this;return(0,h.Z)(function*(){return pn(D._delegate,function(y,d,p){return Lt.apply(this,arguments)}(D._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(y,d){return an.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(y,d){const p=gl.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,h.Z)(function*(){Qr(Xl(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function(y,d){return Wl.apply(this,arguments)}(p._delegate,Yr);return v?pn(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(y,d){tt(y)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,v,D){const{next:S,error:G,complete:he}=Fc(p,v,D);return this._delegate.onAuthStateChanged(S,G,he)}onIdTokenChanged(p,v,D){const{next:S,error:G,complete:he}=Fc(p,v,D);return this._delegate.onIdTokenChanged(S,G,he)}sendSignInLinkToEmail(p,v){return function(y,d,p){return Wn.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function(y,d,p){return Ju.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,h.Z)(function*(){let D;switch(function(y,d){On(Object.values(Gn).includes(d),y,"invalid-persistence-type"),(0,U.b$)()?On(d!==Gn.SESSION,y,"unsupported-persistence-type"):(0,U.UG)()?On(d===Gn.NONE,y,"unsupported-persistence-type"):cf()?On(d===Gn.NONE||d===Gn.LOCAL&&(0,U.hl)(),y,"unsupported-persistence-type"):On(d===Gn.NONE||Ng(),y,"unsupported-persistence-type")}(v._delegate,p),p){case Gn.SESSION:D=As;break;case Gn.LOCAL:D=(yield X(Dr)._isAvailable())?Dr:Ml;break;case Gn.NONE:D=Ct;break;default:return Te("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return pn(this._delegate,function(y){return gh.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return pn(this._delegate,El(this._delegate,p))}signInWithCustomToken(p){return pn(this._delegate,function(y,d){return to.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return pn(this._delegate,function(y,d,p){return El((0,U.m9)(y),ch.credential(d,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return pn(this._delegate,function(y,d,p){return vh.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Io(this._delegate,function(y,d,p){return mc.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,h.Z)(function*(){return Qr(Xl(),v._delegate,"operation-not-supported-in-this-environment"),pn(v._delegate,function(y,d,p){return gi.apply(this,arguments)}(v._delegate,p,Yr))})()}signInWithRedirect(p){var v=this;return(0,h.Z)(function*(){return Qr(Xl(),v._delegate,"operation-not-supported-in-this-environment"),yield Pc(v._delegate),function(y,d,p){return function(y,d,p){return Zi.apply(this,arguments)}(y,d,p)}(v._delegate,p,Yr)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(y,d){return ut.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Gn,y})();function Fc(y,d,p){let v=y;"function"!=typeof y&&({next:v,error:d,complete:p}=y);const D=v;return{next:G=>D(G&&_i.getOrCreate(G)),error:d,complete:p}}class Ra{constructor(){this.providerId="phone",this._delegate=new la(bn(te.Z.auth()))}static credential(d,p){return la.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Ra.PHONE_SIGN_IN_METHOD=la.PHONE_SIGN_IN_METHOD,Ra.PROVIDER_ID=la.PROVIDER_ID;const Mg=le;class ff{constructor(d,p,v=te.Z.app()){var D;Mg(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Rt(d,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new pe.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new gn(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ch,FacebookAuthProvider:ng,GithubAuthProvider:Gu,GoogleAuthProvider:Wu,OAuthProvider:Bi,PhoneAuthProvider:Ra,PhoneMultiFactorGenerator:Yh,RecaptchaVerifier:ff,TwitterAuthProvider:dh,Auth:gn,AuthCredential:Cr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.1.1")}(te.Z)},7574:(xe,ye,M)=>{"use strict";M.d(ye,{y:()=>B});var h=M(7393),U=M(9181),ee=M(6490),z=M(6554),pe=M(4487);var P=M(2494);let B=(()=>{class j{constructor(re){this._isScalar=!1,re&&(this._subscribe=re)}lift(re){const ne=new j;return ne.source=this,ne.operator=re,ne}subscribe(re,ne,Ce){const{operator:ce}=this,_e=function(j,W,re){if(j){if(j instanceof h.L)return j;if(j[U.b])return j[U.b]()}return j||W||re?new h.L(j,W,re):new h.L(ee.c)}(re,ne,Ce);if(_e.add(ce?ce.call(_e,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),P.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(re){try{return this._subscribe(re)}catch(ne){P.v.useDeprecatedSynchronousErrorHandling&&(re.syncErrorThrown=!0,re.syncErrorValue=ne),function(j){for(;j;){const{closed:W,destination:re,isStopped:ne}=j;if(W||ne)return!1;j=re&&re instanceof h.L?re:null}return!0}(re)?re.error(ne):console.warn(ne)}}forEach(re,ne){return new(ne=O(ne))((Ce,ce)=>{let _e;_e=this.subscribe(be=>{try{re(be)}catch(Te){ce(Te),_e&&_e.unsubscribe()}},ce,Ce)})}_subscribe(re){const{source:ne}=this;return ne&&ne.subscribe(re)}[z.L](){return this}pipe(...re){return 0===re.length?this:function(j){return 0===j.length?pe.y:1===j.length?j[0]:function(re){return j.reduce((ne,Ce)=>Ce(ne),re)}}(re)(this)}toPromise(re){return new(re=O(re))((ne,Ce)=>{let ce;this.subscribe(_e=>ce=_e,_e=>Ce(_e),()=>ne(ce))})}}return j.create=W=>new j(W),j})();function O(j){if(j||(j=P.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6490:(xe,ye,M)=>{"use strict";M.d(ye,{c:()=>U});var h=M(2494),te=M(4449);const U={closed:!0,next(ee){},error(ee){if(h.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,te.z)(ee)},complete(){}}},9765:(xe,ye,M)=>{"use strict";M.d(ye,{Yc:()=>pe,xQ:()=>Z});var h=M(7574),te=M(7393),U=M(5319),ee=M(7971),ue=M(8858),z=M(9181);class pe extends te.L{constructor(B){super(B),this.destination=B}}let Z=(()=>{class P extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[z.b](){return new pe(this)}lift(O){const j=new $(this,this);return j.operator=O,j}next(O){if(this.closed)throw new ee.N;if(!this.isStopped){const{observers:j}=this,W=j.length,re=j.slice();for(let ne=0;ne<W;ne++)re[ne].next(O)}}error(O){if(this.closed)throw new ee.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:j}=this,W=j.length,re=j.slice();for(let ne=0;ne<W;ne++)re[ne].error(O);this.observers.length=0}complete(){if(this.closed)throw new ee.N;this.isStopped=!0;const{observers:O}=this,j=O.length,W=O.slice();for(let re=0;re<j;re++)W[re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new ee.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new ee.N;return this.hasError?(O.error(this.thrownError),U.w.EMPTY):this.isStopped?(O.complete(),U.w.EMPTY):(this.observers.push(O),new ue.W(this,O))}asObservable(){const O=new h.y;return O.source=this,O}}return P.create=(B,O)=>new $(B,O),P})();class $ extends Z{constructor(B,O){super(),this.destination=B,this.source=O}next(B){const{destination:O}=this;O&&O.next&&O.next(B)}error(B){const{destination:O}=this;O&&O.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:O}=this;return O?this.source.subscribe(B):U.w.EMPTY}}},8858:(xe,ye,M)=>{"use strict";M.d(ye,{W:()=>te});var h=M(5319);class te extends h.w{constructor(ee,ue){super(),this.subject=ee,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ee=this.subject,ue=ee.observers;if(this.subject=null,!ue||0===ue.length||ee.isStopped||ee.closed)return;const z=ue.indexOf(this.subscriber);-1!==z&&ue.splice(z,1)}}},7393:(xe,ye,M)=>{"use strict";M.d(ye,{L:()=>pe});var h=M(9105),te=M(6490),U=M(5319),ee=M(9181),ue=M(2494),z=M(4449);class pe extends U.w{constructor(P,B,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!P){this.destination=te.c;break}if("object"==typeof P){P instanceof pe?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,P,B,O)}}[ee.b](){return this}static create(P,B,O){const j=new pe(P,B,O);return j.syncErrorThrowable=!1,j}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class Z extends pe{constructor(P,B,O,j){super(),this._parentSubscriber=P;let W,re=this;(0,h.m)(B)?W=B:B&&(W=B.next,O=B.error,j=B.complete,B!==te.c&&(re=Object.create(B),(0,h.m)(re.unsubscribe)&&this.add(re.unsubscribe.bind(re)),re.unsubscribe=this.unsubscribe.bind(this))),this._context=re,this._next=W,this._error=O,this._complete=j}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ue.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:O}=ue.v;if(this._error)O&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(B.syncErrorThrowable)O?(B.syncErrorValue=P,B.syncErrorThrown=!0):(0,z.z)(P),this.unsubscribe();else{if(this.unsubscribe(),O)throw P;(0,z.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const B=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,B){try{P.call(this._context,B)}catch(O){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw O;(0,z.z)(O)}}__tryOrSetError(P,B,O){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,O)}catch(j){return ue.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=j,P.syncErrorThrown=!0,!0):((0,z.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(xe,ye,M)=>{"use strict";M.d(ye,{w:()=>z});var h=M(9796),te=M(1555),U=M(9105);const ue=(()=>{function Z($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((P,B)=>`${B+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return Z.prototype=Object.create(Error.prototype),Z})();class z{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:B,_unsubscribe:O,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof z)P.remove(this);else if(null!==P)for(let W=0;W<P.length;++W)P[W].remove(this);if((0,U.m)(O)){B&&(this._unsubscribe=void 0);try{O.call(this)}catch(W){$=W instanceof ue?pe(W.errors):[W]}}if((0,h.k)(j)){let W=-1,re=j.length;for(;++W<re;){const ne=j[W];if((0,te.K)(ne))try{ne.unsubscribe()}catch(Ce){$=$||[],Ce instanceof ue?$=$.concat(pe(Ce.errors)):$.push(Ce)}}}if($)throw new ue($)}add($){let P=$;if(!$)return z.EMPTY;switch(typeof $){case"function":P=new z($);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof z)){const j=P;P=new z,P._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:B}=P;if(null===B)P._parentOrParents=this;else if(B instanceof z){if(B===this)return P;P._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return P;B.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[P]:O.push(P),P}remove($){const P=this._subscriptions;if(P){const B=P.indexOf($);-1!==B&&P.splice(B,1)}}}var Z;function pe(Z){return Z.reduce(($,P)=>$.concat(P instanceof ue?P.errors:P),[])}z.EMPTY=((Z=new z).closed=!0,Z)},2494:(xe,ye,M)=>{"use strict";M.d(ye,{v:()=>te});let h=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ee.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=U},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(xe,ye,M)=>{"use strict";M.d(ye,{IY:()=>ee,Ds:()=>z,ft:()=>Z});var h=M(7393),te=M(7574),U=M(7444);class ee extends h.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends h.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function Z($,P){if(P.closed)return;if($ instanceof te.y)return $.subscribe(P);let B;try{B=(0,U.s)($)(P)}catch(O){P.error(O)}return B}},2441:(xe,ye,M)=>{"use strict";M.d(ye,{c:()=>ue,N:()=>z});var h=M(9765),te=M(7574),U=M(5319),ee=M(1307);class ue extends te.y{constructor(B,O){super(),this.source=B,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new U.w,B.add(this.source.subscribe(new pe(this.getSubject(),this))),B.closed&&(this._connection=null,B=U.w.EMPTY)),B}refCount(){return(0,ee.x)()(this)}}const z=(()=>{const P=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class pe extends h.Yc{constructor(B,O){super(B),this.connectable=O}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const O=B._connection;B._refCount=0,B._subject=null,B._connection=null,O&&O.unsubscribe()}}}},9193:(xe,ye,M)=>{"use strict";M.d(ye,{E:()=>te,c:()=>U});var h=M(7574);const te=new h.y(ue=>ue.complete());function U(ue){return ue?function(ue){return new h.y(z=>ue.schedule(()=>z.complete()))}(ue):te}},4402:(xe,ye,M)=>{"use strict";M.d(ye,{D:()=>re});var h=M(7574),te=M(7444),U=M(5319),ee=M(6554),pe=M(4087),Z=M(377),B=M(4072),O=M(9489);function re(ne,Ce){return Ce?function(ne,Ce){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[ee.L]}(ne))return function(ne,Ce){return new h.y(ce=>{const _e=new U.w;return _e.add(Ce.schedule(()=>{const be=ne[ee.L]();_e.add(be.subscribe({next(Te){_e.add(Ce.schedule(()=>ce.next(Te)))},error(Te){_e.add(Ce.schedule(()=>ce.error(Te)))},complete(){_e.add(Ce.schedule(()=>ce.complete()))}}))})),_e})}(ne,Ce);if((0,B.t)(ne))return function(ne,Ce){return new h.y(ce=>{const _e=new U.w;return _e.add(Ce.schedule(()=>ne.then(be=>{_e.add(Ce.schedule(()=>{ce.next(be),_e.add(Ce.schedule(()=>ce.complete()))}))},be=>{_e.add(Ce.schedule(()=>ce.error(be)))}))),_e})}(ne,Ce);if((0,O.z)(ne))return(0,pe.r)(ne,Ce);if(function(ne){return ne&&"function"==typeof ne[Z.hZ]}(ne)||"string"==typeof ne)return function(ne,Ce){if(!ne)throw new Error("Iterable cannot be null");return new h.y(ce=>{const _e=new U.w;let be;return _e.add(()=>{be&&"function"==typeof be.return&&be.return()}),_e.add(Ce.schedule(()=>{be=ne[Z.hZ](),_e.add(Ce.schedule(function(){if(ce.closed)return;let Te,Ne;try{const st=be.next();Te=st.value,Ne=st.done}catch(st){return void ce.error(st)}Ne?ce.complete():(ce.next(Te),this.schedule())}))})),_e})}(ne,Ce)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,Ce):ne instanceof h.y?ne:new h.y((0,te.s)(ne))}},6693:(xe,ye,M)=>{"use strict";M.d(ye,{n:()=>ee});var h=M(7574),te=M(5015),U=M(4087);function ee(ue,z){return z?(0,U.r)(ue,z):new h.y((0,te.V)(ue))}},6682:(xe,ye,M)=>{"use strict";M.d(ye,{T:()=>ue});var h=M(7574),te=M(4869),U=M(3282),ee=M(6693);function ue(...z){let pe=Number.POSITIVE_INFINITY,Z=null,$=z[z.length-1];return(0,te.K)($)?(Z=z.pop(),z.length>1&&"number"==typeof z[z.length-1]&&(pe=z.pop())):"number"==typeof $&&(pe=z.pop()),null===Z&&1===z.length&&z[0]instanceof h.y?z[0]:(0,U.J)(pe)((0,ee.n)(z,Z))}},5917:(xe,ye,M)=>{"use strict";M.d(ye,{of:()=>ee});var h=M(4869),te=M(6693),U=M(4087);function ee(...ue){let z=ue[ue.length-1];return(0,h.K)(z)?(ue.pop(),(0,U.r)(ue,z)):(0,te.n)(ue)}},8002:(xe,ye,M)=>{"use strict";M.d(ye,{U:()=>te});var h=M(7393);function te(ue,z){return function(Z){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new U(ue,z))}}class U{constructor(z,pe){this.project=z,this.thisArg=pe}call(z,pe){return pe.subscribe(new ee(z,this.project,this.thisArg))}}class ee extends h.L{constructor(z,pe,Z){super(z),this.project=pe,this.count=0,this.thisArg=Z||this}_next(z){let pe;try{pe=this.project.call(this.thisArg,z,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(pe)}}},3282:(xe,ye,M)=>{"use strict";M.d(ye,{J:()=>U});var h=M(9773),te=M(4487);function U(ee=Number.POSITIVE_INFINITY){return(0,h.zg)(te.y,ee)}},9773:(xe,ye,M)=>{"use strict";M.d(ye,{zg:()=>ee});var h=M(8002),te=M(4402),U=M(5345);function ee(Z,$,P=Number.POSITIVE_INFINITY){return"function"==typeof $?B=>B.pipe(ee((O,j)=>(0,te.D)(Z(O,j)).pipe((0,h.U)((W,re)=>$(O,W,j,re))),P)):("number"==typeof $&&(P=$),B=>B.lift(new ue(Z,P)))}class ue{constructor($,P=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=P}call($,P){return P.subscribe(new z($,this.project,this.concurrent))}}class z extends U.Ds{constructor($,P,B=Number.POSITIVE_INFINITY){super($),this.project=P,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let P;const B=this.index++;try{P=this.project($,B)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(P)}_innerSub($){const P=new U.IY(this),B=this.destination;B.add(P);const O=(0,U.ft)($,P);O!==P&&B.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(xe,ye,M)=>{"use strict";M.d(ye,{ht:()=>B,QV:()=>$});var h=M(7393),te=M(9193),U=M(5917),ee=M(7574);class Z{constructor(W,re,ne){this.kind=W,this.value=re,this.error=ne,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,re,ne){switch(this.kind){case"N":return W&&W(this.value);case"E":return re&&re(this.error);case"C":return ne&&ne()}}accept(W,re,ne){return W&&"function"==typeof W.next?this.observe(W):this.do(W,re,ne)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return j=this.error,new ee.y(re=>re.error(j));case"C":return(0,te.c)()}var j;throw new Error("unexpected notification kind value")}static createNext(W){return void 0!==W?new Z("N",W):Z.undefinedValueNotification}static createError(W){return new Z("E",void 0,W)}static createComplete(){return Z.completeNotification}}function $(j,W=0){return function(ne){return ne.lift(new P(j,W))}}Z.completeNotification=new Z("C"),Z.undefinedValueNotification=new Z("N",void 0);class P{constructor(W,re=0){this.scheduler=W,this.delay=re}call(W,re){return re.subscribe(new B(W,this.scheduler,this.delay))}}class B extends h.L{constructor(W,re,ne=0){super(W),this.scheduler=re,this.delay=ne}static dispatch(W){const{notification:re,destination:ne}=W;re.observe(ne),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(B.dispatch,this.delay,new O(W,this.destination)))}_next(W){this.scheduleMessage(Z.createNext(W))}_error(W){this.scheduleMessage(Z.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()}}class O{constructor(W,re){this.notification=W,this.destination=re}}},1307:(xe,ye,M)=>{"use strict";M.d(ye,{x:()=>te});var h=M(7393);function te(){return function(z){return z.lift(new U(z))}}class U{constructor(z){this.connectable=z}call(z,pe){const{connectable:Z}=this;Z._refCount++;const $=new ee(z,Z),P=pe.subscribe($);return $.closed||($.connection=Z.connect()),P}}class ee extends h.L{constructor(z,pe){super(z),this.connectable=pe}_unsubscribe(){const{connectable:z}=this;if(!z)return void(this.connection=null);this.connectable=null;const pe=z._refCount;if(pe<=0)return void(this.connection=null);if(z._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:Z}=this,$=z._connection;this.connection=null,$&&(!Z||$===Z)&&$.unsubscribe()}}},8819:(xe,ye,M)=>{"use strict";M.d(ye,{B:()=>pe});var h=M(2441);var ee=M(1307),ue=M(9765);function z(){return new ue.xQ}function pe(){return Z=>(0,ee.x)()(function(Z,$){return function(B){let O;O="function"==typeof Z?Z:function(){return Z};const j=Object.create(B,h.N);return j.source=B,j.subjectFactory=O,j}}(z)(Z))}},3101:(xe,ye,M)=>{"use strict";M.d(ye,{R:()=>Ce});var h=M(7574);let te=1;const U=Promise.resolve(),ee={};function ue(_e){return _e in ee&&(delete ee[_e],!0)}const z={setImmediate(_e){const be=te++;return ee[be]=!0,U.then(()=>ue(be)&&_e()),be},clearImmediate(_e){ue(_e)}};var Z=M(6465),P=M(6102);const j=new class extends P.v{flush(be){this.active=!0,this.scheduled=void 0;const{actions:Te}=this;let Ne,st=-1,le=Te.length;be=be||Te.shift();do{if(Ne=be.execute(be.state,be.delay))break}while(++st<le&&(be=Te.shift()));if(this.active=!1,Ne){for(;++st<le&&(be=Te.shift());)be.unsubscribe();throw Ne}}}(class extends Z.o{constructor(be,Te){super(be,Te),this.scheduler=be,this.work=Te}requestAsyncId(be,Te,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(be,Te,Ne):(be.actions.push(this),be.scheduled||(be.scheduled=z.setImmediate(be.flush.bind(be,null))))}recycleAsyncId(be,Te,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(be,Te,Ne);0===be.actions.length&&(z.clearImmediate(Te),be.scheduled=void 0)}});var W=M(9796);class ne extends h.y{constructor(be,Te=0,Ne=j){var _e;super(),this.source=be,this.delayTime=Te,this.scheduler=Ne,(!(!(0,W.k)(_e=Te)&&_e-parseFloat(_e)+1>=0)||Te<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=j)}static create(be,Te=0,Ne=j){return new ne(be,Te,Ne)}static dispatch(be){const{source:Te,subscriber:Ne}=be;return this.add(Te.subscribe(Ne))}_subscribe(be){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:be})}}function Ce(_e,be=0){return function(Ne){return Ne.lift(new ce(_e,be))}}class ce{constructor(be,Te){this.scheduler=be,this.delay=Te}call(be,Te){return new ne(Te,this.delay,this.scheduler).subscribe(be)}}},3342:(xe,ye,M)=>{"use strict";M.d(ye,{b:()=>ee});var h=M(7393);function te(){}var U=M(9105);function ee(pe,Z,$){return function(B){return B.lift(new ue(pe,Z,$))}}class ue{constructor(Z,$,P){this.nextOrObserver=Z,this.error=$,this.complete=P}call(Z,$){return $.subscribe(new z(Z,this.nextOrObserver,this.error,this.complete))}}class z extends h.L{constructor(Z,$,P,B){super(Z),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=P||te,this._tapComplete=B||te,(0,U.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||te,this._tapError=$.error||te,this._tapComplete=$.complete||te)}_next(Z){try{this._tapNext.call(this._context,Z)}catch($){return void this.destination.error($)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch($){return void this.destination.error($)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},4087:(xe,ye,M)=>{"use strict";M.d(ye,{r:()=>U});var h=M(7574),te=M(5319);function U(ee,ue){return new h.y(z=>{const pe=new te.w;let Z=0;return pe.add(ue.schedule(function(){Z!==ee.length?(z.next(ee[Z++]),z.closed||pe.add(this.schedule())):z.complete()})),pe})}},6465:(xe,ye,M)=>{"use strict";M.d(ye,{o:()=>U});var h=M(5319);class te extends h.w{constructor(ue,z){super()}schedule(ue,z=0){return this}}class U extends te{constructor(ue,z){super(ue,z),this.scheduler=ue,this.work=z,this.pending=!1}schedule(ue,z=0){if(this.closed)return this;this.state=ue;const pe=this.id,Z=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Z,pe,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(Z,this.id,z),this}requestAsyncId(ue,z,pe=0){return setInterval(ue.flush.bind(ue,this),pe)}recycleAsyncId(ue,z,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return z;clearInterval(z)}execute(ue,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ue,z);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,z){let Z,pe=!1;try{this.work(ue)}catch($){pe=!0,Z=!!$&&$||new Error($)}if(pe)return this.unsubscribe(),Z}_unsubscribe(){const ue=this.id,z=this.scheduler,pe=z.actions,Z=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&pe.splice(Z,1),null!=ue&&(this.id=this.recycleAsyncId(z,ue,null)),this.delay=null}}},6102:(xe,ye,M)=>{"use strict";M.d(ye,{v:()=>te});let h=(()=>{class U{constructor(ue,z=U.now){this.SchedulerAction=ue,this.now=z}schedule(ue,z=0,pe){return new this.SchedulerAction(this,ue).schedule(pe,z)}}return U.now=()=>Date.now(),U})();class te extends h{constructor(ee,ue=h.now){super(ee,()=>te.delegate&&te.delegate!==this?te.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ee,ue=0,z){return te.delegate&&te.delegate!==this?te.delegate.schedule(ee,ue,z):super.schedule(ee,ue,z)}flush(ee){const{actions:ue}=this;if(this.active)return void ue.push(ee);let z;this.active=!0;do{if(z=ee.execute(ee.state,ee.delay))break}while(ee=ue.shift());if(this.active=!1,z){for(;ee=ue.shift();)ee.unsubscribe();throw z}}}},3637:(xe,ye,M)=>{"use strict";M.d(ye,{z:()=>U});var h=M(6465);const U=new(M(6102).v)(h.o)},7771:(xe,ye,M)=>{"use strict";M.d(ye,{c:()=>z,N:()=>ue});var h=M(6465),U=M(6102);const ue=new class extends U.v{}(class extends h.o{constructor(Z,$){super(Z,$),this.scheduler=Z,this.work=$}schedule(Z,$=0){return $>0?super.schedule(Z,$):(this.delay=$,this.state=Z,this.scheduler.flush(this),this)}execute(Z,$){return $>0||this.closed?super.execute(Z,$):this._execute(Z,$)}requestAsyncId(Z,$,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(Z,$,P):Z.flush(this)}}),z=ue},377:(xe,ye,M)=>{"use strict";M.d(ye,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(xe,ye,M)=>{"use strict";M.d(ye,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(xe,ye,M)=>{"use strict";M.d(ye,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(xe,ye,M)=>{"use strict";M.d(ye,{N:()=>te});const te=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(xe,ye,M)=>{"use strict";function h(te){setTimeout(()=>{throw te},0)}M.d(ye,{z:()=>h})},4487:(xe,ye,M)=>{"use strict";function h(te){return te}M.d(ye,{y:()=>h})},9796:(xe,ye,M)=>{"use strict";M.d(ye,{k:()=>h});const h=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(xe,ye,M)=>{"use strict";M.d(ye,{z:()=>h});const h=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(xe,ye,M)=>{"use strict";function h(te){return"function"==typeof te}M.d(ye,{m:()=>h})},1555:(xe,ye,M)=>{"use strict";function h(te){return null!==te&&"object"==typeof te}M.d(ye,{K:()=>h})},4072:(xe,ye,M)=>{"use strict";function h(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}M.d(ye,{t:()=>h})},4869:(xe,ye,M)=>{"use strict";function h(te){return te&&"function"==typeof te.schedule}M.d(ye,{K:()=>h})},7444:(xe,ye,M)=>{"use strict";M.d(ye,{s:()=>B});var h=M(5015),te=M(4449),ee=M(377),z=M(6554),Z=M(9489),$=M(4072),P=M(1555);const B=O=>{if(O&&"function"==typeof O[z.L])return(O=>j=>{const W=O[z.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(j)})(O);if((0,Z.z)(O))return(0,h.V)(O);if((0,$.t)(O))return(O=>j=>(O.then(W=>{j.closed||(j.next(W),j.complete())},W=>j.error(W)).then(null,te.z),j))(O);if(O&&"function"==typeof O[ee.hZ])return(O=>j=>{const W=O[ee.hZ]();for(;;){let re;try{re=W.next()}catch(ne){return j.error(ne),j}if(re.done){j.complete();break}if(j.next(re.value),j.closed)break}return"function"==typeof W.return&&j.add(()=>{W.return&&W.return()}),j})(O);{const W=`You provided ${(0,P.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(xe,ye,M)=>{"use strict";M.d(ye,{V:()=>h});const h=te=>U=>{for(let ee=0,ue=te.length;ee<ue&&!U.closed;ee++)U.next(te[ee]);U.complete()}},3043:(xe,ye,M)=>{"use strict";var h=M(7716);let te=null;function U(){return te}const pe=new h.OlP("DocumentToken");let Z=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,h.Yz7)({factory:$,token:i,providedIn:"platform"}),i})();function $(){return(0,h.LFG)(B)}const P=new h.OlP("Location Initialized");let B=(()=>{class i extends Z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(e){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){O()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){O()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(pe))},i.\u0275prov=(0,h.Yz7)({factory:j,token:i,providedIn:"platform"}),i})();function O(){return!!window.history.pushState}function j(){return new B((0,h.LFG)(pe))}function W(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function re(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ne(i){return i&&"?"!==i[0]?"?"+i:i}let Ce=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,h.Yz7)({factory:ce,token:i,providedIn:"root"}),i})();function ce(i){const r=(0,h.LFG)(pe).location;return new be((0,h.LFG)(Z),r&&r.origin||"")}const _e=new h.OlP("appBaseHref");let be=(()=>{class i extends Ce{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return W(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ne(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,f){const _=this.prepareExternalUrl(u+ne(f));this._platformLocation.pushState(e,o,_)}replaceState(e,o,u,f){const _=this.prepareExternalUrl(u+ne(f));this._platformLocation.replaceState(e,o,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Z),h.LFG(_e,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Te=(()=>{class i extends Ce{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=W(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,f){let _=this.prepareExternalUrl(u+ne(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(e,o,_)}replaceState(e,o,u,f){let _=this.prepareExternalUrl(u+ne(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Z),h.LFG(_e,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Ne=(()=>{class i{constructor(e,o){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=re(vt(u)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ne(o))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,vt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Ce),h.LFG(Z))},i.normalizeQueryParams=ne,i.joinWithSlash=W,i.stripTrailingSlash=re,i.\u0275prov=(0,h.Yz7)({factory:st,token:i,providedIn:"root"}),i})();function st(){return new Ne((0,h.LFG)(Ce),(0,h.LFG)(Z))}function vt(i){return i.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Zero=0]="Zero",X[X.One=1]="One",X[X.Two=2]="Two",X[X.Few=3]="Few",X[X.Many=4]="Many",X[X.Other=5]="Other",X))();const _r=h.kL8;class ci{}let $o=(()=>{class i extends ci{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(_r(o||this.locale)(e)){case X.Zero:return"zero";case X.One:return"one";case X.Two:return"two";case X.Few:return"few";case X.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.soG))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class Hn{constructor(r,e,o,u){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let St=(()=>{class i{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((u,f,_)=>{if(null==u.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new Hn(null,this._ngForOf,-1,-1),null===_?void 0:_),w=new oh(u,E);o.push(w)}else if(null==_)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const E=this._viewContainer.get(f);this._viewContainer.move(E,_);const w=new oh(u,E);o.push(w)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,f=this._viewContainer.length;u<f;u++){const _=this._viewContainer.get(u);_.context.index=u,_.context.count=f,_.context.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class oh{constructor(r,e){this.record=r,this.view=e}}let Ks=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new zo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Qs("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Qs("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class zo{constructor(){this.$implicit=null,this.ngIf=null}}function Qs(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,h.AaK)(r)}'.`)}let zu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[{provide:ci,useClass:$o}]}),i})(),_l=(()=>{class i{}return i.\u0275prov=(0,h.Yz7)({token:i,providedIn:"root",factory:()=>new Zu((0,h.LFG)(pe),window)}),i})();class Zu{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const _=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(_)return _}u=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=yl(this.window.history)||yl(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function yl(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Cl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Cl,te||(te=i)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null);return null==e?null:function(i){Bt=Bt||document.createElement("a"),Bt.setAttribute("href",i);const r=Bt.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[u,f]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===r)return decodeURIComponent(f)}return null}(document.cookie,r)}}let Bt,Es=null;const El=new h.OlP("TRANSITION_ID"),Xn=[{provide:h.ip1,useFactory:function(i,r,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const o=U(),u=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<u.length;f++)o.remove(u[f])})}},deps:[El,pe,h.zs3],multi:!0}];class Yo{static init(){(0,h.VLi)(new Yo)}addToWindow(r){h.dqk.getAngularTestability=(o,u=!0)=>{const f=r.findTestabilityInTree(o,u);if(null==f)throw new Error("Could not find testability for element.");return f},h.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(o=>{const u=h.dqk.getAllAngularTestabilities();let f=u.length,_=!1;const E=function(w){_=_||w,f--,0==f&&o(_)};u.forEach(function(w){w.whenStable(E)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const u=r.getTestability(e);return null!=u?u:o?U().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let bl=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const bs=new h.OlP("EventManagerPlugins");let ve=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let f=0;f<u.length;f++){const _=u[f];if(_.supports(e))return this._eventNameToPlugin.set(e,_),_}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(bs),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class ut{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const u=U().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let tc=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Lt=(()=>{class i extends tc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(f=>{const _=this._doc.createElement("style");_.textContent=f,u.push(o.appendChild(_))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(nc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(nc))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function nc(i){U().remove(i)}const ws={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wn=/%COMP%/g;function an(i,r,e){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?an(i,u,e):(u=u.replace(Wn,i),e.push(u))}return e}function wr(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let Hi=(()=>{class i{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new tr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case h.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new ic(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case h.ifc.ShadowDom:return new sc(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=an(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(ve),h.LFG(Lt),h.LFG(h.AFp))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class tr{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(ws[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,u){if(u){e=u+":"+e;const f=ws[u];f?r.setAttributeNS(f,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const u=ws[o];u?r.removeAttributeNS(u,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,u){u&(h.JOm.DashCase|h.JOm.Important)?r.style.setProperty(e,o,u&h.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&h.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,wr(o)):this.eventManager.addEventListener(r,e,wr(o))}}class ic extends tr{constructor(r,e,o,u){super(r),this.component=o;const f=an(u+"-"+o.id,o.styles,[]);e.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Wn,u+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(Wn,u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class sc extends tr{constructor(r,e,o,u){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=an(u.id,u.styles,[]);for(let _=0;_<f.length;_++){const E=document.createElement("style");E.textContent=f[_],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let oc=(()=>{class i extends ut{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Qo=["alt","control","meta","shift"],ry={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lc={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Ts=(()=>{class i extends ut{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,u){const f=i.parseEventName(o),_=i.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(e,f.domEventName,_))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=i._normalizeKey(o.pop());let _="";if(Qo.forEach(w=>{const A=o.indexOf(w);A>-1&&(o.splice(A,1),_+=w+".")}),_+=f,0!=o.length||0===f.length)return null;const E={};return E.domEventName=u,E.fullKey=_,E}static getEventFullKey(e){let o="",u=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&Nn.hasOwnProperty(r)&&(r=Nn[r]))}return ry[r]||r}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Qo.forEach(f=>{f!=u&&lc[f](e)&&(o+=f+".")}),o+=u,o}static eventCallback(e,o,u){return f=>{i.getEventFullKey(f)===e&&u.runGuarded(()=>o(f))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const ea=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){Cl.makeCurrent(),Yo.init()},multi:!0},{provide:pe,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Ih=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:bs,useClass:oc,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:bs,useClass:Ts,multi:!0,deps:[pe]},[],{provide:Hi,useClass:Hi,deps:[ve,Lt,h.AFp]},{provide:h.FYo,useExisting:Hi},{provide:tc,useExisting:Lt},{provide:Lt,useClass:Lt,deps:[pe]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ve,useClass:ve,deps:[bs,h.R0b]},{provide:class{},useClass:bl,deps:[]},[]];let Ml=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:h.AFp,useValue:e.appId},{provide:El,useExisting:h.AFp},Xn]}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(i,12))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:Ih,imports:[zu,h.hGG]}),i})();"undefined"!=typeof window&&window;var rn=M(4402),In=M(7574),lo=M(9796),dt=M(8002),fc=M(1555);function sa(i,r){return new In.y(e=>{const o=i.length;if(0===o)return void e.complete();const u=new Array(o);let f=0,_=0;for(let E=0;E<o;E++){const w=(0,rn.D)(i[E]);let A=!1;e.add(w.subscribe({next:x=>{A||(A=!0,_++),u[E]=x},error:x=>e.error(x),complete:()=>{f++,(f===o||!A)&&(_===o&&e.next(r?r.reduce((x,L,J)=>(x[L]=u[J],x),{}):u),e.complete())}}))}})}let Nh=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Qsj),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i}),i})(),Dr=(()=>{class i extends Nh{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();const Hr=new h.OlP("NgValueAccessor"),pc={provide:Hr,useExisting:(0,h.Gpc)(()=>Tr),multi:!0},gc=new h.OlP("CompositionEventMode");let Tr=(()=>{class i extends Nh{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=U()?U().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(gc,8))},i.\u0275dir=h.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&h.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[h._Bn([pc]),h.qOj]}),i})();const sn=new h.OlP("NgValidators"),nr=new h.OlP("NgAsyncValidators");function kh(i){return null!=i}function aa(i){const r=(0,h.QGY)(i)?(0,rn.D)(i):i;return(0,h.CqO)(r),r}function hg(i){let r={};return i.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function mc(i,r){return r.map(e=>e(i))}function _c(i){return i.map(r=>function(i){return!i.validate}(r)?r:e=>r.validate(e))}function Ll(i){return null!=i?function(i){if(!i)return null;const r=i.filter(kh);return 0==r.length?null:function(e){return hg(mc(e,r))}}(_c(i)):null}function Ul(i){return null!=i?function(i){if(!i)return null;const r=i.filter(kh);return 0==r.length?null:function(e){return function(...i){if(1===i.length){const r=i[0];if((0,lo.k)(r))return sa(r,null);if((0,fc.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const e=Object.keys(r);return sa(e.map(o=>r[o]),e)}}if("function"==typeof i[i.length-1]){const r=i.pop();return sa(i=1===i.length&&(0,lo.k)(i[0])?i[0]:i,null).pipe((0,dt.U)(e=>r(...e)))}return sa(i,null)}(mc(e,r).map(aa)).pipe((0,dt.U)(hg))}}(_c(i)):null}function pg(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function Pt(i){return i?Array.isArray(i)?i:[i]:[]}function pi(i,r){return Array.isArray(i)?i.includes(r):i===r}function ua(i,r){const e=Pt(r);return Pt(i).forEach(u=>{pi(e,u)||e.push(u)}),e}function gg(i,r){return Pt(r).filter(e=>!pi(i,e))}let Fh=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ll(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ul(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i}),i})(),Nt=(()=>{class i extends Fh{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();class fn extends Fh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ca{constructor(r){this._cd=r}is(r){var e,o,u;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let Bl=(()=>{class i extends ca{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(fn,2))},i.\u0275dir=h.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[h.qOj]}),i})(),da=(()=>{class i extends ca{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Nt,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[h.qOj]}),i})();function ga(i,r){Bh(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&$l(i,r)})}(i,r),function(i,r){const e=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&$l(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,r)}function Zi(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Bh(i,r){const e=function(i){return i._rawValidators}(i);null!==r.validator?i.setValidators(pg(e,r.validator)):"function"==typeof e&&i.setValidators([e]);const o=function(i){return i._rawAsyncValidators}(i);null!==r.asyncValidator?i.setAsyncValidators(pg(o,r.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();Zi(r._rawValidators,u),Zi(r._rawAsyncValidators,u)}function $l(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function mo(i,r){const e=i.indexOf(r);e>-1&&i.splice(e,1)}const pr="VALID",Wr="INVALID",_o="PENDING",yo="DISABLED";function zl(i){return(Gr(i)?i.validators:i)||null}function Rs(i){return Array.isArray(i)?Ll(i):i||null}function Ar(i,r){return(Gr(r)?r.asyncValidators:i)||null}function vo(i){return Array.isArray(i)?Ul(i):i||null}function Gr(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Co{constructor(r,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Rs(this._rawValidators),this._composedAsyncValidatorFn=vo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===pr}get invalid(){return this.status===Wr}get pending(){return this.status==_o}get disabled(){return this.status===yo}get enabled(){return this.status!==yo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Rs(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=vo(r)}addValidators(r){this.setValidators(ua(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(ua(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(gg(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(gg(r,this._rawAsyncValidators))}hasValidator(r){return pi(this._rawValidators,r)}hasAsyncValidator(r){return pi(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=_o,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=yo,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=pr,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pr||this.status===_o)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yo:pr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=_o,this._hasOwnPendingAsyncValidator=!0;const e=aa(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function(i,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=i;return r.forEach(u=>{o=o instanceof _a?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof Zl&&o.at(u)||null}),o}(this,r)}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?yo:this.errors?Wr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_o)?_o:this._anyControlsHaveStatus(Wr)?Wr:pr}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Gr(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ma extends Co{constructor(r=null,e,o){super(zl(e),Ar(o,e)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=null,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){mo(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){mo(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class _a extends Co{constructor(r,e,o){super(zl(e),Ar(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=e instanceof ma?e.value:e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((u,f)=>{o=e(o,u,f)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Zl extends Co{constructor(r,e,o){super(zl(e),Ar(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r instanceof ma?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const Hh={provide:Nt,useExisting:(0,h.Gpc)(()=>zr)},ya=(()=>Promise.resolve(null))();let zr=(()=>{class i extends Nt{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new _a({},Ll(e),Ul(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ya.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),ga(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ya.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),mo(this._directives,e)})}addFormGroup(e){ya.then(()=>{const o=this._findContainer(e.path),u=new _a({});(function(i,r){Bh(i,r)})(u,e),o.registerControl(e.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ya.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){ya.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(i,r){i._syncPendingControls(),r.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(sn,10),h.Y36(nr,10))},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&h.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Hh]),h.qOj]}),i})();const Gh={provide:fn,useExisting:(0,h.Gpc)(()=>bo)},va=(()=>Promise.resolve(null))();let bo=(()=>{class i extends fn{constructor(e,o,u,f){super(),this.control=new ma,this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(i,r){if(!r)return null;let e,o,u;return Array.isArray(r),r.forEach(f=>{f.constructor===Tr?e=f:function(i){return Object.getPrototypeOf(i.constructor)===Dr}(f)?o=f:u=f}),u||o||e||null}(0,f)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,r){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,r){return[...r.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ga(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){va.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=""===o||o&&"false"!==o;va.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Nt,9),h.Y36(sn,10),h.Y36(nr,10),h.Y36(Hr,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Gh]),h.qOj,h.TTD]}),i})(),qi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Ca=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})(),uf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ca]]}),i})(),qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[uf]}),i})();var Ze=M(5917),Zr=M(9765),Gn=M(7971);class On extends Zr.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return e&&!e.closed&&r.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gn.N;return this._value}next(r){super.next(this._value=r)}}var Mc=M(4869),qr=M(7393);class Pc extends qr.L{notifyNext(r,e,o,u,f){this.destination.next(e)}notifyError(r,e){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Ns extends qr.L{constructor(r,e,o){super(),this.parent=r,this.outerValue=e,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var xn=M(7444);function Ta(i,r,e,o,u=new Ns(i,e,o)){if(!u.closed)return r instanceof In.y?r.subscribe(u):(0,xn.s)(r)(u)}var hf=M(6693);const Yr={};class Aa{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new Oc(r,this.resultSelector))}}class Oc extends Pc{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(Yr),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(Ta(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,o){const u=this.values,_=this.toRespond?u[o]===Yr?--this.toRespond:this.toRespond:0;u[o]=e,0===_&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const Sa=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var pn=M(3282);function Io(...i){return(0,pn.J)(1)((0,Ze.of)(...i))}var Kr=M(9193);function kc(i){return new In.y(r=>{let e;try{e=i()}catch(u){return void r.error(u)}return(e?(0,rn.D)(e):(0,Kr.c)()).subscribe(r)})}var _i=M(2441),Qr=M(5345);function gn(i,r){return"function"==typeof r?e=>e.pipe(gn((o,u)=>(0,rn.D)(i(o,u)).pipe((0,dt.U)((f,_)=>r(o,f,u,_))))):e=>e.lift(new Fc(i))}class Fc{constructor(r){this.project=r}call(r,e){return e.subscribe(new Ra(r,this.project))}}class Ra extends Qr.Ds{constructor(r,e){super(r),this.project=e,this.index=0}_next(r){let e;const o=this.index++;try{e=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(e)}_innerSub(r){const e=this.innerSubscription;e&&e.unsubscribe();const o=new Qr.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Qr.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const ff=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function pf(i){return r=>0===i?(0,Kr.c)():r.lift(new gf(i))}class gf{constructor(r){if(this.total=r,this.total<0)throw new ff}call(r,e){return e.subscribe(new y(r,this.total))}}class y extends qr.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){const e=this.total,o=++this.count;o<=e&&(this.destination.next(r),o===e&&(this.destination.complete(),this.unsubscribe()))}}function p(i,r){let e=!1;return arguments.length>=2&&(e=!0),function(u){return u.lift(new v(i,r,e))}}class v{constructor(r,e,o=!1){this.accumulator=r,this.seed=e,this.hasSeed=o}call(r,e){return e.subscribe(new D(r,this.accumulator,this.seed,this.hasSeed))}}class D extends qr.L{constructor(r,e,o,u){super(r),this.accumulator=e,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const e=this.index++;let o;try{o=this.accumulator(this.seed,r,e)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function S(i,r){return function(o){return o.lift(new G(i,r))}}class G{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new he(r,this.predicate,this.thisArg))}}class he extends qr.L{constructor(r,e,o){super(r),this.predicate=e,this.thisArg=o,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(r)}}function Ie(i){return function(e){const o=new Pe(i),u=e.lift(o);return o.caught=u}}class Pe{constructor(r){this.selector=r}call(r,e){return e.subscribe(new Ve(r,this.selector,this.caught))}}class Ve extends Qr.Ds{constructor(r,e,o){super(r),this.selector=e,this.caught=o}error(r){if(!this.isStopped){let e;try{e=this.selector(r,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const o=new Qr.IY(this);this.add(o);const u=(0,Qr.ft)(e,o);u!==o&&this.add(u)}}}var Me=M(9773);function Gt(i,r){return(0,Me.zg)(i,r,1)}function rr(i){return function(e){return 0===i?(0,Kr.c)():e.lift(new Na(i))}}class Na{constructor(r){if(this.total=r,this.total<0)throw new ff}call(r,e){return e.subscribe(new Pg(r,this.total))}}class Pg extends qr.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,o=this.total,u=this.count++;e.length<o?e.push(r):e[u%o]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let f=0;f<o;f++){const _=e++%o;r.next(u[_])}}r.complete()}}function Ma(i=Lc){return r=>r.lift(new mf(i))}class mf{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new _f(r,this.errorFactory))}}class _f extends qr.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function Lc(){return new Sa}function Ji(i=null){return r=>r.lift(new Rr(i))}class Rr{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new yf(r,this.defaultValue))}}class yf extends qr.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var vf=M(4487);function Xi(i,r){const e=arguments.length>=2;return o=>o.pipe(i?S((u,f)=>i(u,f,o)):vf.y,pf(1),e?Ji(r):Ma(()=>new Sa))}var Yt=M(3342),Og=M(1307),Ef=M(5319);class py{constructor(r){this.callback=r}call(r,e){return e.subscribe(new Vc(r,this.callback))}}class Vc extends qr.L{constructor(r,e){super(r),this.add(new Ef.w(e))}}class es{constructor(r,e){this.id=r,this.url=e}}class bf extends es{constructor(r,e,o="imperative",u=null){super(r,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pa extends es{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wf extends es{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gy extends es{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WI extends es{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eu extends es{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xg extends es{constructor(r,e,o,u,f){super(r,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class my extends es{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UE extends es{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class If{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _y{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BE{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jE{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HE{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $E{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yy{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class kg{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Oa(i){return new kg(i)}const Df="ngNavigationCancelingError";function Fg(i){const r=Error("NavigationCancelingError: "+i);return r[Df]=!0,r}function vy(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const u={};for(let f=0;f<o.length;f++){const _=o[f],E=i[f];if(_.startsWith(":"))u[_.substring(1)]=E;else if(_!==E.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function zn(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let f=0;f<e.length;f++)if(u=e[f],!Lg(i[u],r[u]))return!1;return!0}function Lg(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((u,f)=>o[f]===u)}return i===r}function Vg(i){return Array.prototype.concat.apply([],i)}function Ey(i){return i.length>0?i[i.length-1]:null}function kn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function yi(i){return(0,h.CqO)(i)?i:(0,h.QGY)(i)?(0,rn.D)(Promise.resolve(i)):(0,Ze.of)(i)}const wy={exact:function Uc(i,r,e){if(!xa(i.segments,r.segments)||!tu(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!Uc(i.children[o],r.children[o],e))return!1;return!0},subset:Sf},Tf={exact:function(i,r){return zn(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>Lg(i[e],r[e]))},ignored:()=>!0};function Bg(i,r,e){return wy[e.paths](i.root,r.root,e.matrixParams)&&Tf[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function Sf(i,r,e){return jg(i,r,r.segments,e)}function jg(i,r,e,o){if(i.segments.length>e.length){const u=i.segments.slice(0,e.length);return!(!xa(u,e)||r.hasChildren()||!tu(u,e,o))}if(i.segments.length===e.length){if(!xa(i.segments,e)||!tu(i.segments,e,o))return!1;for(const u in r.children)if(!i.children[u]||!Sf(i.children[u],r.children[u],o))return!1;return!0}{const u=e.slice(0,i.segments.length),f=e.slice(i.segments.length);return!!(xa(i.segments,u)&&tu(i.segments,u,o)&&i.children[ht])&&jg(i.children[ht],r,f,o)}}function tu(i,r,e){return r.every((o,u)=>Tf[e](i[u].parameters,o.parameters))}class vi{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return GI.serialize(this)}}class yt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,kn(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class nu{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return Ty(this)}}function xa(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class Bc{}class Hg{parse(r){const e=new Ay(r);return new vi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){var i;return`${`/${Hc(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(u=>`${Rf(e)}=${Rf(u)}`).join("&"):`${Rf(e)}=${Rf(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const GI=new Hg;function jc(i){return i.segments.map(r=>Ty(r)).join("/")}function Hc(i,r){if(!i.hasChildren())return jc(i);if(r){const e=i.children[ht]?Hc(i.children[ht],!1):"",o=[];return kn(i.children,(u,f)=>{f!==ht&&o.push(`${f}:${Hc(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,r){let e=[];return kn(i.children,(o,u)=>{u===ht&&(e=e.concat(r(o,u)))}),kn(i.children,(o,u)=>{u!==ht&&(e=e.concat(r(o,u)))}),e}(i,(o,u)=>u===ht?[Hc(i.children[ht],!1)]:[`${u}:${Hc(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ht]?`${jc(i)}/${e[0]}`:`${jc(i)}/(${e.join("//")})`}}function $g(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rf(i){return $g(i).replace(/%3B/gi,";")}function Nr(i){return $g(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nf(i){return decodeURIComponent(i)}function Wg(i){return Nf(i.replace(/\+/g,"%20"))}function Ty(i){return`${Nr(i.path)}${function(i){return Object.keys(i).map(r=>`;${Nr(r)}=${Nr(i[r])}`).join("")}(i.parameters)}`}const YE=/^[^\/()?;=#]+/;function $c(i){const r=i.match(YE);return r?r[0]:""}const KE=/^[^=?&#]+/,JE=/^[^?&#]+/;class Ay{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[ht]=new yt(r,e)),o}parseSegment(){const r=$c(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new nu(Nf(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=$c(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=$c(this.remaining);u&&(o=u,this.capture(o))}r[Nf(e)]=Nf(o)}parseQueryParam(r){const e=function(i){const r=i.match(KE);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const _=function(i){const r=i.match(JE);return r?r[0]:""}(this.remaining);_&&(o=_,this.capture(o))}const u=Wg(e),f=Wg(o);if(r.hasOwnProperty(u)){let _=r[u];Array.isArray(_)||(_=[_],r[u]=_),_.push(f)}else r[u]=f}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=$c(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=ht);const _=this.parseChildren();e[f]=1===Object.keys(_).length?_[ht]:new yt([],_),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Gg{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=ru(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=ru(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Mr(r,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Mr(r,this._root).map(e=>e.value)}}function ru(i,r){if(i===r.value)return r;for(const e of r.children){const o=ru(i,e);if(o)return o}return null}function Mr(i,r){if(i===r.value)return[r];for(const e of r.children){const o=Mr(i,e);if(o.length)return o.unshift(r),o}return[]}class ts{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wc(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class Mf extends Gg{constructor(r,e){super(r),this.snapshot=e,Ci(this,r)}toString(){return this.snapshot.toString()}}function ns(i,r){const e=function(i,r){const _=new Gc([],{},{},"",{},ht,r,null,i.root,-1,{});return new XE("",new ts(_,[]))}(i,r),o=new On([new nu("",{})]),u=new On({}),f=new On({}),_=new On({}),E=new On(""),w=new ka(o,u,_,E,f,ht,r,e.root);return w.snapshot=e.root,new Mf(new ts(w,[]),e)}class ka{constructor(r,e,o,u,f,_,E,w){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=_,this.component=E,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(r=>Oa(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(r=>Oa(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pf(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const u=e[o],f=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Gc{constructor(r,e,o,u,f,_,E,w,A,x,L){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=_,this.component=E,this.routeConfig=w,this._urlSegment=A,this._lastPathIndex=x,this._resolve=L}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XE extends Gg{constructor(r,e){super(e),this.url=r,Ci(this,e)}toString(){return zc(this._root)}}function Ci(i,r){r.value._routerState=i,r.children.forEach(e=>Ci(i,e))}function zc(i){const r=i.children.length>0?` { ${i.children.map(zc).join(", ")} } `:"";return`${i.value}${r}`}function iu(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,zn(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),zn(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!zn(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),zn(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Zc(i,r){return zn(i.params,r.params)&&function(i,r){return xa(i,r)&&i.every((e,o)=>zn(e.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||Zc(i.parent,r.parent))}function Of(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const u=function(i,r,e){return r.children.map(o=>{for(const u of e.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return Of(i,o,u);return Of(i,o)})}(i,r,e);return new ts(o,u)}{if(i.shouldAttach(r.value)){const f=i.retrieve(r.value);if(null!==f){const _=f.route;return Zg(r,_),_}}const o=function(i){return new ka(new On(i.url),new On(i.params),new On(i.queryParams),new On(i.fragment),new On(i.data),i.outlet,i.component,i)}(r.value),u=r.children.map(f=>Of(i,f));return new ts(o,u)}}function Zg(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)Zg(i.children[e],r.children[e])}function qc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function su(i){return"object"==typeof i&&null!=i&&i.outlets}function qg(i,r,e,o,u){let f={};return o&&kn(o,(_,E)=>{f[E]=Array.isArray(_)?_.map(w=>`${w}`):`${_}`}),new vi(e.root===i?r:xf(e.root,i,r),f,u)}function xf(i,r,e){const o={};return kn(i.children,(u,f)=>{o[f]=u===r?e:xf(u,r,e)}),new yt(i.segments,o)}class t0{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&qc(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(su);if(u&&u!==Ey(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sy{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function n0(i,r,e){if(i||(i=new yt([],{})),0===i.segments.length&&i.hasChildren())return Yg(i,r,e);const o=function(i,r,e){let o=0,u=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=e.length)return f;const _=i.segments[u],E=e[o];if(su(E))break;const w=`${E}`,A=o<e.length-1?e[o+1]:null;if(u>0&&void 0===w)break;if(w&&A&&"object"==typeof A&&void 0===A.outlets){if(!kf(w,A,_))return f;o+=2}else{if(!kf(w,{},_))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,r,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const f=new yt(i.segments.slice(0,o.pathIndex),{});return f.children[ht]=new yt(i.segments.slice(o.pathIndex),i.children),Yg(f,0,u)}return o.match&&0===u.length?new yt(i.segments,{}):o.match&&!i.hasChildren()?Ry(i,r,e):o.match?Yg(i,0,u):Ry(i,r,e)}function Yg(i,r,e){if(0===e.length)return new yt(i.segments,{});{const o=function(i){return su(i[0])?i[0].outlets:{[ht]:i}}(e),u={};return kn(o,(f,_)=>{"string"==typeof f&&(f=[f]),null!==f&&(u[_]=n0(i.children[_],r,f))}),kn(i.children,(f,_)=>{void 0===o[_]&&(u[_]=f)}),new yt(i.segments,u)}}function Ry(i,r,e){const o=i.segments.slice(0,r);let u=0;for(;u<e.length;){const f=e[u];if(su(f)){const w=tD(f.outlets);return new yt(o,w)}if(0===u&&qc(e[0])){o.push(new nu(i.segments[r].path,Ms(e[0]))),u++;continue}const _=su(f)?f.outlets[ht]:`${f}`,E=u<e.length-1?e[u+1]:null;_&&E&&qc(E)?(o.push(new nu(_,Ms(E))),u+=2):(o.push(new nu(_,{})),u++)}return new yt(o,{})}function tD(i){const r={};return kn(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=Ry(new yt([],{}),0,e))}),r}function Ms(i){const r={};return kn(i,(e,o)=>r[o]=`${e}`),r}function kf(i,r,e){return i==e.path&&zn(r,e.parameters)}class Ny{constructor(r,e,o,u){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),iu(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const u=Wc(e);r.children.forEach(f=>{const _=f.value.outlet;this.deactivateRoutes(f,u[_],o),delete u[_]}),kn(u,(f,_)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(r,e,o){const u=r.value,f=e?e.value:null;if(u===f)if(u.component){const _=o.getContext(u.outlet);_&&this.deactivateChildRoutes(r,e,_.children)}else this.deactivateChildRoutes(r,e,o);else f&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:f})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),u=o&&r.value.component?o.children:e,f=Wc(r);for(const _ of Object.keys(f))this.deactivateRouteAndItsChildren(f[_],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const u=Wc(e);r.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new $E(f.value.snapshot))}),r.children.length&&this.forwardEvent(new jE(r.value.snapshot))}activateRoutes(r,e,o){const u=r.value,f=e?e.value:null;if(iu(u),u===f)if(u.component){const _=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,e,_.children)}else this.activateChildRoutes(r,e,o);else if(u.component){const _=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const E=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),_.children.onOutletReAttached(E.contexts),_.attachRef=E.componentRef,_.route=E.route.value,_.outlet&&_.outlet.attach(E.componentRef,E.route.value),Ff(E.route)}else{const E=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),w=E?E.module.componentFactoryResolver:null;_.attachRef=null,_.route=u,_.resolver=w,_.outlet&&_.outlet.activateWith(u,w),this.activateChildRoutes(r,null,_.children)}}else this.activateChildRoutes(r,null,o)}}function Ff(i){iu(i.value),i.children.forEach(Ff)}class Yc{constructor(r,e){this.routes=r,this.module=e}}function Do(i){return"function"==typeof i}function Ao(i){return i instanceof vi}const ou=Symbol("INITIAL_VALUE");function Kc(){return gn(i=>function(...i){let r,e;return(0,Mc.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,lo.k)(i[0])&&(i=i[0]),(0,hf.n)(i,e).lift(new Aa(r))}(i.map(r=>r.pipe(pf(1),function(...i){const r=i[i.length-1];return(0,Mc.K)(r)?(i.pop(),e=>Io(i,e,r)):e=>Io(i,e)}(ou)))).pipe(p((r,e)=>{let o=!1;return e.reduce((u,f,_)=>u!==ou?u:(f===ou&&(o=!0),o||!1!==f&&_!==e.length-1&&!Ao(f)?u:f),r)},ou),S(r=>r!==ou),(0,dt.U)(r=>Ao(r)?r:!0===r),pf(1)))}let Py=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&h._UZ(0,"router-outlet")},directives:function(){return[ad]},encapsulation:2}),i})();function au(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];lu(o,Qg(r,o))}}function lu(i,r){i.children&&au(i.children,r)}function Qg(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function So(i){const r=i.children&&i.children.map(So),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=Py),e}function Zn(i){return i.outlet||ht}function Fa(i,r){const e=i.filter(o=>Zn(o)===r);return e.push(...i.filter(o=>Zn(o)!==r)),e}const Oy={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qc(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Oy):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||vy)(e,i,r);if(!f)return Object.assign({},Oy);const _={};kn(f.posParams,(w,A)=>{_[A]=w.path});const E=f.consumed.length>0?Object.assign(Object.assign({},_),f.consumed[f.consumed.length-1].parameters):_;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:E,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function Jc(i,r,e,o,u="corrected"){if(e.length>0&&function(i,r,e){return e.some(o=>Vf(i,r,o)&&Zn(o)!==ht)}(i,e,o)){const _=new yt(r,function(i,r,e,o){const u={};u[ht]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const f of e)if(""===f.path&&Zn(f)!==ht){const _=new yt([],{});_._sourceSegment=i,_._segmentIndexShift=r.length,u[Zn(f)]=_}return u}(i,r,o,new yt(e,i.children)));return _._sourceSegment=i,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(o=>Vf(i,r,o))}(i,e,o)){const _=new yt(i.segments,function(i,r,e,o,u,f){const _={};for(const E of o)if(Vf(i,e,E)&&!u[Zn(E)]){const w=new yt([],{});w._sourceSegment=i,w._segmentIndexShift="legacy"===f?i.segments.length:r.length,_[Zn(E)]=w}return Object.assign(Object.assign({},u),_)}(i,r,e,o,i.children,u));return _._sourceSegment=i,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:e}}const f=new yt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:e}}function Vf(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function em(i,r,e,o){return!!(Zn(i)===o||o!==ht&&Vf(r,e,i))&&("**"===i.path||Qc(r,i,e).matched)}function a0(i,r,e){return 0===r.length&&!i.children[e]}class uu{constructor(r){this.segmentGroup=r||null}}class tm{constructor(r){this.urlTree=r}}function Uf(i){return new In.y(r=>r.error(new uu(i)))}function nm(i){return new In.y(r=>r.error(new tm(i)))}function l0(i){return new In.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class c0{constructor(r,e,o,u,f){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(h.h0i)}apply(){const r=Jc(this.urlTree.root,[],[],this.config).segmentGroup,e=new yt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ht).pipe((0,dt.U)(f=>this.createUrlTree(ky(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ie(f=>{if(f instanceof tm)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof uu?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,ht).pipe((0,dt.U)(u=>this.createUrlTree(ky(u),r.queryParams,r.fragment))).pipe(Ie(u=>{throw u instanceof uu?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const u=r.segments.length>0?new yt([],{[ht]:r}):r;return new vi(u,e,o)}expandSegmentGroup(r,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,dt.U)(f=>new yt([],f))):this.expandSegment(r,o,e,o.segments,u,!0)}expandChildren(r,e,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,rn.D)(u).pipe(Gt(f=>{const _=o.children[f],E=Fa(e,f);return this.expandSegmentGroup(r,E,_,f).pipe((0,dt.U)(w=>({segment:w,outlet:f})))}),p((f,_)=>(f[_.outlet]=_.segment,f),{}),function(i,r){const e=arguments.length>=2;return o=>o.pipe(i?S((u,f)=>i(u,f,o)):vf.y,rr(1),e?Ji(r):Ma(()=>new Sa))}())}expandSegment(r,e,o,u,f,_){return(0,rn.D)(o).pipe(Gt(E=>this.expandSegmentAgainstRoute(r,e,o,E,u,f,_).pipe(Ie(A=>{if(A instanceof uu)return(0,Ze.of)(null);throw A}))),Xi(E=>!!E),Ie((E,w)=>{if(E instanceof Sa||"EmptyError"===E.name){if(a0(e,u,f))return(0,Ze.of)(new yt([],{}));throw new uu(e)}throw E}))}expandSegmentAgainstRoute(r,e,o,u,f,_,E){return em(u,e,f,_)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,e,u,f,_):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_):Uf(e):Uf(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,_):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,u){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?nm(f):this.lineralizeSegments(o,f).pipe((0,Me.zg)(_=>{const E=new yt(_,{});return this.expandSegment(r,E,e,_,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_){const{matched:E,consumedSegments:w,lastChild:A,positionalParamSegments:x}=Qc(e,u,f);if(!E)return Uf(e);const L=this.applyRedirectCommands(w,u.redirectTo,x);return u.redirectTo.startsWith("/")?nm(L):this.lineralizeSegments(u,L).pipe((0,Me.zg)(J=>this.expandSegment(r,e,o,J.concat(f.slice(A)),_,!1)))}matchSegmentAgainstRoute(r,e,o,u,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ze.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,dt.U)(J=>(o._loadedConfig=J,new yt(u,{})))):(0,Ze.of)(new yt(u,{}));const{matched:_,consumedSegments:E,lastChild:w}=Qc(e,o,u);if(!_)return Uf(e);const A=u.slice(w);return this.getChildConfig(r,o,u).pipe((0,Me.zg)(L=>{const J=L.module,fe=L.routes,{segmentGroup:De,slicedSegments:We}=Jc(e,E,A,fe),rt=new yt(De.segments,De.children);if(0===We.length&&rt.hasChildren())return this.expandChildren(J,fe,rt).pipe((0,dt.U)(_n=>new yt(E,_n)));if(0===fe.length&&0===We.length)return(0,Ze.of)(new yt(E,{}));const Xt=Zn(o)===f;return this.expandSegment(J,rt,fe,We,Xt?ht:f,!0).pipe((0,dt.U)(wt=>new yt(E.concat(wt.segments),wt.children)))}))}getChildConfig(r,e,o){return e.children?(0,Ze.of)(new Yc(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,Ze.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,Me.zg)(u=>{return u?this.configLoader.load(r.injector,e).pipe((0,dt.U)(f=>(e._loadedConfig=f,f))):(i=e,new In.y(r=>r.error(Fg(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Ze.of)(new Yc([],r))}runCanLoadGuards(r,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,Ze.of)(!0);const f=u.map(_=>{const E=r.get(_);let w;if((i=E)&&Do(i.canLoad))w=E.canLoad(e,o);else{if(!Do(E))throw new Error("Invalid CanLoad guard");w=E(e,o)}var i;return yi(w)});return(0,Ze.of)(f).pipe(Kc(),(0,Yt.b)(_=>{if(!Ao(_))return;const E=Fg(`Redirecting to "${this.urlSerializer.serialize(_)}"`);throw E.url=_,E}),(0,dt.U)(_=>!0===_))}lineralizeSegments(r,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Ze.of)(o);if(u.numberOfChildren>1||!u.children[ht])return l0(r.redirectTo);u=u.children[ht]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,u){const f=this.createSegmentGroup(r,e.root,o,u);return new vi(f,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return kn(r,(u,f)=>{if("string"==typeof u&&u.startsWith(":")){const E=u.substring(1);o[f]=e[E]}else o[f]=u}),o}createSegmentGroup(r,e,o,u){const f=this.createSegments(r,e.segments,o,u);let _={};return kn(e.children,(E,w)=>{_[w]=this.createSegmentGroup(r,E,o,u)}),new yt(f,_)}createSegments(r,e,o,u){return e.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,u):this.findOrReturn(f,o))}findPosParam(r,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return u}findOrReturn(r,e){let o=0;for(const u of e){if(u.path===r.path)return e.splice(o),u;o++}return r}}function ky(i){const r={};for(const o of Object.keys(i.children)){const f=ky(i.children[o]);(f.segments.length>0||f.hasChildren())&&(r[o]=f)}return function(i){if(1===i.numberOfChildren&&i.children[ht]){const r=i.children[ht];return new yt(i.segments.concat(r.segments),r.children)}return i}(new yt(i.segments,r))}class rm{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class im{constructor(r,e){this.component=r,this.route=e}}function h0(i,r,e){const o=i._root;return ed(o,r?r._root:null,e,[o.value])}function Xc(i,r,e){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function ed(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=Wc(r);return i.children.forEach(_=>{(function(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,_=r?r.value:null,E=e?e.getContext(i.value.outlet):null;if(_&&f.routeConfig===_.routeConfig){const w=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!xa(i.url,r.url);case"pathParamsOrQueryParamsChange":return!xa(i.url,r.url)||!zn(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zc(i,r)||!zn(i.queryParams,r.queryParams);case"paramsChange":default:return!Zc(i,r)}}(_,f,f.routeConfig.runGuardsAndResolvers);w?u.canActivateChecks.push(new rm(o)):(f.data=_.data,f._resolvedData=_._resolvedData),ed(i,r,f.component?E?E.children:null:e,o,u),w&&E&&E.outlet&&E.outlet.isActivated&&u.canDeactivateChecks.push(new im(E.outlet.component,_))}else _&&td(r,E,u),u.canActivateChecks.push(new rm(o)),ed(i,null,f.component?E?E.children:null:e,o,u)})(_,f[_.value.outlet],e,o.concat([_.value]),u),delete f[_.value.outlet]}),kn(f,(_,E)=>td(_,e.getContext(E),u)),u}function td(i,r,e){const o=Wc(i),u=i.value;kn(o,(f,_)=>{td(f,u.component?r?r.children.getContext(_):null:r,e)}),e.canDeactivateChecks.push(new im(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class y0{}function By(i){return new In.y(r=>r.error(i))}class jy{constructor(r,e,o,u,f,_){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=_}recognize(){const r=Jc(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,ht);if(null===e)return null;const o=new Gc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new ts(o,e),f=new XE(this.url,u);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const e=r.value,o=Pf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const f of Object.keys(e.children)){const _=e.children[f],E=Fa(r,f),w=this.processSegmentGroup(E,_,f);if(null===w)return null;o.push(...w)}const u=Bf(o);return u.sort((r,e)=>r.value.outlet===ht?-1:e.value.outlet===ht?1:r.value.outlet.localeCompare(e.value.outlet)),u}processSegment(r,e,o,u){for(const f of r){const _=this.processSegmentAgainstRoute(f,e,o,u);if(null!==_)return _}return a0(e,o,u)?[]:null}processSegmentAgainstRoute(r,e,o,u){if(r.redirectTo||!em(r,e,o,u))return null;let f,_=[],E=[];if("**"===r.path){const fe=o.length>0?Ey(o).parameters:{};f=new Gc(o,fe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jf(r),Zn(r),r.component,r,Hy(e),nd(e)+o.length,$y(r))}else{const fe=Qc(e,r,o);if(!fe.matched)return null;_=fe.consumedSegments,E=o.slice(fe.lastChild),f=new Gc(_,fe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jf(r),Zn(r),r.component,r,Hy(e),nd(e)+_.length,$y(r))}const w=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:x}=Jc(e,_,E,w.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution);var i;if(0===x.length&&A.hasChildren()){const fe=this.processChildren(w,A);return null===fe?null:[new ts(f,fe)]}if(0===w.length&&0===x.length)return[new ts(f,[])];const L=Zn(r)===u,J=this.processSegment(w,A,x,L?ht:u);return null===J?null:[new ts(f,J)]}}function E0(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Bf(i){const r=[],e=new Set;for(const o of i){if(!E0(o)){r.push(o);continue}const u=r.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):r.push(o)}for(const o of e){const u=Bf(o.children);r.push(new ts(o.value,u))}return r.filter(o=>!e.has(o))}function Hy(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function nd(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function jf(i){return i.data||{}}function $y(i){return i.resolve||{}}function rd(i){return gn(r=>{const e=i(r);return e?(0,rn.D)(e).pipe((0,dt.U)(()=>r)):(0,Ze.of)(r)})}class Gy extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Hf=new h.OlP("ROUTES");class um{constructor(r,e,o,u){this.loader=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,dt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(e);const _=f.create(r);return new Yc(Vg(_.injector.get(Hf,void 0,h.XFs.Self|h.XFs.Optional)).map(So),_)}),Ie(f=>{throw e._loader$=void 0,f}));return e._loader$=new _i.c(u,()=>new Zr.xQ).pipe((0,Og.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,rn.D)(this.loader.load(r)):yi(r()).pipe((0,Me.zg)(e=>e instanceof h.YKP?(0,Ze.of)(e):(0,rn.D)(this.compiler.compileModuleAsync(e))))}}class zy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new La,this.attachRef=null}}class La{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new zy,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class $f{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function D0(i){throw i}function T0(i,r,e){return r.parse("/")}function A0(i,r){return(0,Ze.of)(null)}const cu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class i{constructor(e,o,u,f,_,E,w,A){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=f,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zr.xQ,this.errorHandler=D0,this.malformedUriErrorHandler=T0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:A0,afterPreactivation:A0},this.urlHandlingStrategy=new $f,this.routeReuseStrategy=new Gy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_.get(h.h0i),this.console=_.get(h.c2e);const J=_.get(h.R0b);this.isNgZoneEnabled=J instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new vi(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new um(E,w,fe=>this.triggerEvent(new If(fe)),fe=>this.triggerEvent(new _y(fe))),this.routerState=ns(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(S(u=>0!==u.id),(0,dt.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),gn(u=>{let f=!1,_=!1;return(0,Ze.of)(u).pipe((0,Yt.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(E=>{const w=!this.navigated||E.extractedUrl.toString()!==this.browserUrlTree.toString(),A=("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl);if(Wf(E.source)&&(this.browserUrlTree=E.rawUrl),A)return(0,Ze.of)(E).pipe(gn(x=>{const L=this.transitions.getValue();return o.next(new bf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?Kr.E:Promise.resolve(x)}),function(i,r,e,o){return gn(u=>function(i,r,e,o,u){return new c0(i,r,e,o,u).apply()}(i,r,e,u.extractedUrl,o).pipe((0,dt.U)(f=>Object.assign(Object.assign({},u),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(i,r,e,o,u){return(0,Me.zg)(f=>function(i,r,e,o,u="emptyOnly",f="legacy"){try{const _=new jy(i,r,e,o,u,f).recognize();return null===_?By(new y0):(0,Ze.of)(_)}catch(_){return By(_)}}(i,r,f.urlAfterRedirects,e(f.urlAfterRedirects),o,u).pipe((0,dt.U)(_=>Object.assign(Object.assign({},f),{targetSnapshot:_}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const L=new WI(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(L)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:J,source:fe,restoredState:De,extras:We}=E,rt=new bf(L,this.serializeUrl(J),fe,De);o.next(rt);const Xt=ns(J,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},E),{targetSnapshot:Xt,urlAfterRedirects:J,extras:Object.assign(Object.assign({},We),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),Kr.E}),rd(E=>{const{targetSnapshot:w,id:A,extractedUrl:x,rawUrl:L,extras:{skipLocationChange:J,replaceUrl:fe}}=E;return this.hooks.beforePreactivation(w,{navigationId:A,appliedUrlTree:x,rawUrlTree:L,skipLocationChange:!!J,replaceUrl:!!fe})}),(0,Yt.b)(E=>{const w=new eu(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(w)}),(0,dt.U)(E=>Object.assign(Object.assign({},E),{guards:h0(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,r){return(0,Me.zg)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:_}}=e;return 0===_.length&&0===f.length?(0,Ze.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,o){return(0,rn.D)(i).pipe((0,Me.zg)(u=>function(i,r,e,o,u){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,Ze.of)(!0);const _=f.map(E=>{const w=Xc(E,r,u);let A;if(function(i){return i&&Do(i.canDeactivate)}(w))A=yi(w.canDeactivate(i,r,e,o));else{if(!Do(w))throw new Error("Invalid CanDeactivate guard");A=yi(w(i,r,e,o))}return A.pipe(Xi())});return(0,Ze.of)(_).pipe(Kc())}(u.component,u.route,e,r,o)),Xi(u=>!0!==u,!0))}(_,o,u,i).pipe((0,Me.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,r,e,o){return(0,rn.D)(r).pipe(Gt(u=>Io(function(i,r){return null!==i&&r&&r(new BE(i)),(0,Ze.of)(!0)}(u.route.parent,o),function(i,r){return null!==i&&r&&r(new HE(i)),(0,Ze.of)(!0)}(u.route,o),function(i,r,e){const o=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(_=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(_)).filter(_=>null!==_).map(_=>kc(()=>{const E=_.guards.map(w=>{const A=Xc(w,_.node,e);let x;if(function(i){return i&&Do(i.canActivateChild)}(A))x=yi(A.canActivateChild(o,i));else{if(!Do(A))throw new Error("Invalid CanActivateChild guard");x=yi(A(o,i))}return x.pipe(Xi())});return(0,Ze.of)(E).pipe(Kc())}));return(0,Ze.of)(f).pipe(Kc())}(i,u.path,e),function(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ze.of)(!0);const u=o.map(f=>kc(()=>{const _=Xc(f,r,e);let E;if(function(i){return i&&Do(i.canActivate)}(_))E=yi(_.canActivate(r,i));else{if(!Do(_))throw new Error("Invalid CanActivate guard");E=yi(_(r,i))}return E.pipe(Xi())}));return(0,Ze.of)(u).pipe(Kc())}(i,u.route,e))),Xi(u=>!0!==u,!0))}(o,f,i,r):(0,Ze.of)(E)),(0,dt.U)(E=>Object.assign(Object.assign({},e),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,Yt.b)(E=>{if(Ao(E.guardsResult)){const A=Fg(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw A.url=E.guardsResult,A}const w=new xg(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(w)}),S(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),rd(E=>{if(E.guards.canActivateChecks.length)return(0,Ze.of)(E).pipe((0,Yt.b)(w=>{const A=new my(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}),gn(w=>{let A=!1;return(0,Ze.of)(w).pipe(function(i,r){return(0,Me.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,Ze.of)(e);let f=0;return(0,rn.D)(u).pipe(Gt(_=>function(i,r,e,o){return function(i,r,e,o){const u=Object.keys(i);if(0===u.length)return(0,Ze.of)({});const f={};return(0,rn.D)(u).pipe((0,Me.zg)(_=>function(i,r,e,o){const u=Xc(i,r,o);return yi(u.resolve?u.resolve(r,e):u(r,e))}(i[_],r,e,o).pipe((0,Yt.b)(E=>{f[_]=E}))),rr(1),(0,Me.zg)(()=>Object.keys(f).length===u.length?(0,Ze.of)(f):Kr.E))}(i._resolve,i,r,o).pipe((0,dt.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),Pf(i,e).resolve),null)))}(_.route,o,i,r)),(0,Yt.b)(()=>f++),rr(1),(0,Me.zg)(_=>f===u.length?(0,Ze.of)(e):Kr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(w=>{const A=new UE(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}))}),rd(E=>{const{targetSnapshot:w,id:A,extractedUrl:x,rawUrl:L,extras:{skipLocationChange:J,replaceUrl:fe}}=E;return this.hooks.afterPreactivation(w,{navigationId:A,appliedUrlTree:x,rawUrlTree:L,skipLocationChange:!!J,replaceUrl:!!fe})}),(0,dt.U)(E=>{const w=function(i,r,e){const o=Of(i,r._root,e?e._root:void 0);return new Mf(o,r)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:w})}),(0,Yt.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,r,e)=>(0,dt.U)(o=>(new Ny(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,Yt.b)({next(){f=!0},complete(){f=!0}}),function(i){return r=>r.lift(new py(i))}(()=>{if(!f&&!_){const E=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,E)):this.cancelNavigationTransition(u,E)}this.currentNavigation=null}),Ie(E=>{if(_=!0,function(i){return i&&i[Df]}(E)){const w=Ao(E.url);w||(this.navigated=!0,this.restoreHistory(u,!0));const A=new wf(u.id,this.serializeUrl(u.extractedUrl),E.message);o.next(A),w?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),L={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wf(u.source)};this.scheduleNavigation(x,"imperative",null,L,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const w=new gy(u.id,this.serializeUrl(u.extractedUrl),E);o.next(w);try{u.resolve(this.errorHandler(E))}catch(A){u.reject(A)}}return Kr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:f,urlTree:_}=o,E={replaceUrl:!0};if(f){const w=Object.assign({},f);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(E.state=w)}this.scheduleNavigation(_,u,f,E)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const u=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!u||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){au(e),this.config=e.map(So),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:f,fragment:_,queryParamsHandling:E,preserveFragment:w}=o,A=u||this.routerState.root,x=w?this.currentUrlTree.fragment:_;let L=null;switch(E){case"merge":L=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":L=this.currentUrlTree.queryParams;break;default:L=f||null}return null!==L&&(L=this.removeEmptyProps(L)),function(i,r,e,o,u){if(0===e.length)return qg(r.root,r.root,r,o,u);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new t0(!0,0,i);let r=0,e=!1;const o=i.reduce((u,f,_)=>{if("object"==typeof f&&null!=f){if(f.outlets){const E={};return kn(f.outlets,(w,A)=>{E[A]="string"==typeof w?w.split("/"):w}),[...u,{outlets:E}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===_?(f.split("/").forEach((E,w)=>{0==w&&"."===E||(0==w&&""===E?e=!0:".."===E?r++:""!=E&&u.push(E))}),u):[...u,f]},[]);return new t0(e,r,o)}(e);if(f.toRoot())return qg(r.root,new yt([],{}),r,o,u);const _=function(i,r,e){if(i.isAbsolute)return new Sy(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const f=e.snapshot._urlSegment;return new Sy(f,f===r.root,0)}const o=qc(i.commands[0])?0:1;return function(i,r,e){let o=i,u=r,f=e;for(;f>u;){if(f-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new Sy(o,!1,u-f)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(f,r,i),E=_.processChildren?Yg(_.segmentGroup,_.index,f.commands):n0(_.segmentGroup,_.index,f.commands);return qg(_.segmentGroup,E,r,o,u)}(A,this.currentUrlTree,e,L,null!=x?x:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=Ao(e)?e:this.parseUrl(e),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},cu):!1===o?Object.assign({},Zy):o,Ao(e))return Bg(this.currentUrlTree,e,u);const f=this.parseUrl(e);return Bg(this.currentUrlTree,f,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const f=e[u];return null!=f&&(o[u]=f),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Pa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,u,f,_){var E,w;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),x=Wf(o)&&A&&!Wf(A.source),fe=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===e.toString();if(x&&fe)return Promise.resolve(!0);let De,We,rt;_?(De=_.resolve,We=_.reject,rt=_.promise):rt=new Promise((wt,_n)=>{De=wt,We=_n});const Xt=++this.navigationId;let $t;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),$t=u&&u.\u0275routerPageId?u.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):$t=0,this.setTransition({id:Xt,targetPageId:$t,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:f,resolve:De,reject:We,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(wt=>Promise.reject(wt))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",f):this.location.go(u,"",f)}restoreHistory(e,o=!1){var u,f;if("computed"===this.canceledNavigationResolution){const _=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===_?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===_&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new wf(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.DyG),h.LFG(Bc),h.LFG(La),h.LFG(Ne),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Wf(i){return"imperative"!==i}let od=(()=>{class i{constructor(e,o,u){this.router=e,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new Zr.xQ,this.subscription=e.events.subscribe(f=>{f instanceof Pa&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,u,f,_){if(0!==e||o||u||f||_||"string"==typeof this.target&&"_self"!=this.target)return!0;const E={skipLocationChange:du(this.skipLocationChange),replaceUrl:du(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:du(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(mn),h.Y36(ka),h.Y36(Ce))},i.\u0275dir=h.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&h.NdJ("click",function(f){return o.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&e&&(h.Ikx("href",o.href,h.LSH),h.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),i})();function du(i){return""===i||!!i}let ad=(()=>{class i{constructor(e,o,u,f,_){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=_,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=f||ht,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const _=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,w=new R0(e,E,this.location.injector);this.activated=this.location.createComponent(_,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(La),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},i.\u0275dir=h.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class R0{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===ka?this.route:r===La?this.childContexts:this.parent.get(r,e)}}class Yy{}class Va{preload(r,e){return(0,Ze.of)(null)}}let cm=(()=>{class i{constructor(e,o,u,f,_){this.router=e,this.injector=f,this.preloadingStrategy=_,this.loader=new um(o,u,A=>e.triggerEvent(new If(A)),A=>e.triggerEvent(new _y(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(S(e=>e instanceof Pa),Gt(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(h.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const _=f._loadedConfig;u.push(this.processRoutes(_.module,_.routes))}else f.loadChildren&&!f.canLoad?u.push(this.preloadConfig(e,f)):f.children&&u.push(this.processRoutes(e,f.children));return(0,rn.D)(u).pipe((0,pn.J)(),(0,dt.U)(f=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ze.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Me.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(mn),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Yy))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),dm=(()=>{class i{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof yy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new yy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(mn),h.LFG(_l),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Jr=new h.OlP("ROUTER_CONFIGURATION"),Qy=new h.OlP("ROUTER_FORROOT_GUARD"),M0=[Ne,{provide:Bc,useClass:Hg},{provide:mn,useFactory:function(i,r,e,o,u,f,_,E={},w,A){const x=new mn(null,i,r,e,o,u,f,Vg(_));return w&&(x.urlHandlingStrategy=w),A&&(x.routeReuseStrategy=A),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(E,x),E.enableTracing&&x.events.subscribe(L=>{var J,fe;null===(J=console.group)||void 0===J||J.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(fe=console.groupEnd)||void 0===fe||fe.call(console)}),x},deps:[Bc,La,Ne,h.zs3,h.v3s,h.Sil,Hf,Jr,[class{},new h.FiY],[class{},new h.FiY]]},La,{provide:ka,useFactory:function(i){return i.routerState.root},deps:[mn]},{provide:h.v3s,useClass:h.EAV},cm,Va,class{preload(r,e){return e().pipe(Ie(()=>(0,Ze.of)(null)))}},{provide:Jr,useValue:{enableTracing:!1}}];function P0(){return new h.PXZ("Router",mn)}let lD=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[M0,Gf(e),{provide:Qy,useFactory:Ot,deps:[[mn,new h.FiY,new h.tp0]]},{provide:Jr,useValue:o||{}},{provide:Ce,useFactory:Jy,deps:[Z,[new h.tBr(_e),new h.FiY],Jr]},{provide:dm,useFactory:O0,deps:[mn,_l,Jr]},{provide:Yy,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Va},{provide:h.PXZ,multi:!0,useFactory:P0},[ld,{provide:h.ip1,multi:!0,useFactory:cD,deps:[ld]},{provide:Xy,useFactory:x0,deps:[ld]},{provide:h.tb,multi:!0,useExisting:Xy}]]}}static forChild(e){return{ngModule:i,providers:[Gf(e)]}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Qy,8),h.LFG(mn,8))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();function O0(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new dm(i,r,e)}function Jy(i,r,e={}){return e.useHash?new Te(i,r):new be(i,r)}function Ot(i){return"guarded"}function Gf(i){return[{provide:h.deG,multi:!0,useValue:i},{provide:Hf,multi:!0,useValue:i}]}let ld=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zr.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(E=>o=E),f=this.injector.get(mn),_=this.injector.get(Jr);return"disabled"===_.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===_.initialNavigation||"enabledBlocking"===_.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(Jr),u=this.injector.get(cm),f=this.injector.get(dm),_=this.injector.get(mn),E=this.injector.get(h.z2F);e===E.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&_.initialNavigation(),u.setUpPreloading(),f.init(),_.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.zs3))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function cD(i){return i.appInitializer.bind(i)}function x0(i){return i.bootstrapListener.bind(i)}const Xy=new h.OlP("Router Initializer");function tv(i,r){if(1&i){const e=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(e),h.oxw().logout()}),h._uU(1," LogOut"),h.qZA()}}let nv=(()=>{class i{constructor(e){this.r=e}logout(){window.localStorage.removeItem("user"),this.r.navigate(["login"])}isLoggedIn(){return null!=window.localStorage.getItem("user")}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(mn))},i.\u0275cmp=h.Xpm({type:i,selectors:[["my-app"]],decls:8,vars:1,consts:[[1,"sidenav"],["routerLink","customers"],["routerLink","contacts"],[1,"main"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,o){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"a",1),h._uU(2,"Customers"),h.qZA(),h.TgZ(3,"a",2),h._uU(4,"Contacts"),h.qZA(),h.qZA(),h.TgZ(5,"div",3),h.YNc(6,tv,2,0,"button",4),h._UZ(7,"router-outlet"),h.qZA()),2&e&&(h.xp6(6),h.Q6J("ngIf",o.isLoggedIn()))},directives:[od,Ks,ad],styles:[".sidenav[_ngcontent-%COMP%]{height:100%;width:160px;position:fixed;z-index:1;top:0;left:0;background-color:#111;overflow-x:hidden;padding-top:20px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 8px 6px 16px;text-decoration:none;font-size:25px;color:#818181;display:block}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.main[_ngcontent-%COMP%]{margin-left:160px;font-size:28px;padding:0 10px}"]}),i})();class rv{constructor(){this.first="",this.last="",this.phone="",this.email="",this.address="",this.notes="",this.key=""}}var is=(()=>{return(i=is||(is={}))[i.table=0]="table",i[i.details=1]="details",i[i.add=2]="add",i[i.edit=3]="edit",is;var i})(),ud=M(3637),cd=M(6682),iv=M(8819);class ov{constructor(r,e){this.compare=r,this.keySelector=e}call(r,e){return e.subscribe(new av(r,this.compare,this.keySelector))}}class av extends qr.L{constructor(r,e,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(r,e){return r===e}_next(r){let e;try{const{keySelector:u}=this;e=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,e)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=e,this.destination.next(r))}}class L0{constructor(r,e){this.observables=r,this.project=e}call(r,e){return e.subscribe(new V0(r,this.observables,this.project))}}class V0 extends Pc{constructor(r,e,o){super(r),this.observables=e,this.project=o,this.toRespond=[];const u=e.length;this.values=new Array(u);for(let f=0;f<u;f++)this.toRespond.push(f);for(let f=0;f<u;f++)this.add(Ta(this,e[f],void 0,f))}notifyNext(r,e,o){this.values[o]=e;const u=this.toRespond;if(u.length>0){const f=u.indexOf(o);-1!==f&&u.splice(f,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const e=[r,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(r){let e;try{e=this.project.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class lv{constructor(r){this.predicate=r}call(r,e){return e.subscribe(new dD(r,this.predicate))}}class dD extends qr.L{constructor(r,e){super(r),this.predicate=e,this.skipping=!0,this.index=0}_next(r){const e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)}tryCallPredicate(r){try{const e=this.predicate(r,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Or=M(9126),xs=M(8939),fD=(M(9083),M(4486)),zf=M(6034),fm=M(8239),pm=M(5452),N=M(4685),Zf=M(300);let uv="";function B0(i){uv=i}class gD{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,N.Pz)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,N.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class cv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,N.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const gm=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new gD(r)}}catch(r){}return new cv},Ro=gm("localStorage"),mm=gm("sessionStorage"),dd=new Zf.Yd("@firebase/database"),_m=function(){let i=1;return function(){return i++}}(),qf=function(i){const r=(0,N.dS)(i),e=new N.gQ;e.update(r);const o=e.digest();return N.US.encodeByteArray(o)},hd=function(...i){let r="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=hd.apply(null,o):r+="object"==typeof o?(0,N.Pz)(o):o,r+=" "}return r};let ks=null,dv=!0;const hv=function(i,r){(0,N.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(dd.logLevel=Zf.in.VERBOSE,ks=dd.log.bind(dd),r&&mm.set("logging_enabled",!0)):"function"==typeof i?ks=i:(ks=null,mm.remove("logging_enabled"))},Dn=function(...i){if(!0===dv&&(dv=!1,null===ks&&!0===mm.get("logging_enabled")&&hv(!0)),ks){const r=hd.apply(null,i);ks(r)}},fd=function(i){return function(...r){Dn(i,...r)}},ym=function(...i){const r="FIREBASE INTERNAL ERROR: "+hd(...i);dd.error(r)},ss=function(...i){const r=`FIREBASE FATAL ERROR: ${hd(...i)}`;throw dd.error(r),new Error(r)},Tn=function(...i){const r="FIREBASE WARNING: "+hd(...i);dd.warn(r)},pd=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},xr="[MIN_NAME]",os="[MAX_NAME]",Ua=function(i,r){if(i===r)return 0;if(i===xr||r===os)return-1;if(r===xr||i===os)return 1;{const e=Fs(i),o=Fs(r);return null!==e?null!==o?e-o==0?i.length-r.length:e-o:-1:null!==o?1:i<r?-1:1}},vm=function(i,r){return i===r?0:i<r?-1:1},gr=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,N.Pz)(r))},Ba=function(i){if("object"!=typeof i||null===i)return(0,N.Pz)(i);const r=[];for(const o in i)r.push(o);r.sort();let e="{";for(let o=0;o<r.length;o++)0!==o&&(e+=","),e+=(0,N.Pz)(r[o]),e+=":",e+=Ba(i[r[o]]);return e+="}",e},Fn=function(i,r){const e=i.length;if(e<=r)return[i];const o=[];for(let u=0;u<e;u+=r)o.push(i.substring(u,u+r>e?e:u+r));return o};function Kt(i,r){for(const e in i)i.hasOwnProperty(e)&&r(e,i[e])}const gd=function(i){(0,N.hu)(!pd(i),"Invalid JSON number");const o=1023;let u,f,_,E,w;0===i?(f=0,_=0,u=1/i==-1/0?1:0):(u=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(i)/Math.LN2),o),f=E+o,_=Math.round(i*Math.pow(2,52-E)-Math.pow(2,52))):(f=0,_=Math.round(i/Math.pow(2,-1074))));const A=[];for(w=52;w;w-=1)A.push(_%2?1:0),_=Math.floor(_/2);for(w=11;w;w-=1)A.push(f%2?1:0),f=Math.floor(f/2);A.push(u?1:0),A.reverse();const x=A.join("");let L="";for(w=0;w<64;w+=8){let J=parseInt(x.substr(w,8),2).toString(16);1===J.length&&(J="0"+J),L+=J}return L.toLowerCase()},pu=new RegExp("^-?(0*)\\d{1,10}$"),ja=-2147483648,No=2147483647,Fs=function(i){if(pu.test(i)){const r=Number(i);if(r>=ja&&r<=No)return r}return null},wi=function(i){try{i()}catch(r){setTimeout(()=>{throw Tn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},as=function(i,r){const e=setTimeout(i,r);return"object"==typeof e&&e.unref&&e.unref(),e};class mu{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fv{constructor(r,e,o){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(Dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(r)}}let _u=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const Dm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pv="websocket",Am="long_polling";class Sm{constructor(r,e,o,u,f=!1,_="",E=!1){this.secure=e,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=_,this.includeNamespaceInQueryParams=E,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ro.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Ro.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function $0(i,r,e){let o;if((0,N.hu)("string"==typeof r,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),r===pv)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==Am)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const u=[];return Kt(e,(f,_)=>{u.push(f+"="+_)}),o+u.join("&")}class W0{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,N.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,N.p$)(this.counters_)}}const Kf={},Rm={};function Qf(i){const r=i.toString();return Kf[r]||(Kf[r]=new W0),Kf[r]}class z0{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&wi(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ha{constructor(r,e,o,u,f,_,E){this.connId=r,this.repoInfo=e,this.applicationId=o,this.appCheckToken=u,this.authToken=f,this.transportSessionId=_,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fd(r),this.stats_=Qf(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),$0(e,Am,w))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new z0(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,N.Yr)()||"complete"===document.readyState)i();else{let r=!1;const e=function(){document.body?r||(r=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yv((...f)=>{const[_,E,w,A,x]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===_)this.id=E,this.password=w;else{if("close"!==_)throw new Error("Unrecognized command received: "+_);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[_,E]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(_,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Dm.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ha.forceAllow_=!0}static forceDisallow(){Ha.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Ha.forceAllow_&&(Ha.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,N.Pz)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,N.h$)(e),u=Fn(o,1840);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,N.Pz)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class yv{constructor(r,e,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=_m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=yv.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(E){Dn("frame writing exception"),E.stack&&Dn(E.stack),Dn(E)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Dn("No IE domain setting required")}catch(e){const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const _=this.pendingSegs.shift();o=o+"&seg"+u+"="+_.seg+"&ts"+u+"="+_.ts+"&d"+u+"="+_.d,u++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,o){this.pendingSegs.push({seg:r,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(u),o()})}addTag(r,e){(0,N.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Dn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let _d=null;"undefined"!=typeof MozWebSocket?_d=MozWebSocket:"undefined"!=typeof WebSocket&&(_d=WebSocket);let vu=(()=>{class i{constructor(e,o,u,f,_,E,w){this.connId=e,this.applicationId=u,this.appCheckToken=f,this.authToken=_,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fd(this.connId),this.stats_=Qf(o),this.connURL=i.connectionURL_(o,E,w,f),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,u,f){const _={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&Dm.test(location.hostname)&&(_.r="f"),o&&(_.s=o),u&&(_.ls=u),f&&(_.ac=f),$0(e,pv,_)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ro.set("previous_websocket_failure",!0);try{if((0,N.Yr)()){const f={headers:{"User-Agent":`Firebase/5/${uv}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const _=process.env,E=0===this.connURL.indexOf("wss://")?_.HTTPS_PROXY||_.https_proxy:_.HTTP_PROXY||_.http_proxy;E&&(f.proxy={origin:E}),this.mySock=new _d(this.connURL,[],f)}else this.mySock=new _d(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==_d&&!i.forceDisallow_}static previouslyFailed(){return Ro.isInMemoryStorage||!0===Ro.get("previous_websocket_failure")}markConnectionHealthy(){Ro.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,N.cI)(o);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const o=(0,N.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=Fn(o,16384);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class Pm{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[Ha,vu]}initTransports_(r){const e=vu&&vu.isAvailable();let o=e&&!vu.previouslyFailed();if(r.webSocketOnly&&(e||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[vu];else{const u=this.transports_=[];for(const f of Pm.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class CD{constructor(r,e,o,u,f,_,E,w,A,x){this.id=r,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=_,this.onReady_=E,this.onDisconnect_=w,this.onKill_=A,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fd("c:"+this.id+":"),this.transportManager_=new Pm(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const u=r.healthyTimeout||0;u>0&&(this.healthyTimeout_=as(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=gr("t",r),o=gr("d",r);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=gr("t",r),o=gr("d",r);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=gr("t",r);if("d"in r){const o=r.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?ym("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ym("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,o=r.v,u=r.h;this.sessionId=r.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),as(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):as(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ro.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Xf{put(r,e,o,u){}merge(r,e,o,u){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,o){}onDisconnectMerge(r,e,o){}onDisconnectCancel(r,e){}reportStats(r){}}class Iv{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,N.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,e)}}on(r,e,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:o});const u=this.getInitialEvent(r);u&&e.apply(o,u)}off(r,e,o){this.validateEventType_(r);const u=this.listeners_[r]||[];for(let f=0;f<u.length;f++)if(u[f].callback===e&&(!o||o===u[f].context))return void u.splice(f,1)}validateEventType_(r){(0,N.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class Vm extends Iv{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vm}getInitialEvent(r){return(0,N.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Dt{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function bt(){return new Dt("")}function ft(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ls(i){return i.pieces_.length-i.pieceNum_}function xt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new Dt(i.pieces_,r)}function ep(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function yd(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function tp(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)r.push(i.pieces_[e]);return new Dt(r,0)}function jt(i,r){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(r instanceof Dt)for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);else{const o=r.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&e.push(o[u])}return new Dt(e,0)}function pt(i){return i.pieceNum_>=i.pieces_.length}function qn(i,r){const e=ft(i),o=ft(r);if(null===e)return r;if(e===o)return qn(xt(i),xt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function Um(i,r){const e=yd(i,0),o=yd(r,0);for(let u=0;u<e.length&&u<o.length;u++){const f=Ua(e[u],o[u]);if(0!==f)return f}return e.length===o.length?0:e.length<o.length?-1:1}function np(i,r){if(ls(i)!==ls(r))return!1;for(let e=i.pieceNum_,o=r.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==r.pieces_[o])return!1;return!0}function mr(i,r){let e=i.pieceNum_,o=r.pieceNum_;if(ls(i)>ls(r))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==r.pieces_[o])return!1;++e,++o}return!0}class Bm{constructor(r,e){this.errorPrefix_=e,this.parts_=yd(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,N.ug)(this.parts_[o]);jm(this)}}function jm(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mo(i))}function Mo(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class vd extends Iv{constructor(){let r,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",r="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new vd}getInitialEvent(r){return(0,N.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Eu=1e3;let Ed,$a=(()=>{class i extends Xf{constructor(e,o,u,f,_,E,w,A){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=_,this.authTokenProvider_=E,this.appCheckTokenProvider_=w,this.authOverride_=A,this.id=i.nextPersistentConnectionId_++,this.log_=fd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Eu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vd.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Vm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,u){const f=++this.requestNumber_,_={r:f,a:e,b:o};this.log_((0,N.Pz)(_)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(_),u&&(this.requestCBHash_[f]=u)}get(e){this.initConnection_();const o=new N.BH,u={p:e._path.toString(),q:e._queryObject},f={action:"g",request:u,onComplete:E=>{const w=E.d;"ok"===E.s?(this.onDataUpdate_(u.p,w,!1,null),o.resolve(w)):o.reject(w)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const _=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const E=this.outstandingGets_[_];void 0===E||f!==E||(delete this.outstandingGets_[_],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+_+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(_),o.promise}listen(e,o,u,f){this.initConnection_();const _=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+_),this.listens.has(E)||this.listens.set(E,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(E).has(_),"listen() called twice for same path/queryId.");const w={onComplete:f,hashFn:o,query:e,tag:u};this.listens.get(E).set(_,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(e){const o=e.query,u=o._path.toString(),f=o._queryIdentifier;this.log_("Listen on "+u+" for "+f);const _={p:u};e.tag&&(_.q=o._queryObject,_.t=e.tag),_.h=e.hashFn(),this.sendRequest("q",_,w=>{const A=w.d,x=w.s;i.warnOnListenWarnings_(A,o),(this.listens.get(u)&&this.listens.get(u).get(f))===e&&(this.log_("listen response",w),"ok"!==x&&this.removeListen_(u,f),e.onComplete&&e.onComplete(x,A))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const u=(0,N.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+o._queryParams.getIndex().toString()+'"',_=o._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${_} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,N.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,f=>{const _=f.s,E=f.d||"error";this.authToken_===e&&("ok"===_?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(_,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,u=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(e,o){const u=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,e._queryObject,o)}sendUnlisten_(e,o,u,f){this.log_("Unlisten on "+e+" for "+o);const _={p:e};f&&(_.q=u,_.t=f),this.sendRequest("n",_)}onDisconnectPut(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:u})}onDisconnectMerge(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:u})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,u,f){const _={p:o,d:u};this.log_("onDisconnect "+e,_),this.sendRequest(e,_,E=>{f&&setTimeout(()=>{f(E.s,E.d)},Math.floor(0))})}put(e,o,u,f){this.putInternal("p",e,o,u,f)}merge(e,o,u,f){this.putInternal("m",e,o,u,f)}putInternal(e,o,u,f,_){this.initConnection_();const E={p:o,d:u};void 0!==_&&(E.h=_),this.outstandingPuts_.push({action:e,request:E,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,u,_=>{this.log_(o+" response",_),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(_.s,_.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const o=e.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):ym("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Eu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Eu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Eu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,fm.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),_=e.id+":"+i.nextConnectionId_++,E=e.lastSessionId;let w=!1,A=null;const x=function(){A?A.close():(w=!0,f())};e.realtime_={close:x,sendRequest:function(fe){(0,N.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(fe)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[fe,De]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);w?Dn("getToken() completed but was canceled"):(Dn("getToken() completed. Creating connection."),e.authToken_=fe&&fe.accessToken,e.appCheckToken_=De&&De.token,A=new CD(_,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,u,f,We=>{Tn(We+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(fe){e.log_("Failed to get token: "+fe),w||(e.repoInfo_.nodeAdmin&&Tn(fe),x())}}})()}interrupt(e){Dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Eu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let u;u=o?o.map(_=>Ba(_)).join("$"):"default";const f=this.removeListen_(e,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,o){const u=new Dt(e).toString();let f;if(this.listens.has(u)){const _=this.listens.get(u);f=_.get(o),_.delete(o),0===_.size&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(e,o){Dn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Dn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,N.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+uv.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vm.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class gt{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new gt(r,e)}}class Cd{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const o=new gt(xr,r),u=new gt(xr,e);return 0!==this.compare(o,u)}minPost(){return gt.MIN}}class Wm extends Cd{static get __EMPTY_NODE(){return Ed}static set __EMPTY_NODE(r){Ed=r}compare(r,e){return Ua(r.name,e.name)}isDefinedOn(r){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return gt.MIN}maxPost(){return new gt(os,Ed)}makePost(r,e){return(0,N.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new gt(r,Ed)}toString(){return".key"}}const Ii=new Wm;class Gm{constructor(r,e,o,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let _=1;for(;!r.isEmpty();)if(r=r,_=e?o(r.key,e):1,u&&(_*=-1),_<0)r=this.isReverse_?r.left:r.right;else{if(0===_){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let rp,Di=(()=>{class i{constructor(e,o,u,f,_){this.key=e,this.value=o,this.color=null!=u?u:i.RED,this.left=null!=f?f:ir.EMPTY_NODE,this.right=null!=_?_:ir.EMPTY_NODE}copy(e,o,u,f,_){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=_?_:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,u){let f=this;const _=u(e,f.key);return f=_<0?f.copy(null,null,null,f.left.insert(e,o,u),null):0===_?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(e,o,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let u,f;if(u=this,o(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(e,u.key)){if(u.right.isEmpty())return ir.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class ir{constructor(r,e=ir.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new ir(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,Di.BLACK,null,null))}remove(r){return new ir(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Di.BLACK,null,null))}get(r){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(r){let e,o=this.root_,u=null;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Gm(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Gm(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Gm(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Gm(this.root_,null,this.comparator_,!0,r)}}function ub(i,r){return Ua(i.name,r.name)}function cn(i,r){return Ua(i,r)}ir.EMPTY_NODE=new class{copy(r,e,o,u,f){return this}insert(r,e,o){return new Di(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Nv=function(i){return"number"==typeof i?"number:"+gd(i):"string:"+i},zm=function(i){if(i.isLeafNode()){const r=i.val();(0,N.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,N.r3)(r,".sv"),"Priority must be a string or number.")}else(0,N.hu)(i===rp||i.isEmpty(),"priority of unexpected type.");(0,N.hu)(i===rp||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mv,Zm,Ga,Wa=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zm(this.priorityNode_)}static set __childrenNodeConstructor(e){Mv=e}static get __childrenNodeConstructor(){return Mv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pt(e)?this:".priority"===ft(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const u=ft(e);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,N.hu)(".priority"!==u||1===ls(e),".priority must be the last token in a path"),this.updateImmediateChild(u,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Nv(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?gd(this.value_):this.value_,this.lazyHash_=qf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,u=typeof this.value_,f=i.VALUE_TYPE_ORDER.indexOf(o),_=i.VALUE_TYPE_ORDER.indexOf(u);return(0,N.hu)(f>=0,"Unknown leaf type: "+o),(0,N.hu)(_>=0,"Unknown leaf type: "+u),f===_?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:_-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Ht=new class extends Cd{compare(r,e){const o=r.node.getPriority(),u=e.node.getPriority(),f=o.compareTo(u);return 0===f?Ua(r.name,e.name):f}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return gt.MIN}maxPost(){return new gt(os,new Wa("[PRIORITY-POST]",Ga))}makePost(r,e){const o=Zm(r);return new gt(e,new Wa("[PRIORITY-POST]",o))}toString(){return".priority"}},Ov=Math.log(2);class bD{constructor(r){this.count=parseInt(Math.log(r+1)/Ov,10),this.current_=this.count-1;const u=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&u}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const bd=function(i,r,e,o){i.sort(r);const u=function(w,A){const x=A-w;let L,J;if(0===x)return null;if(1===x)return L=i[w],J=e?e(L):L,new Di(J,L.node,Di.BLACK,null,null);{const fe=parseInt(x/2,10)+w,De=u(w,fe),We=u(fe+1,A);return L=i[fe],J=e?e(L):L,new Di(J,L.node,Di.BLACK,De,We)}},E=function(w){let A=null,x=null,L=i.length;const J=function(De,We){const rt=L-De,Xt=L;L-=De;const $t=u(rt+1,Xt),wt=i[rt],_n=e?e(wt):wt;fe(new Di(_n,wt.node,We,null,$t))},fe=function(De){A?(A.left=De,A=De):(x=De,A=De)};for(let De=0;De<w.count;++De){const We=w.nextBitIsOne(),rt=Math.pow(2,w.count-(De+1));We?J(rt,Di.BLACK):(J(rt,Di.BLACK),J(rt,Di.RED))}return x}(new bD(i.length));return new ir(o||r,E)};let wd;const sr={};class Ls{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,N.hu)(sr&&Ht,"ChildrenNode.ts has not been loaded"),wd=wd||new Ls({".priority":sr},{".priority":Ht}),wd}get(r){const e=(0,N.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof ir?e:null}hasIndex(r){return(0,N.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,N.hu)(r!==Ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const f=e.getIterator(gt.Wrap);let E,_=f.getNext();for(;_;)u=u||r.isDefinedOn(_.node),o.push(_),_=f.getNext();E=u?bd(o,r.getCompare()):sr;const w=r.toString(),A=Object.assign({},this.indexSet_);A[w]=r;const x=Object.assign({},this.indexes_);return x[w]=E,new Ls(x,A)}addToIndexes(r,e){const o=(0,N.UI)(this.indexes_,(u,f)=>{const _=(0,N.DV)(this.indexSet_,f);if((0,N.hu)(_,"Missing index implementation for "+f),u===sr){if(_.isDefinedOn(r.node)){const E=[],w=e.getIterator(gt.Wrap);let A=w.getNext();for(;A;)A.name!==r.name&&E.push(A),A=w.getNext();return E.push(r),bd(E,_.getCompare())}return sr}{const E=e.get(r.name);let w=u;return E&&(w=w.remove(new gt(r.name,E))),w.insert(r,r.node)}});return new Ls(o,this.indexSet_)}removeFromIndexes(r,e){const o=(0,N.UI)(this.indexes_,u=>{if(u===sr)return u;{const f=e.get(r.name);return f?u.remove(new gt(r.name,f)):u}});return new Ls(o,this.indexSet_)}}let Id,ze=(()=>{class i{constructor(e,o,u){this.children_=e,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&zm(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Id||(Id=new i(new ir(cn),null,Ls.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Id}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?Id:o}}getChild(e){const o=ft(e);return null===o?this:this.getImmediateChild(o).getChild(xt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,N.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const u=new gt(e,o);let f,_;o.isEmpty()?(f=this.children_.remove(e),_=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(e,o),_=this.indexMap_.addToIndexes(u,this.children_));const E=f.isEmpty()?Id:this.priorityNode_;return new i(f,E,_)}}updateChild(e,o){const u=ft(e);if(null===u)return o;{(0,N.hu)(".priority"!==ft(e)||1===ls(e),".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(xt(e),o);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let u=0,f=0,_=!0;if(this.forEachChild(Ht,(E,w)=>{o[E]=w.val(e),u++,_&&i.INTEGER_REGEXP_.test(E)?f=Math.max(f,Number(E)):_=!1}),!e&&_&&f<2*u){const E=[];for(const w in o)E[w]=o[w];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Nv(this.getPriority().val())+":"),this.forEachChild(Ht,(o,u)=>{const f=u.hash();""!==f&&(e+=":"+o+":"+f)}),this.lazyHash_=""===e?"":qf(e)}return this.lazyHash_}getPredecessorChildName(e,o,u){const f=this.resolveIndex_(u);if(f){const _=f.getPredecessorKey(new gt(e,o));return _?_.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new gt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new gt(o,this.children_.get(o)):null}forEachChild(e,o){const u=this.resolveIndex_(e);return u?u.inorderTraversal(f=>o(f.name,f.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,gt.Wrap);let _=f.peek();for(;null!=_&&o.compare(_,e)<0;)f.getNext(),_=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,gt.Wrap);let _=f.peek();for(;null!=_&&o.compare(_,e)>0;)f.getNext(),_=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===or?-1:0}withIndex(e){if(e===Ii||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Ii||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(Ht),f=o.getIterator(Ht);let _=u.getNext(),E=f.getNext();for(;_&&E;){if(_.name!==E.name||!_.node.equals(E.node))return!1;_=u.getNext(),E=f.getNext()}return null===_&&null===E}return!1}return!1}}resolveIndex_(e){return e===Ii?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const or=new class extends ze{constructor(){super(new ir(cn),ze.EMPTY_NODE,Ls.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return ze.EMPTY_NODE}isEmpty(){return!1}};function Qt(i,r=null){if(null===i)return ze.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,N.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Wa(i,Qt(r));if(i instanceof Array){let e=ze.EMPTY_NODE;return Kt(i,(o,u)=>{if((0,N.r3)(i,o)&&"."!==o.substring(0,1)){const f=Qt(u);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(o,f))}}),e.updatePriority(Qt(r))}{const e=[];let o=!1;if(Kt(i,(_,E)=>{if("."!==_.substring(0,1)){const w=Qt(E);w.isEmpty()||(o=o||!w.getPriority().isEmpty(),e.push(new gt(_,w)))}}),0===e.length)return ze.EMPTY_NODE;const f=bd(e,ub,_=>_.name,cn);if(o){const _=bd(e,Ht.getCompare());return new ze(f,Qt(r),new Ls({".priority":_},{".priority":Ht}))}return new ze(f,Qt(r),Ls.Default)}}Object.defineProperties(gt,{MIN:{value:new gt(xr,ze.EMPTY_NODE)},MAX:{value:new gt(os,or)}}),Wm.__EMPTY_NODE=ze.EMPTY_NODE,Wa.__childrenNodeConstructor=ze,rp=or,Ga=or,function(i){Zm=i}(Qt);class qm extends Cd{constructor(r){super(),this.indexPath_=r,(0,N.hu)(!pt(r)&&".priority"!==ft(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const o=this.extractChild(r.node),u=this.extractChild(e.node),f=o.compareTo(u);return 0===f?Ua(r.name,e.name):f}makePost(r,e){const o=Qt(r),u=ze.EMPTY_NODE.updateChild(this.indexPath_,o);return new gt(e,u)}maxPost(){const r=ze.EMPTY_NODE.updateChild(this.indexPath_,or);return new gt(os,r)}toString(){return yd(this.indexPath_,0).join("/")}}const Ym=new class extends Cd{compare(r,e){const o=r.node.compareTo(e.node);return 0===o?Ua(r.name,e.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return gt.MIN}maxPost(){return gt.MAX}makePost(r,e){const o=Qt(r);return new gt(e,o)}toString(){return".value"}},bu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fv=function(){let i=0;const r=[];return function(e){const o=e===i;let u;i=e;const f=new Array(8);for(u=7;u>=0;u--)f[u]=bu.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let _=f.join("");if(o){for(u=11;u>=0&&63===r[u];u--)r[u]=0;r[u]++}else for(u=0;u<12;u++)r[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)_+=bu.charAt(r[u]);return(0,N.hu)(20===_.length,"nextPushId: Length should be 20."),_}}(),Lv=function(i){if(i===""+No)return"-";const r=Fs(i);if(null!=r)return""+(r+1);const e=new Array(i.length);for(let _=0;_<e.length;_++)e[_]=i.charAt(_);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return os;const f=bu.charAt(bu.indexOf(e[o])+1);return e[o]=f,e.slice(0,o+1).join("")},Km=function(i){if(i===""+ja)return xr;const r=Fs(i);if(null!=r)return""+(r-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+No:(delete e[e.length-1],e.join("")):(e[e.length-1]=bu.charAt(bu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Qm(i){return{type:"value",snapshotNode:i}}function Vs(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function Td(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function Iu(i,r,e){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:e}}class Ad{constructor(r){this.index_=r}updateChild(r,e,o,u,f,_){(0,N.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=r.getImmediateChild(e);return E.getChild(u).equals(o.getChild(u))&&E.isEmpty()===o.isEmpty()||(null!=_&&(o.isEmpty()?r.hasChild(e)?_.trackChildChange(Td(e,E)):(0,N.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?_.trackChildChange(Vs(e,o)):_.trackChildChange(Iu(e,o,E))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(r,e,o){return null!=o&&(r.isLeafNode()||r.forEachChild(Ht,(u,f)=>{e.hasChild(u)||o.trackChildChange(Td(u,f))}),e.isLeafNode()||e.forEachChild(Ht,(u,f)=>{if(r.hasChild(u)){const _=r.getImmediateChild(u);_.equals(f)||o.trackChildChange(Iu(u,f,_))}else o.trackChildChange(Vs(u,f))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?ze.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Po{constructor(r){this.indexedFilter_=new Ad(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Po.getStartPost_(r),this.endPost_=Po.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,e,o,u,f,_){return this.matches(new gt(e,o))||(o=ze.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,o,u,f,_)}updateFullNode(r,e,o){e.isLeafNode()&&(e=ze.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(ze.EMPTY_NODE);const f=this;return e.forEachChild(Ht,(_,E)=>{f.matches(new gt(_,E))||(u=u.updateImmediateChild(_,ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class Uv{constructor(r){this.rangedFilter_=new Po(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,e,o,u,f,_){return this.rangedFilter_.matches(new gt(e,o))||(o=ze.EMPTY_NODE),r.getImmediateChild(e).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,o,u,f,_):this.fullLimitUpdateChild_(r,e,o,f,_)}updateFullNode(r,e,o){let u;if(e.isLeafNode()||e.isEmpty())u=ze.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let f;u=ze.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;f.hasNext()&&_<this.limit_;){const E=f.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),E)<=0:this.index_.compare(E,this.rangedFilter_.getEndPost())<=0,!w)break;u=u.updateImmediateChild(E.name,E.node),_++}}else{let f,_,E,w;if(u=e.withIndex(this.index_),u=u.updatePriority(ze.EMPTY_NODE),this.reverse_){w=u.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),_=this.rangedFilter_.getStartPost();const L=this.index_.getCompare();E=(J,fe)=>L(fe,J)}else w=u.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),_=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();let A=0,x=!1;for(;w.hasNext();){const L=w.getNext();!x&&E(f,L)<=0&&(x=!0),x&&A<this.limit_&&E(L,_)<=0?A++:u=u.updateImmediateChild(L.name,ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,o,u,f){let _;if(this.reverse_){const L=this.index_.getCompare();_=(J,fe)=>L(fe,J)}else _=this.index_.getCompare();const E=r;(0,N.hu)(E.numChildren()===this.limit_,"");const w=new gt(e,o),A=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),x=this.rangedFilter_.matches(w);if(E.hasChild(e)){const L=E.getImmediateChild(e);let J=u.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=J&&(J.name===e||E.hasChild(J.name));)J=u.getChildAfterChild(this.index_,J,this.reverse_);const fe=null==J?1:_(J,w);if(x&&!o.isEmpty()&&fe>=0)return null!=f&&f.trackChildChange(Iu(e,o,L)),E.updateImmediateChild(e,o);{null!=f&&f.trackChildChange(Td(e,L));const We=E.updateImmediateChild(e,ze.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(null!=f&&f.trackChildChange(Vs(J.name,J.node)),We.updateImmediateChild(J.name,J.node)):We}}return o.isEmpty()?r:x&&_(A,w)>=0?(null!=f&&(f.trackChildChange(Td(A.name,A.node)),f.trackChildChange(Vs(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(A.name,ze.EMPTY_NODE)):r}}class Sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const r=new Sd;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function ip(i,r,e){const o=i.copy();return o.startSet_=!0,void 0===r&&(r=null),o.indexStartValue_=r,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function sp(i,r,e){const o=i.copy();return o.endSet_=!0,void 0===r&&(r=null),o.indexEndValue_=r,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function op(i,r){const e=i.copy();return e.index_=r,e}function Wv(i){const r={};if(i.isDefault())return r;let e;return i.index_===Ht?e="$priority":i.index_===Ym?e="$value":i.index_===Ii?e="$key":((0,N.hu)(i.index_ instanceof qm,"Unrecognized index type!"),e=i.index_.toString()),r.orderBy=(0,N.Pz)(e),i.startSet_&&(r.startAt=(0,N.Pz)(i.indexStartValue_),i.startNameSet_&&(r.startAt+=","+(0,N.Pz)(i.indexStartName_))),i.endSet_&&(r.endAt=(0,N.Pz)(i.indexEndValue_),i.endNameSet_&&(r.endAt+=","+(0,N.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function Gv(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_)),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_)),i.limitSet_){r.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),r.vf=e}return i.index_!==Ht&&(r.i=i.index_.toString()),r}class ap extends Xf{constructor(r,e,o,u){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=fd("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,N.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,o,u){const f=r._path.toString();this.log_("Listen called for "+f+" "+r._queryIdentifier);const _=ap.getListenId_(r,o),E={};this.listens_[_]=E;const w=Wv(r._queryParams);this.restRequest_(f+".json",w,(A,x)=>{let L=x;if(404===A&&(L=null,A=null),null===A&&this.onDataUpdate_(f,L,!1,o),(0,N.DV)(this.listens_,_)===E){let J;J=A?401===A?"permission_denied":"rest_error:"+A:"ok",u(J,null)}})}unlisten(r,e){const o=ap.getListenId_(r,e);delete this.listens_[o]}get(r){const e=Wv(r._queryParams),o=r._path.toString(),u=new N.BH;return this.restRequest_(o+".json",e,(f,_)=>{let E=_;404===f&&(E=null,f=null),null===f?(this.onDataUpdate_(o,E,!1,null),u.resolve(E)):u.reject(new Error(E))}),u.promise}refreshAuthToken(r){}restRequest_(r,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(e.auth=u.accessToken),f&&f.token&&(e.ac=f.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+_);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+_+" received. status:",E.status,"response:",E.responseText);let w=null;if(E.status>=200&&E.status<300){try{w=(0,N.cI)(E.responseText)}catch(A){Tn("Failed to parse JSON response for "+_+": "+E.responseText)}o(null,w)}else 401!==E.status&&404!==E.status&&Tn("Got unsuccessful REST response for "+_+" Status: "+E.status),o(E.status);o=null}},E.open("GET",_,!0),E.send()})}}class gb{constructor(){this.rootNode_=ze.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function lp(){return{value:null,children:new Map}}function Du(i,r,e){if(pt(r))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,e);else{const o=ft(r);i.children.has(o)||i.children.set(o,lp()),Du(i.children.get(o),r=xt(r),e)}}function Jm(i,r){if(pt(r))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Ht,(o,u)=>{Du(i,new Dt(o),u)}),Jm(i,r)}}if(i.children.size>0){const e=ft(r);return r=xt(r),i.children.has(e)&&Jm(i.children.get(e),r)&&i.children.delete(e),0===i.children.size}return!0}function Xm(i,r,e){null!==i.value?e(r,i.value):function(i,r){i.children.forEach((e,o)=>{r(o,e)})}(i,(o,u)=>{Xm(u,new Dt(r.toString()+"/"+o),e)})}class _b{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&Kt(this.last_,(o,u)=>{e[o]=e[o]-u}),this.last_=r,e}}class Cb{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new _b(r);const o=1e4+2e4*Math.random();as(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),e={};let o=!1;Kt(r,(u,f)=>{f>0&&(0,N.r3)(this.statsToReport_,u)&&(e[u]=f,o=!0)}),o&&this.server_.reportStats(e),as(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ei=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ei||(ei={})),ei))();function cp(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Rd{constructor(r,e,o){this.path=r,this.affectedTree=e,this.revert=o,this.type=ei.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(pt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Dt(r));return new Rd(bt(),e,this.revert)}}return(0,N.hu)(ft(this.path)===r,"operationForChild called for unrelated child."),new Rd(xt(this.path),this.affectedTree,this.revert)}}class Tu{constructor(r,e){this.source=r,this.path=e,this.type=ei.LISTEN_COMPLETE}operationForChild(r){return pt(this.path)?new Tu(this.source,bt()):new Tu(this.source,xt(this.path))}}class Oo{constructor(r,e,o){this.source=r,this.path=e,this.snap=o,this.type=ei.OVERWRITE}operationForChild(r){return pt(this.path)?new Oo(this.source,bt(),this.snap.getImmediateChild(r)):new Oo(this.source,xt(this.path),this.snap)}}class za{constructor(r,e,o){this.source=r,this.path=e,this.children=o,this.type=ei.MERGE}operationForChild(r){if(pt(this.path)){const e=this.children.subtree(new Dt(r));return e.isEmpty()?null:e.value?new Oo(this.source,bt(),e.value):new za(this.source,bt(),e)}return(0,N.hu)(ft(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new za(this.source,xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Us{constructor(r,e,o){this.node_=r,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(pt(r))return this.isFullyInitialized()&&!this.filtered_;const e=ft(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Zv{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Za(i,r,e,o,u,f){const _=o.filter(E=>E.type===e);_.sort((E,w)=>function(i,r,e){if(null==r.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const o=new gt(r.childName,r.snapshotNode),u=new gt(e.childName,e.snapshotNode);return i.index_.compare(o,u)}(i,E,w)),_.forEach(E=>{const w=function(i,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,E,f);u.forEach(A=>{A.respondsTo(E.type)&&r.push(A.createEvent(w,i.query_))})})}function dp(i,r){return{eventCache:i,serverCache:r}}function Nd(i,r,e,o){return dp(new Us(r,e,o),i.serverCache)}function Ya(i,r,e,o){return dp(i.eventCache,new Us(r,e,o))}function t_(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Bs(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Kv;class Vt{constructor(r,e=(()=>(Kv||(Kv=new ir(vm)),Kv))()){this.value=r,this.children=e}static fromObject(r){let e=new Vt(null);return Kt(r,(o,u)=>{e=e.set(new Dt(o),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:bt(),value:this.value};if(pt(r))return null;{const o=ft(r),u=this.children.get(o);if(null!==u){const f=u.findRootMostMatchingPathAndValue(xt(r),e);return null!=f?{path:jt(new Dt(o),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(pt(r))return this;{const e=ft(r),o=this.children.get(e);return null!==o?o.subtree(xt(r)):new Vt(null)}}set(r,e){if(pt(r))return new Vt(e,this.children);{const o=ft(r),f=(this.children.get(o)||new Vt(null)).set(xt(r),e),_=this.children.insert(o,f);return new Vt(this.value,_)}}remove(r){if(pt(r))return this.children.isEmpty()?new Vt(null):new Vt(null,this.children);{const e=ft(r),o=this.children.get(e);if(o){const u=o.remove(xt(r));let f;return f=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&f.isEmpty()?new Vt(null):new Vt(this.value,f)}return this}}get(r){if(pt(r))return this.value;{const e=ft(r),o=this.children.get(e);return o?o.get(xt(r)):null}}setTree(r,e){if(pt(r))return e;{const o=ft(r),f=(this.children.get(o)||new Vt(null)).setTree(xt(r),e);let _;return _=f.isEmpty()?this.children.remove(o):this.children.insert(o,f),new Vt(this.value,_)}}fold(r){return this.fold_(bt(),r)}fold_(r,e){const o={};return this.children.inorderTraversal((u,f)=>{o[u]=f.fold_(jt(r,u),e)}),e(r,this.value,o)}findOnPath(r,e){return this.findOnPath_(r,bt(),e)}findOnPath_(r,e,o){const u=!!this.value&&o(e,this.value);if(u)return u;if(pt(r))return null;{const f=ft(r),_=this.children.get(f);return _?_.findOnPath_(xt(r),jt(e,f),o):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,bt(),e)}foreachOnPath_(r,e,o){if(pt(r))return this;{this.value&&o(e,this.value);const u=ft(r),f=this.children.get(u);return f?f.foreachOnPath_(xt(r),jt(e,u),o):new Vt(null)}}foreach(r){this.foreach_(bt(),r)}foreach_(r,e){this.children.inorderTraversal((o,u)=>{u.foreach_(jt(r,o),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,o)=>{o.value&&r(e,o.value)})}}class us{constructor(r){this.writeTree_=r}static empty(){return new us(new Vt(null))}}function je(i,r,e){if(pt(r))return new us(new Vt(e));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const u=o.path;let f=o.value;const _=qn(u,r);return f=f.updateChild(_,e),new us(i.writeTree_.set(u,f))}{const u=new Vt(e),f=i.writeTree_.setTree(r,u);return new us(f)}}}function n_(i,r,e){let o=i;return Kt(e,(u,f)=>{o=je(o,jt(r,u),f)}),o}function Jv(i,r){if(pt(r))return us.empty();{const e=i.writeTree_.setTree(r,new Vt(null));return new us(e)}}function r_(i,r){return null!=cs(i,r)}function cs(i,r){const e=i.writeTree_.findRootMostValueAndPath(r);return null!=e?i.writeTree_.get(e.path).getChild(qn(e.path,r)):null}function Xv(i){const r=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ht,(o,u)=>{r.push(new gt(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&r.push(new gt(o,u.value))}),r}function Ai(i,r){if(pt(r))return i;{const e=cs(i,r);return new us(null!=e?new Vt(e):i.writeTree_.subtree(r))}}function Au(i){return i.writeTree_.isEmpty()}function Ut(i,r){return Eb(bt(),i.writeTree_,r)}function Eb(i,r,e){if(null!=r.value)return e.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((u,f)=>{".priority"===u?((0,N.hu)(null!==f.value,"Priority writes must always be leaf nodes"),o=f.value):e=Eb(jt(i,u),f,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(jt(i,".priority"),o)),e}}function Md(i,r){return uC(r,i)}function nC(i,r){if(i.snap)return mr(i.path,r);for(const e in i.children)if(i.children.hasOwnProperty(e)&&mr(jt(i.path,e),r))return!0;return!1}function wb(i){return i.visible}function iC(i,r,e){let o=us.empty();for(let u=0;u<i.length;++u){const f=i[u];if(r(f)){const _=f.path;let E;if(f.snap)mr(e,_)?(E=qn(e,_),o=je(o,E,f.snap)):mr(_,e)&&(E=qn(_,e),o=je(o,bt(),f.snap.getChild(E)));else{if(!f.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(mr(e,_))E=qn(e,_),o=n_(o,E,f.children);else if(mr(_,e))if(E=qn(_,e),pt(E))o=n_(o,bt(),f.children);else{const w=(0,N.DV)(f.children,ft(E));if(w){const A=w.getChild(xt(E));o=je(o,bt(),A)}}}}}return o}function sC(i,r,e,o,u){if(o||u){const f=Ai(i.visibleWrites,r);return!u&&Au(f)?e:u||null!=e||r_(f,bt())?Ut(iC(i.allWrites,function(A){return(A.visible||u)&&(!o||!~o.indexOf(A.writeId))&&(mr(A.path,r)||mr(r,A.path))},r),e||ze.EMPTY_NODE):null}{const f=cs(i.visibleWrites,r);if(null!=f)return f;{const _=Ai(i.visibleWrites,r);return Au(_)?e:null!=e||r_(_,bt())?Ut(_,e||ze.EMPTY_NODE):null}}}function Od(i,r,e,o){return sC(i.writeTree,i.treePath,r,e,o)}function fp(i,r){return function(i,r,e){let o=ze.EMPTY_NODE;const u=cs(i.visibleWrites,r);if(u)return u.isLeafNode()||u.forEachChild(Ht,(f,_)=>{o=o.updateImmediateChild(f,_)}),o;if(e){const f=Ai(i.visibleWrites,r);return e.forEachChild(Ht,(_,E)=>{const w=Ut(Ai(f,new Dt(_)),E);o=o.updateImmediateChild(_,w)}),Xv(f).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}return Xv(Ai(i.visibleWrites,r)).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}(i.writeTree,i.treePath,r)}function aC(i,r,e,o){return function(i,r,e,o,u){(0,N.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const f=jt(r,e);if(r_(i.visibleWrites,f))return null;{const _=Ai(i.visibleWrites,f);return Au(_)?u.getChild(e):Ut(_,u.getChild(e))}}(i.writeTree,i.treePath,r,e,o)}function xo(i,r){return function(i,r){return cs(i.visibleWrites,r)}(i.writeTree,jt(i.treePath,r))}function s_(i,r,e){return function(i,r,e,o){const u=jt(r,e),f=cs(i.visibleWrites,u);return null!=f?f:o.isCompleteForChild(e)?Ut(Ai(i.visibleWrites,u),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,r,e)}function lC(i,r){return uC(jt(i.treePath,r),i.writeTree)}function uC(i,r){return{treePath:i,writeTree:r}}class cC{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,o=r.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const f=u.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(o,Iu(o,r.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(o,Td(o,u.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(o,Vs(o,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,N.g5)("Illegal combination of changes: "+r+" occurred after "+u);this.changeMap.set(o,Iu(o,r.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const o_=new class{getCompleteChild(r){return null}getChildAfterChild(r,e,o){return null}};class a_{constructor(r,e,o=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new Us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return s_(this.writes_,r,o)}}getChildAfterChild(r,e,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bs(this.viewCache_),f=function(i,r,e,o,u,f){return function(i,r,e,o,u,f,_){let E;const w=Ai(i.visibleWrites,r),A=cs(w,bt());if(null!=A)E=A;else{if(null==e)return[];E=Ut(w,e)}if(E=E.withIndex(_),E.isEmpty()||E.isLeafNode())return[];{const x=[],L=_.getCompare(),J=f?E.getReverseIteratorFrom(o,_):E.getIteratorFrom(o,_);let fe=J.getNext();for(;fe&&x.length<u;)0!==L(fe,o)&&x.push(fe),fe=J.getNext();return x}}(i.writeTree,i.treePath,r,e,o,u,f)}(this.writes_,u,e,1,o,r);return 0===f.length?null:f[0]}}function Rb(i,r,e,o,u,f){const _=r.eventCache;if(null!=xo(o,e))return r;{let E,w;if(pt(e))if((0,N.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const A=Bs(r),L=fp(o,A instanceof ze?A:ze.EMPTY_NODE);E=i.filter.updateFullNode(r.eventCache.getNode(),L,f)}else{const A=Od(o,Bs(r));E=i.filter.updateFullNode(r.eventCache.getNode(),A,f)}else{const A=ft(e);if(".priority"===A){(0,N.hu)(1===ls(e),"Can't have a priority with additional path components");const x=_.getNode();w=r.serverCache.getNode();const L=aC(o,e,x,w);E=null!=L?i.filter.updatePriority(x,L):_.getNode()}else{const x=xt(e);let L;if(_.isCompleteForChild(A)){w=r.serverCache.getNode();const J=aC(o,e,_.getNode(),w);L=null!=J?_.getNode().getImmediateChild(A).updateChild(x,J):_.getNode().getImmediateChild(A)}else L=s_(o,A,r.serverCache);E=null!=L?i.filter.updateChild(_.getNode(),A,L,x,u,f):_.getNode()}}return Nd(r,E,_.isFullyInitialized()||pt(e),i.filter.filtersNodes())}}function l_(i,r,e,o,u,f,_,E){const w=r.serverCache;let A;const x=_?i.filter:i.filter.getIndexedFilter();if(pt(e))A=x.updateFullNode(w.getNode(),o,null);else if(x.filtersNodes()&&!w.isFiltered()){const fe=w.getNode().updateChild(e,o);A=x.updateFullNode(w.getNode(),fe,null)}else{const fe=ft(e);if(!w.isCompleteForPath(e)&&ls(e)>1)return r;const De=xt(e),rt=w.getNode().getImmediateChild(fe).updateChild(De,o);A=".priority"===fe?x.updatePriority(w.getNode(),rt):x.updateChild(w.getNode(),fe,rt,De,o_,null)}const L=Ya(r,A,w.isFullyInitialized()||pt(e),x.filtersNodes());return Rb(i,L,e,u,new a_(u,L,f),E)}function fC(i,r,e,o,u,f,_){const E=r.eventCache;let w,A;const x=new a_(u,r,f);if(pt(e))A=i.filter.updateFullNode(r.eventCache.getNode(),o,_),w=Nd(r,A,!0,i.filter.filtersNodes());else{const L=ft(e);if(".priority"===L)A=i.filter.updatePriority(r.eventCache.getNode(),o),w=Nd(r,A,E.isFullyInitialized(),E.isFiltered());else{const J=xt(e),fe=E.getNode().getImmediateChild(L);let De;if(pt(J))De=o;else{const We=x.getCompleteChild(L);De=null!=We?".priority"===ep(J)&&We.getChild(tp(J)).isEmpty()?We:We.updateChild(J,o):ze.EMPTY_NODE}w=fe.equals(De)?r:Nd(r,i.filter.updateChild(E.getNode(),L,De,J,x,_),E.isFullyInitialized(),i.filter.filtersNodes())}}return w}function u_(i,r){return i.eventCache.isCompleteForChild(r)}function pC(i,r,e){return e.foreach((o,u)=>{r=r.updateChild(o,u)}),r}function c_(i,r,e,o,u,f,_,E){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let A,w=r;A=pt(e)?o:new Vt(null).setTree(e,o);const x=r.serverCache.getNode();return A.children.inorderTraversal((L,J)=>{if(x.hasChild(L)){const De=pC(0,r.serverCache.getNode().getImmediateChild(L),J);w=l_(i,w,new Dt(L),De,u,f,_,E)}}),A.children.inorderTraversal((L,J)=>{const fe=!r.serverCache.isCompleteForChild(L)&&void 0===J.value;if(!x.hasChild(L)&&!fe){const We=pC(0,r.serverCache.getNode().getImmediateChild(L),J);w=l_(i,w,new Dt(L),We,u,f,_,E)}}),w}class Mb{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Ad(o.getIndex()),f=function(i){return i.loadsAllData()?new Ad(i.getIndex()):i.hasLimit()?new Uv(i):new Po(i)}(o);this.processor_=function(i){return{filter:i}}(f);const _=e.serverCache,E=e.eventCache,w=u.updateFullNode(ze.EMPTY_NODE,_.getNode(),null),A=f.updateFullNode(ze.EMPTY_NODE,E.getNode(),null),x=new Us(w,_.isFullyInitialized(),u.filtersNodes()),L=new Us(A,E.isFullyInitialized(),f.filtersNodes());this.viewCache_=dp(L,x),this.eventGenerator_=new Zv(this.query_)}get query(){return this.query_}}function xb(i,r){const e=Bs(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!pt(r)&&!e.getImmediateChild(ft(r)).isEmpty())?e.getChild(r):null}function d_(i){return 0===i.eventRegistrations_.length}function mC(i,r,e){const o=[];if(e){(0,N.hu)(null==r,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(f=>{const _=f.createCancelEvent(e,u);_&&o.push(_)})}if(r){let u=[];for(let f=0;f<i.eventRegistrations_.length;++f){const _=i.eventRegistrations_[f];if(_.matches(r)){if(r.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(f+1));break}}else u.push(_)}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function Ka(i,r,e,o){r.type===ei.MERGE&&null!==r.source.queryId&&((0,N.hu)(Bs(i.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(t_(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,f=function(i,r,e,o,u){const f=new cC;let _,E;if(e.type===ei.OVERWRITE){const A=e;A.source.fromUser?_=fC(i,r,A.path,A.snap,o,u,f):((0,N.hu)(A.source.fromServer,"Unknown source."),E=A.source.tagged||r.serverCache.isFiltered()&&!pt(A.path),_=l_(i,r,A.path,A.snap,o,u,E,f))}else if(e.type===ei.MERGE){const A=e;A.source.fromUser?_=function(i,r,e,o,u,f,_){let E=r;return o.foreach((w,A)=>{const x=jt(e,w);u_(r,ft(x))&&(E=fC(i,E,x,A,u,f,_))}),o.foreach((w,A)=>{const x=jt(e,w);u_(r,ft(x))||(E=fC(i,E,x,A,u,f,_))}),E}(i,r,A.path,A.children,o,u,f):((0,N.hu)(A.source.fromServer,"Unknown source."),E=A.source.tagged||r.serverCache.isFiltered(),_=c_(i,r,A.path,A.children,o,u,E,f))}else if(e.type===ei.ACK_USER_WRITE){const A=e;_=A.revert?function(i,r,e,o,u,f){let _;if(null!=xo(o,e))return r;{const E=new a_(o,r,u),w=r.eventCache.getNode();let A;if(pt(e)||".priority"===ft(e)){let x;if(r.serverCache.isFullyInitialized())x=Od(o,Bs(r));else{const L=r.serverCache.getNode();(0,N.hu)(L instanceof ze,"serverChildren would be complete if leaf node"),x=fp(o,L)}x=x,A=i.filter.updateFullNode(w,x,f)}else{const x=ft(e);let L=s_(o,x,r.serverCache);null==L&&r.serverCache.isCompleteForChild(x)&&(L=w.getImmediateChild(x)),A=null!=L?i.filter.updateChild(w,x,L,xt(e),E,f):r.eventCache.getNode().hasChild(x)?i.filter.updateChild(w,x,ze.EMPTY_NODE,xt(e),E,f):w,A.isEmpty()&&r.serverCache.isFullyInitialized()&&(_=Od(o,Bs(r)),_.isLeafNode()&&(A=i.filter.updateFullNode(A,_,f)))}return _=r.serverCache.isFullyInitialized()||null!=xo(o,bt()),Nd(r,A,_,i.filter.filtersNodes())}}(i,r,A.path,o,u,f):function(i,r,e,o,u,f,_){if(null!=xo(u,e))return r;const E=r.serverCache.isFiltered(),w=r.serverCache;if(null!=o.value){if(pt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return l_(i,r,e,w.getNode().getChild(e),u,f,E,_);if(pt(e)){let A=new Vt(null);return w.getNode().forEachChild(Ii,(x,L)=>{A=A.set(new Dt(x),L)}),c_(i,r,e,A,u,f,E,_)}return r}{let A=new Vt(null);return o.foreach((x,L)=>{const J=jt(e,x);w.isCompleteForPath(J)&&(A=A.set(x,w.getNode().getChild(J)))}),c_(i,r,e,A,u,f,E,_)}}(i,r,A.path,A.affectedTree,o,u,f)}else{if(e.type!==ei.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);_=function(i,r,e,o,u){const f=r.serverCache;return Rb(i,Ya(r,f.getNode(),f.isFullyInitialized()||pt(e),f.isFiltered()),e,o,o_,u)}(i,r,e.path,o,f)}const w=f.getChanges();return function(i,r,e){const o=r.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=t_(i);(e.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&e.push(Qm(t_(r)))}}(r,_,w),{viewCache:_,changes:w}}(i.processor_,u,r,e,o);return function(i,r){(0,N.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,f.viewCache),(0,N.hu)(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=f.viewCache,h_(i,f.changes,f.viewCache.eventCache.getNode(),null)}function h_(i,r,e,o){return function(i,r,e,o){const u=[],f=[];return r.forEach(_=>{"child_changed"===_.type&&i.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&f.push(function(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(_.childName,_.snapshotNode))}),Za(i,u,"child_removed",r,o,e),Za(i,u,"child_added",r,o,e),Za(i,u,"child_moved",f,o,e),Za(i,u,"child_changed",r,o,e),Za(i,u,"value",r,o,e),u}(i.eventGenerator_,r,e,o?[o]:i.eventRegistrations_)}let gp,_p;class f_{constructor(){this.views=new Map}}function Fd(i,r,e,o){const u=r.source.queryId;if(null!==u){const f=i.views.get(u);return(0,N.hu)(null!=f,"SyncTree gave us an op for an invalid query."),Ka(f,r,e,o)}{let f=[];for(const _ of i.views.values())f=f.concat(Ka(_,r,e,o));return f}}function yC(i,r,e,o,u){const _=i.views.get(r._queryIdentifier);if(!_){let E=Od(e,u?o:null),w=!1;E?w=!0:o instanceof ze?(E=fp(e,o),w=!1):(E=ze.EMPTY_NODE,w=!1);const A=dp(new Us(E,w,!1),new Us(o,u,!1));return new Mb(r,A)}return _}function EC(i){const r=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function ko(i,r){let e=null;for(const o of i.views.values())e=e||xb(o,r);return e}function bC(i,r){return r._queryParams.loadsAllData()?Ld(i):i.views.get(r._queryIdentifier)}function mp(i,r){return null!=bC(i,r)}function Fo(i){return null!=Ld(i)}function Ld(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let jb=1;class wC{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Vt(null),this.pendingWriteTree_={visibleWrites:us.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function p_(i,r,e,o,u){return function(i,r,e,o,u){(0,N.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),i.allWrites.push({path:r,snap:e,writeId:o,visible:u}),u&&(i.visibleWrites=je(i.visibleWrites,r,e)),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o,u),u?Qa(i,new Oo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function Lo(i,r,e=!1){const o=function(i,r){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function(i,r){const e=i.allWrites.findIndex(E=>E.writeId===r);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let u=o.visible,f=!1,_=i.allWrites.length-1;for(;u&&_>=0;){const E=i.allWrites[_];E.visible&&(_>=e&&nC(E,o.path)?u=!1:mr(o.path,E.path)&&(f=!0)),_--}return!!u&&(f?(function(i){i.visibleWrites=iC(i.allWrites,wb,bt()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=Jv(i.visibleWrites,o.path):Kt(o.children,w=>{i.visibleWrites=Jv(i.visibleWrites,jt(o.path,w))}),!0))}(i.pendingWriteTree_,r)){let f=new Vt(null);return null!=o.snap?f=f.set(bt(),!0):Kt(o.children,_=>{f=f.set(new Dt(_),!0)}),Qa(i,new Rd(o.path,f,e))}return[]}function Su(i,r,e){return Qa(i,new Oo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function yp(i,r,e,o){const u=r._path,f=i.syncPointTree_.get(u);let _=[];if(f&&("default"===r._queryIdentifier||mp(f,r))){const E=function(i,r,e,o){const u=r._queryIdentifier,f=[];let _=[];const E=Fo(i);if("default"===u)for(const[w,A]of i.views.entries())_=_.concat(mC(A,e,o)),d_(A)&&(i.views.delete(w),A.query._queryParams.loadsAllData()||f.push(A.query));else{const w=i.views.get(u);w&&(_=_.concat(mC(w,e,o)),d_(w)&&(i.views.delete(u),w.query._queryParams.loadsAllData()||f.push(w.query)))}return E&&!Fo(i)&&f.push(new((0,N.hu)(gp,"Reference.ts has not been loaded"),gp)(r._repo,r._path)),{removed:f,events:_}}(f,r,e,o);(function(i){return 0===i.views.size})(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const w=E.removed;_=E.events;const A=-1!==w.findIndex(L=>L._queryParams.loadsAllData()),x=i.syncPointTree_.findOnPath(u,(L,J)=>Fo(J));if(A&&!x){const L=i.syncPointTree_.subtree(u);if(!L.isEmpty()){const J=function(i){return i.fold((r,e,o)=>{if(e&&Fo(e))return[Ld(e)];{let u=[];return e&&(u=EC(e)),Kt(o,(f,_)=>{u=u.concat(_)}),u}})}(L);for(let fe=0;fe<J.length;++fe){const De=J[fe],We=De.query,rt=AC(i,De);i.listenProvider_.startListening(Mu(We),Nu(i,We),rt.hashFn,rt.onComplete)}}}if(!x&&w.length>0&&!o)if(A){const L=null;i.listenProvider_.stopListening(Mu(r),L)}else w.forEach(L=>{const J=i.queryToTagMap.get(Cp(L));i.listenProvider_.stopListening(Mu(L),J)});!function(i,r){for(let e=0;e<r.length;++e){const o=r[e];if(!o._queryParams.loadsAllData()){const u=Cp(o),f=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(f)}}}(i,w)}return _}function DC(i,r,e){const o=r._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(L,J)=>{const fe=qn(L,o);u=u||ko(J,fe),f=f||Fo(J)});let E,_=i.syncPointTree_.get(o);_?(f=f||Fo(_),u=u||ko(_,bt())):(_=new f_,i.syncPointTree_=i.syncPointTree_.set(o,_)),null!=u?E=!0:(E=!1,u=ze.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((J,fe)=>{const De=ko(fe,bt());De&&(u=u.updateImmediateChild(J,De))}));const w=mp(_,r);if(!w&&!r._queryParams.loadsAllData()){const L=Cp(r);(0,N.hu)(!i.queryToTagMap.has(L),"View does not exist, but we have a tag");const J=jb++;i.queryToTagMap.set(L,J),i.tagToQueryMap.set(J,L)}let x=function(i,r,e,o,u,f){const _=yC(i,r,o,u,f);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,_),function(i,r){i.eventRegistrations_.push(r)}(_,e),function(i,r){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ht,(f,_)=>{o.push(Vs(f,_))}),e.isFullyInitialized()&&o.push(Qm(e.getNode())),h_(i,o,e.getNode(),r)}(_,e)}(_,r,e,Md(i.pendingWriteTree_,o),u,E);if(!w&&!f){const L=bC(_,r);x=x.concat(function(i,r,e){const o=r._path,u=Nu(i,r),f=AC(i,e),_=i.listenProvider_.startListening(Mu(r),u,f.hashFn,f.onComplete),E=i.syncPointTree_.subtree(o);if(u)(0,N.hu)(!Fo(E.value),"If we're adding a query, it shouldn't be shadowed");else{const w=E.fold((A,x,L)=>{if(!pt(A)&&x&&Fo(x))return[Ld(x).query];{let J=[];return x&&(J=J.concat(EC(x).map(fe=>fe.query))),Kt(L,(fe,De)=>{J=J.concat(De)}),J}});for(let A=0;A<w.length;++A){const x=w[A];i.listenProvider_.stopListening(Mu(x),Nu(i,x))}}return _}(i,r,L))}return x}function Ru(i,r,e){const u=i.pendingWriteTree_,f=i.syncPointTree_.findOnPath(r,(_,E)=>{const A=ko(E,qn(_,r));if(A)return A});return sC(u,r,f,e,!0)}function Qa(i,r){return vp(r,i.syncPointTree_,null,Md(i.pendingWriteTree_,bt()))}function vp(i,r,e,o){if(pt(i.path))return TC(i,r,e,o);{const u=r.get(bt());null==e&&null!=u&&(e=ko(u,bt()));let f=[];const _=ft(i.path),E=i.operationForChild(_),w=r.children.get(_);if(w&&E){const A=e?e.getImmediateChild(_):null,x=lC(o,_);f=f.concat(vp(E,w,A,x))}return u&&(f=f.concat(Fd(u,i,o,e))),f}}function TC(i,r,e,o){const u=r.get(bt());null==e&&null!=u&&(e=ko(u,bt()));let f=[];return r.children.inorderTraversal((_,E)=>{const w=e?e.getImmediateChild(_):null,A=lC(o,_),x=i.operationForChild(_);x&&(f=f.concat(TC(x,E,w,A)))}),u&&(f=f.concat(Fd(u,i,o,e))),f}function AC(i,r){const e=r.query,o=Nu(i,e);return{hashFn:()=>(function(i){return i.viewCache_.serverCache.getNode()}(r)||ze.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function(i,r,e){const o=Ep(i,e);if(o){const u=m_(o),f=u.path,_=u.queryId,E=qn(f,r);return bp(i,f,new Tu(cp(_),E))}return[]}(i,e._path,o):function(i,r){return Qa(i,new Tu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,e._path);{const f=function(i,r){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(u,e);return yp(i,e,null,f)}}}}function Nu(i,r){const e=Cp(r);return i.queryToTagMap.get(e)}function Cp(i){return i._path.toString()+"$"+i._queryIdentifier}function Ep(i,r){return i.tagToQueryMap.get(r)}function m_(i){const r=i.indexOf("$");return(0,N.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new Dt(i.substr(0,r))}}function bp(i,r,e){const o=i.syncPointTree_.get(r);return(0,N.hu)(o,"Missing sync point for query tag that we're tracking"),Fd(o,e,Md(i.pendingWriteTree_,r),null)}function Mu(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new((0,N.hu)(_p,"Reference.ts has not been loaded"),_p)(i._repo,i._path):i}class RC{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new RC(e)}node(){return this.node_}}class Vd{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=jt(this.path_,r);return new Vd(this.syncTree_,e)}node(){return Ru(this.syncTree_,this.path_)}}const NC=function(i,r,e){return i&&"object"==typeof i?((0,N.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Pu(i[".sv"],r,e):"object"==typeof i[".sv"]?qb(i[".sv"],r):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Pu=function(i,r,e){switch(i){case"timestamp":return e.timestamp;default:(0,N.hu)(!1,"Unexpected server value: "+i)}},qb=function(i,r,e){i.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,N.hu)(!1,"Unexpected increment value: "+o);const u=r.node();if((0,N.hu)(null!=u,"Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const _=u.getValue();return"number"!=typeof _?o:_+o},Yb=function(i,r,e,o){return ti(r,new Vd(e,i),o)},__=function(i,r,e){return ti(i,new RC(r),e)};function ti(i,r,e){const o=i.getPriority().val(),u=NC(o,r.getImmediateChild(".priority"),e);let f;if(i.isLeafNode()){const _=i,E=NC(_.getValue(),r,e);return E!==_.getValue()||u!==_.getPriority().val()?new Wa(E,Qt(u)):i}{const _=i;return f=_,u!==_.getPriority().val()&&(f=f.updatePriority(new Wa(u))),_.forEachChild(Ht,(E,w)=>{const A=ti(w,r.getImmediateChild(E),e);A!==w&&(f=f.updateImmediateChild(E,A))}),f}}class Ip{constructor(r="",e=null,o={children:{},childCount:0}){this.name=r,this.parent=e,this.node=o}}function y_(i,r){let e=r instanceof Dt?r:new Dt(r),o=i,u=ft(e);for(;null!==u;){const f=(0,N.DV)(o.node.children,u)||{children:{},childCount:0};o=new Ip(u,o,f),e=xt(e),u=ft(e)}return o}function ds(i){return i.node.value}function v_(i,r){i.node.value=r,Tp(i)}function MC(i){return i.node.childCount>0}function Dp(i,r){Kt(i.node.children,(e,o)=>{r(new Ip(e,i,o))})}function PC(i,r,e,o){e&&!o&&r(i),Dp(i,u=>{PC(u,r,!0,o)}),e&&o&&r(i)}function Xa(i){return new Dt(null===i.parent?i.name:Xa(i.parent)+"/"+i.name)}function Tp(i){null!==i.parent&&function(i,r,e){const o=function(i){return void 0===ds(i)&&!MC(i)}(e),u=(0,N.r3)(i.node.children,r);o&&u?(delete i.node.children[r],i.node.childCount--,Tp(i)):!o&&!u&&(i.node.children[r]=e.node,i.node.childCount++,Tp(i))}(i.parent,i.name,i)}const OC=/[\[\].#$\/\u0000-\u001F\u007F]/,Qb=/[\[\].#$\u0000-\u001F\u007F]/,xC=10485760,Ap=function(i){return"string"==typeof i&&0!==i.length&&!OC.test(i)},kC=function(i){return"string"==typeof i&&0!==i.length&&!Qb.test(i)},Ou=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!pd(i)||i&&"object"==typeof i&&(0,N.r3)(i,".sv")},Si=function(i,r,e,o){o&&void 0===r||xu((0,N.gK)(i,"value"),r,e)},xu=function(i,r,e){const o=e instanceof Dt?new Bm(e,i):e;if(void 0===r)throw new Error(i+"contains undefined "+Mo(o));if("function"==typeof r)throw new Error(i+"contains a function "+Mo(o)+" with contents = "+r.toString());if(pd(r))throw new Error(i+"contains "+r.toString()+" "+Mo(o));if("string"==typeof r&&r.length>xC/3&&(0,N.ug)(r)>xC)throw new Error(i+"contains a string greater than "+xC+" utf8 bytes "+Mo(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let u=!1,f=!1;if(Kt(r,(_,E)=>{if(".value"===_)u=!0;else if(".priority"!==_&&".sv"!==_&&(f=!0,!Ap(_)))throw new Error(i+" contains an invalid key ("+_+") "+Mo(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,N.ug)(r),jm(i)})(o,_),xu(i,E,o),function(i){const r=i.parts_.pop();i.byteLength_-=(0,N.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),u&&f)throw new Error(i+' contains ".value" child '+Mo(o)+" in addition to actual children.")}},FC=function(i,r,e,o){if(o&&void 0===r)return;const u=(0,N.gK)(i,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(u+" must be an object containing the children to replace.");const f=[];Kt(r,(_,E)=>{const w=new Dt(_);if(xu(u,E,jt(e,w)),".priority"===ep(w)&&!Ou(E))throw new Error(u+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(w)}),function(i,r){let e,o;for(e=0;e<r.length;e++){o=r[e];const f=yd(o);for(let _=0;_<f.length;_++)if((".priority"!==f[_]||_!==f.length-1)&&!Ap(f[_]))throw new Error(i+"contains an invalid key ("+f[_]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Um);let u=null;for(e=0;e<r.length;e++){if(o=r[e],null!==u&&mr(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,f)},Sp=function(i,r,e){if(!e||void 0!==r){if(pd(r))throw new Error((0,N.gK)(i,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ou(r))throw new Error((0,N.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vo=function(i,r,e,o){if(!(o&&void 0===e||Ap(e)))throw new Error((0,N.gK)(i,r)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ud=function(i,r,e,o){if(!(o&&void 0===e||kC(e)))throw new Error((0,N.gK)(i,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ar=function(i,r){if(".info"===ft(r))throw new Error(i+" failed = Can't modify data under /.info/")},Bd=function(i,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Ap(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),kC(i)}(e))throw new Error((0,N.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rp(i,r){let e=null;for(let o=0;o<r.length;o++){const u=r[o],f=u.getPath();null!==e&&!np(f,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(u)}e&&i.eventLists_.push(e)}function E_(i,r,e){Rp(i,e),VC(i,o=>np(o,r))}function Ri(i,r,e){Rp(i,e),VC(i,o=>mr(o,r)||mr(r,o))}function VC(i,r){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];u&&(r(u.path)?(ew(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function ew(i){for(let r=0;r<i.events.length;r++){const e=i.events[r];if(null!==e){i.events[r]=null;const o=e.getEventRunner();ks&&Dn("event: "+e.toString()),wi(o)}}}const UC="repo_interrupt";class nw{constructor(r,e,o,u){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lp(),this.transactionQueueTree_=new Ip,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BC(i){const e=i.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Hd(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:BC(i)})}function jC(i,r,e,o,u){i.dataUpdateCount++;const f=new Dt(r);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,e):e;let _=[];if(u)if(o){const w=(0,N.UI)(e,A=>Qt(A));_=function(i,r,e,o){const u=Ep(i,o);if(u){const f=m_(u),_=f.path,E=f.queryId,w=qn(_,r),A=Vt.fromObject(e);return bp(i,_,new za(cp(E),w,A))}return[]}(i.serverSyncTree_,f,w,u)}else{const w=Qt(e);_=function(i,r,e,o){const u=Ep(i,o);if(null!=u){const f=m_(u),_=f.path,E=f.queryId,w=qn(_,r);return bp(i,_,new Oo(cp(E),w,e))}return[]}(i.serverSyncTree_,f,w,u)}else if(o){const w=(0,N.UI)(e,A=>Qt(A));_=function(i,r,e){const o=Vt.fromObject(e);return Qa(i,new za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,f,w)}else{const w=Qt(e);_=Su(i.serverSyncTree_,f,w)}let E=f;_.length>0&&(E=rl(i,f)),Ri(i.eventQueue_,E,_)}function iw(i,r){el(i,"connected",r),!1===r&&function(i){nl(i,"onDisconnectEvents");const r=Hd(i),e=lp();Xm(i.onDisconnect_,bt(),(u,f)=>{const _=Yb(u,f,i.serverSyncTree_,r);Du(e,u,_)});let o=[];Xm(e,bt(),(u,f)=>{o=o.concat(Su(i.serverSyncTree_,u,f));const _=il(i,u);rl(i,_)}),i.onDisconnect_=lp(),Ri(i.eventQueue_,bt(),o)}(i)}function el(i,r,e){const o=new Dt("/.info/"+r),u=Qt(e);i.infoData_.updateSnapshot(o,u);const f=Su(i.infoSyncTree_,o,u);Ri(i.eventQueue_,o,f)}function Np(i){return i.nextWriteId_++}function b_(i,r,e,o,u){nl(i,"set",{path:r.toString(),value:e,priority:o});const f=Hd(i),_=Qt(e,o),E=Ru(i.serverSyncTree_,r),w=__(_,E,f),A=Np(i),x=p_(i.serverSyncTree_,r,w,A,!0);Rp(i.eventQueue_,x),i.server_.put(r.toString(),_.val(!0),(J,fe)=>{const De="ok"===J;De||Tn("set at "+r+" failed: "+J);const We=Lo(i.serverSyncTree_,A,!De);Ri(i.eventQueue_,r,We),hs(0,u,J,fe)});const L=il(i,r);rl(i,L),Ri(i.eventQueue_,L,[])}function HC(i,r,e){i.server_.onDisconnectCancel(r.toString(),(o,u)=>{"ok"===o&&Jm(i.onDisconnect_,r),hs(0,e,o,u)})}function $C(i,r,e,o){const u=Qt(e);i.server_.onDisconnectPut(r.toString(),u.val(!0),(f,_)=>{"ok"===f&&Du(i.onDisconnect_,r,u),hs(0,o,f,_)})}function w_(i,r,e){let o;o=".info"===ft(r._path)?yp(i.infoSyncTree_,r,e):yp(i.serverSyncTree_,r,e),E_(i.eventQueue_,r._path,o)}function WC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(UC)}function nl(i,...r){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Dn(e,...r)}function hs(i,r,e,o){r&&wi(()=>{if("ok"===e)r(null);else{const u=(e||"error").toUpperCase();let f=u;o&&(f+=": "+o);const _=new Error(f);_.code=u,r(_)}})}function Op(i,r,e){return Ru(i.serverSyncTree_,r,e)||ze.EMPTY_NODE}function xp(i,r=i.transactionQueueTree_){if(r||D_(i,r),ds(r)){const e=$d(i,r);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function(i,r,e){const o=e.map(A=>A.currentWriteId),u=Op(i,r,o);let f=u;const _=u.hash();for(let A=0;A<e.length;A++){const x=e[A];(0,N.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const L=qn(r,x.path);f=f.updateChild(L,x.currentOutputSnapshotRaw)}const E=f.val(!0),w=r;i.server_.put(w.toString(),E,A=>{nl(i,"transaction put response",{path:w.toString(),status:A});let x=[];if("ok"===A){const L=[];for(let J=0;J<e.length;J++)e[J].status=2,x=x.concat(Lo(i.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&L.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();D_(i,y_(i.transactionQueueTree_,r)),xp(i,i.transactionQueueTree_),Ri(i.eventQueue_,r,x);for(let J=0;J<L.length;J++)wi(L[J])}else{if("datastale"===A)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{Tn("transaction at "+w.toString()+" failed: "+A);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=A}rl(i,r)}},_)}(i,Xa(r),e)}else MC(r)&&Dp(r,e=>{xp(i,e)})}function rl(i,r){const e=I_(i,r),o=Xa(e);return function(i,r,e){if(0===r.length)return;const o=[];let u=[];const _=r.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<r.length;E++){const w=r[E],A=qn(e,w.path);let L,x=!1;if((0,N.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)x=!0,L=w.abortReason,u=u.concat(Lo(i.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)x=!0,L="maxretry",u=u.concat(Lo(i.serverSyncTree_,w.currentWriteId,!0));else{const J=Op(i,w.path,_);w.currentInputSnapshot=J;const fe=r[E].update(J.val());if(void 0!==fe){xu("transaction failed: Data returned ",fe,w.path);let De=Qt(fe);"object"==typeof fe&&null!=fe&&(0,N.r3)(fe,".priority")||(De=De.updatePriority(J.getPriority()));const rt=w.currentWriteId,Xt=Hd(i),$t=__(De,J,Xt);w.currentOutputSnapshotRaw=De,w.currentOutputSnapshotResolved=$t,w.currentWriteId=Np(i),_.splice(_.indexOf(rt),1),u=u.concat(p_(i.serverSyncTree_,w.path,$t,w.currentWriteId,w.applyLocally)),u=u.concat(Lo(i.serverSyncTree_,rt,!0))}else x=!0,L="nodata",u=u.concat(Lo(i.serverSyncTree_,w.currentWriteId,!0))}Ri(i.eventQueue_,e,u),u=[],x&&(r[E].status=2,setTimeout(r[E].unwatcher,Math.floor(0)),r[E].onComplete&&o.push("nodata"===L?()=>r[E].onComplete(null,!1,r[E].currentInputSnapshot):()=>r[E].onComplete(new Error(L),!1,null)))}D_(i,i.transactionQueueTree_);for(let E=0;E<o.length;E++)wi(o[E]);xp(i,i.transactionQueueTree_)}(i,$d(i,e),o),o}function I_(i,r){let e,o=i.transactionQueueTree_;for(e=ft(r);null!==e&&void 0===ds(o);)o=y_(o,e),e=ft(r=xt(r));return o}function $d(i,r){const e=[];return Wd(i,r,e),e.sort((o,u)=>o.order-u.order),e}function Wd(i,r,e){const o=ds(r);if(o)for(let u=0;u<o.length;u++)e.push(o[u]);Dp(r,u=>{Wd(i,u,e)})}function D_(i,r){const e=ds(r);if(e){let o=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[o]=e[u],o++);e.length=o,v_(r,e.length>0?e:void 0)}Dp(r,o=>{D_(i,o)})}function il(i,r){const e=Xa(I_(i,r)),o=y_(i.transactionQueueTree_,r);return function(i,r,e){let o=i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,u=>{Tt(i,u)}),Tt(i,o),PC(o,u=>{Tt(i,u)}),e}function Tt(i,r){const e=ds(r);if(e){const o=[];let u=[],f=-1;for(let _=0;_<e.length;_++)3===e[_].status||(1===e[_].status?((0,N.hu)(f===_-1,"All SENT items should be at beginning of queue."),f=_,e[_].status=3,e[_].abortReason="set"):((0,N.hu)(0===e[_].status,"Unexpected transaction status in abort"),e[_].unwatcher(),u=u.concat(Lo(i.serverSyncTree_,e[_].currentWriteId,!0)),e[_].onComplete&&o.push(e[_].onComplete.bind(null,new Error("set"),!1,null))));-1===f?v_(r,void 0):e.length=f+1,Ri(i.eventQueue_,Xa(r),u);for(let _=0;_<o.length;_++)wi(o[_])}}const sl=function(i,r){const e=AD(i),o=e.namespace;return"firebase.com"===e.domain&&ss(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&ss("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Sm(e.host,e.secure,o,r,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new Dt(e.pathString)}},AD=function(i){let r="",e="",o="",u="",f="",_=!0,E="https",w=443;if("string"==typeof i){let A=i.indexOf("//");A>=0&&(E=i.substring(0,A-1),i=i.substring(A+2));let x=i.indexOf("/");-1===x&&(x=i.length);let L=i.indexOf("?");-1===L&&(L=i.length),r=i.substring(0,Math.min(x,L)),x<L&&(u=function(i){let r="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let u=e[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(f){}r+="/"+u}return r}(i.substring(x,L)));const J=function(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Tn(`Invalid query segment '${e}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,L)));A=r.indexOf(":"),A>=0?(_="https"===E||"wss"===E,w=parseInt(r.substring(A+1),10)):A=r.length;const fe=r.slice(0,A);if("localhost"===fe.toLowerCase())e="localhost";else if(fe.split(".").length<=2)e=fe;else{const De=r.indexOf(".");o=r.substring(0,De).toLowerCase(),e=r.substring(De+1),f=o}"ns"in J&&(f=J.ns)}return{host:r,port:w,domain:e,subdomain:o,secure:_,scheme:E,pathString:u,namespace:f}};class Je{constructor(r,e,o,u){this.eventType=r,this.eventRegistration=e,this.snapshot=o,this.prevName=u}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class kr{constructor(r,e,o){this.eventRegistration=r,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kp{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Bo{constructor(r,e){this._repo=r,this._path=e}cancel(){const r=new N.BH;return HC(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){ar("OnDisconnect.remove",this._path);const r=new N.BH;return $C(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){ar("OnDisconnect.set",this._path),Si("OnDisconnect.set",r,this._path,!1);const e=new N.BH;return $C(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}setWithPriority(r,e){ar("OnDisconnect.setWithPriority",this._path),Si("OnDisconnect.setWithPriority",r,this._path,!1),Sp("OnDisconnect.setWithPriority",e,!1);const o=new N.BH;return function(i,r,e,o,u){const f=Qt(e,o);i.server_.onDisconnectPut(r.toString(),f.val(!0),(_,E)=>{"ok"===_&&Du(i.onDisconnect_,r,f),hs(0,u,_,E)})}(this._repo,this._path,r,e,o.wrapCallback(()=>{})),o.promise}update(r){ar("OnDisconnect.update",this._path),FC("OnDisconnect.update",r,this._path,!1);const e=new N.BH;return function(i,r,e,o){if((0,N.xb)(e))return Dn("onDisconnect().update() called with empty data.  Don't do anything."),void hs(0,o,"ok",void 0);i.server_.onDisconnectMerge(r.toString(),e,(u,f)=>{"ok"===u&&Kt(e,(_,E)=>{const w=Qt(E);Du(i.onDisconnect_,jt(r,_),w)}),hs(0,o,u,f)})}(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}}class Fr{constructor(r,e,o,u){this._repo=r,this._path=e,this._queryParams=o,this._orderByCalled=u}get key(){return pt(this._path)?null:ep(this._path)}get ref(){return new ni(this._repo,this._path)}get _queryIdentifier(){const r=Gv(this._queryParams),e=Ba(r);return"{}"===e?"default":e}get _queryObject(){return Gv(this._queryParams)}isEqual(r){if(!((r=(0,N.m9)(r))instanceof Fr))return!1;const e=this._repo===r._repo,o=np(this._path,r._path);return e&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(i){let r="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(r+="/"+encodeURIComponent(String(i.pieces_[e])));return r||"/"}(this._path)}}function Gd(i,r){if(!0===i._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function js(i){let r=null,e=null;if(i.hasStart()&&(r=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Ii){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==xr)throw new Error(o);if("string"!=typeof r)throw new Error(u)}if(i.hasEnd()){if(i.getIndexEndName()!==os)throw new Error(o);if("string"!=typeof e)throw new Error(u)}}else if(i.getIndex()===Ht){if(null!=r&&!Ou(r)||null!=e&&!Ou(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(i.getIndex()instanceof qm||i.getIndex()===Ym,"unknown index type."),null!=r&&"object"==typeof r||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function T_(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ni extends Fr{constructor(r,e){super(r,e,new Sd,!1)}get parent(){const r=tp(this._path);return null===r?null:new ni(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class ol{constructor(r,e,o){this._node=r,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new Dt(r),o=Ln(this.ref,r);return new ol(this._node.getChild(e),o,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>r(new ol(u,Ln(this.ref,o),Ht)))}hasChild(r){const e=new Dt(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lr(i,r){return(i=(0,N.m9)(i))._checkNotDeleted("ref"),void 0!==r?Ln(i._root,r):i._root}function Jt(i,r){(i=(0,N.m9)(i))._checkNotDeleted("refFromURL");const e=sl(r,i._repo.repoInfo_.nodeAdmin);Bd("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&ss("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),Lr(i,e.path.toString())}function Ln(i,r){return null===ft((i=(0,N.m9)(i))._path)?((e=r)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ud("child","path",e,!1)):Ud("child","path",r,!1),new ni(i._repo,jt(i._path,r));var e}function zd(i,r){i=(0,N.m9)(i),ar("set",i._path),Si("set",r,i._path,!1);const e=new N.BH;return b_(i._repo,i._path,r,null,e.wrapCallback(()=>{})),e.promise}function hw(i,r){FC("update",r,i._path,!1);const e=new N.BH;return function(i,r,e,o){nl(i,"update",{path:r.toString(),value:e});let u=!0;const f=Hd(i),_={};if(Kt(e,(E,w)=>{u=!1,_[E]=Yb(jt(r,E),Qt(w),i.serverSyncTree_,f)}),u)Dn("update() called with empty data.  Don't do anything."),hs(0,o,"ok",void 0);else{const E=Np(i),w=function(i,r,e,o){!function(i,r,e,o){(0,N.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:r,children:e,writeId:o,visible:!0}),i.visibleWrites=n_(i.visibleWrites,r,e),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o);const u=Vt.fromObject(e);return Qa(i,new za({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,u))}(i.serverSyncTree_,r,_,E);Rp(i.eventQueue_,w),i.server_.merge(r.toString(),e,(A,x)=>{const L="ok"===A;L||Tn("update at "+r+" failed: "+A);const J=Lo(i.serverSyncTree_,E,!L),fe=J.length>0?rl(i,r):r;Ri(i.eventQueue_,fe,J),hs(0,o,A,x)}),Kt(e,A=>{const x=il(i,jt(r,A));rl(i,x)}),Ri(i.eventQueue_,r,[])}}(i._repo,i._path,r,e.wrapCallback(()=>{})),e.promise}function al(i){return function(i,r){const e=function(i,r){const e=r._path;let o=null;i.syncPointTree_.foreachOnPath(e,(A,x)=>{const L=qn(A,e);o=o||ko(x,L)});let u=i.syncPointTree_.get(e);u?o=o||ko(u,bt()):(u=new f_,i.syncPointTree_=i.syncPointTree_.set(e,u));const f=null!=o,_=f?new Us(o,!0,!1):null;return function(i){return t_(i.viewCache_)}(yC(u,r,Md(i.pendingWriteTree_,r._path),f?_.getNode():ze.EMPTY_NODE,f))}(i.serverSyncTree_,r);return null!=e?Promise.resolve(e):i.server_.get(r).then(o=>{const u=Qt(o).withIndex(r._queryParams.getIndex()),f=Su(i.serverSyncTree_,r._path,u);return E_(i.eventQueue_,r._path,f),Promise.resolve(u)},o=>(nl(i,"get for query "+(0,N.Pz)(r)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,N.m9)(i))._repo,i).then(r=>new ol(r,new ni(i._repo,i._path),i._queryParams.getIndex()))}class Fp{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const o=e._queryParams.getIndex();return new Je("value",this,new ol(r.snapshotNode,new ni(e._repo,e._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new kr(this,r,e):null}matches(r){return r instanceof Fp&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qd{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new kr(this,r,e):null}createEvent(r,e){(0,N.hu)(null!=r.childName,"Child events should have a childName.");const o=Ln(new ni(e._repo,e._path),r.childName),u=e._queryParams.getIndex();return new Je(r.type,this,new ol(r.snapshotNode,o,u),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof qd&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ll(i,r,e,o,u){let f;if("object"==typeof o&&(f=void 0,u=o),"function"==typeof o&&(f=o),u&&u.onlyOnce){const w=e,A=(x,L)=>{w_(i._repo,i,E),w(x,L)};A.userCallback=e.userCallback,A.context=e.context,e=A}const _=new kp(e,f||void 0),E="value"===r?new Fp(_):new qd(r,_);return function(i,r,e){let o;o=".info"===ft(r._path)?DC(i.infoSyncTree_,r,e):DC(i.serverSyncTree_,r,e),E_(i.eventQueue_,r._path,o)}(i._repo,i,E),()=>w_(i._repo,i,E)}function ul(i,r,e,o){return ll(i,"value",r,e,o)}function Lp(i,r,e,o){return ll(i,"child_added",r,e,o)}function A_(i,r,e,o){return ll(i,"child_changed",r,e,o)}function cl(i,r,e,o){return ll(i,"child_moved",r,e,o)}function qC(i,r,e,o){return ll(i,"child_removed",r,e,o)}function Yd(i,r,e){let o=null;const u=e?new kp(e):null;"value"===r?o=new Fp(u):r&&(o=new qd(r,u)),w_(i._repo,i,o)}class ri{}class S_ extends ri{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Si("endAt",this._value,r._path,!0);const e=sp(r._queryParams,this._value,this._key);if(T_(e),js(e),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fr(r._repo,r._path,e,r._orderByCalled)}}class Vp extends ri{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Si("endBefore",this._value,r._path,!1);const e=function(i,r,e){let o,u;return i.index_===Ii?("string"==typeof r&&(r=Km(r)),u=sp(i,r,e)):(o=null==e?xr:Km(e),u=sp(i,r,o)),u.endBeforeSet_=!0,u}(r._queryParams,this._value,this._key);if(T_(e),js(e),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fr(r._repo,r._path,e,r._orderByCalled)}}class Up extends ri{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Si("startAt",this._value,r._path,!0);const e=ip(r._queryParams,this._value,this._key);if(T_(e),js(e),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fr(r._repo,r._path,e,r._orderByCalled)}}class SD extends ri{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Si("startAfter",this._value,r._path,!1);const e=function(i,r,e){let o;if(i.index_===Ii)"string"==typeof r&&(r=Lv(r)),o=ip(i,r,e);else{let u;u=null==e?os:Lv(e),o=ip(i,r,u)}return o.startAfterSet_=!0,o}(r._queryParams,this._value,this._key);if(T_(e),js(e),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fr(r._repo,r._path,e,r._orderByCalled)}}class Xe extends ri{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fr(r._repo,r._path,function(i,r){const e=i.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="l",e}(r._queryParams,this._limit),r._orderByCalled)}}class Kd extends ri{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fr(r._repo,r._path,function(i,r){const e=i.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="r",e}(r._queryParams,this._limit),r._orderByCalled)}}class gw extends ri{constructor(r){super(),this._path=r}_apply(r){Gd(r,"orderByChild");const e=new Dt(this._path);if(pt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new qm(e),u=op(r._queryParams,o);return js(u),new Fr(r._repo,r._path,u,!0)}}class MD extends ri{_apply(r){Gd(r,"orderByKey");const e=op(r._queryParams,Ii);return js(e),new Fr(r._repo,r._path,e,!0)}}class _w extends ri{_apply(r){Gd(r,"orderByPriority");const e=op(r._queryParams,Ht);return js(e),new Fr(r._repo,r._path,e,!0)}}class yw extends ri{_apply(r){Gd(r,"orderByValue");const e=op(r._queryParams,Ym);return js(e),new Fr(r._repo,r._path,e,!0)}}class N_ extends ri{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){if(Si("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new S_(this._value,this._key)._apply(new Up(this._value,this._key)._apply(r))}}function Ni(i,...r){let e=(0,N.m9)(i);for(const o of r)e=o._apply(e);return e}(function(i){(0,N.hu)(!gp,"__referenceConstructor has already been defined"),gp=i})(ni),function(i){(0,N.hu)(!_p,"__referenceConstructor has already been defined"),_p=i}(ni);const M_={};function Bp(i,r,e,o,u){let f=o||i.options.databaseURL;void 0===f&&(i.options.projectId||ss("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dn("Using default host for project ",i.options.projectId),f=`${i.options.projectId}-default-rtdb.firebaseio.com`);let w,A,_=sl(f,u),E=_.repoInfo;"undefined"!=typeof process&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(w=!0,f=`http://${A}?ns=${E.namespace}`,_=sl(f,u),E=_.repoInfo):w=!_.repoInfo.secure;const x=u&&w?new _u(_u.OWNER):new fv(i.name,i.options,r);Bd("Invalid Firebase Database URL",_),pt(_.path)||ss("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function(i,r,e,o){let u=M_[r.name];u||(u={},M_[r.name]=u);let f=u[i.toURLString()];return f&&ss("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new nw(i,false,e,o),u[i.toURLString()]=f,f}(E,i,x,new mu(i.name,e));return new P_(L,i)}class P_{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(i,r,e){if(i.stats_=Qf(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new ap(i.repoInfo_,(o,u,f,_)=>{jC(i,o,u,f,_)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>iw(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new $a(i.repoInfo_,r,(o,u,f,_)=>{jC(i,o,u,f,_)},o=>{iw(i,o)},o=>{!function(i,r){Kt(r,(e,o)=>{el(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function(i,r){const e=i.toString();return Rm[e]||(Rm[e]=r()),Rm[e]}(i.repoInfo_,()=>new Cb(i.stats_,i.server_)),i.infoData_=new gb,i.infoSyncTree_=new wC({startListening:(o,u,f,_)=>{let E=[];const w=i.infoData_.getNode(o._path);return w.isEmpty()||(E=Su(i.infoSyncTree_,o._path,w),setTimeout(()=>{_("ok")},0)),E},stopListening:()=>{}}),el(i,"connected",!1),i.serverSyncTree_=new wC({startListening:(o,u,f,_)=>(i.server_.listen(o,f,u,(E,w)=>{const A=_(E,w);Ri(i.eventQueue_,o._path,A)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ni(this._repo,bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(i,r){const e=M_[r];(!e||e[i.key]!==i)&&ss(`Database ${r}(${i.repoInfo_}) has already been deleted.`),WC(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&ss("Cannot call "+r+" on a deleted database.")}}function Aw(i,r){hv(i,r)}class Mw{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$a.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},$a.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},B0(pm.SDK_VERSION),(0,pm._registerComponent)(new zf.wA("database",(r,{instanceIdentifier:e})=>Bp(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,pm.registerVersion)("@firebase/database","0.12.0",void 0);const xw=new Zf.Yd("@firebase/database-compat"),XC=function(i){xw.warn("FIREBASE WARNING: "+i)};class Lw{constructor(r){this._delegate=r}cancel(r){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",r,!0);const e=this._delegate.cancel();return r&&e.then(()=>r(null),o=>r(o)),e}remove(r){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",r,!0);const e=this._delegate.remove();return r&&e.then(()=>r(null),o=>r(o)),e}set(r,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(r);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(r,e,o){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(r,e);return o&&u.then(()=>o(null),f=>o(f)),u}update(r,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let f=0;f<r.length;++f)u[""+f]=r[f];r=u,XC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(r);return e&&o.then(()=>e(null),u=>e(u)),o}}class eE{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class jo{constructor(r,e){this._database=r,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Ud("DataSnapshot.child","path",r,!1),new jo(this._database,this._delegate.child(r))}hasChild(r){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ud("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(e=>r(new jo(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ii(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vn{constructor(r,e){this.database=r,this._delegate=e}on(r,e,o,u){var f;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const _=Vn.getCancelAndContextArgs_("Query.on",o,u),E=(A,x)=>{e.call(_.context,new jo(this.database,A),x)};E.userCallback=e,E.context=_.context;const w=null===(f=_.cancel)||void 0===f?void 0:f.bind(_.context);switch(r){case"value":return ul(this._delegate,E,w),e;case"child_added":return Lp(this._delegate,E,w),e;case"child_removed":return qC(this._delegate,E,w),e;case"child_changed":return A_(this._delegate,E,w),e;case"child_moved":return cl(this._delegate,E,w),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,e,o){if((0,N.Dv)("Query.off",0,3,arguments.length),function(i,r,e){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",o,!0),e){const u=()=>{};u.userCallback=e,u.context=o,Yd(this._delegate,r,u)}else Yd(this._delegate,r)}get(){return al(this._delegate).then(r=>new jo(this.database,r))}once(r,e,o,u){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const f=Vn.getCancelAndContextArgs_("Query.once",o,u),_=new N.BH,E=(A,x)=>{const L=new jo(this.database,A);e&&e.call(f.context,L,x),_.resolve(L)};E.userCallback=e,E.context=f.context;const w=A=>{f.cancel&&f.cancel.call(f.context,A),_.reject(A)};switch(r){case"value":ul(this._delegate,E,w,{onlyOnce:!0});break;case"child_added":Lp(this._delegate,E,w,{onlyOnce:!0});break;case"child_removed":qC(this._delegate,E,w,{onlyOnce:!0});break;case"child_changed":A_(this._delegate,E,w,{onlyOnce:!0});break;case"child_moved":cl(this._delegate,E,w,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return _.promise}limitToFirst(r){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Vn(this.database,Ni(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xe(i)}(r)))}limitToLast(r){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Vn(this.database,Ni(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kd(i)}(r)))}orderByChild(r){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Vn(this.database,Ni(this._delegate,function(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ud("orderByChild","path",i,!1),new gw(i)}(r)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Vn(this.database,Ni(this._delegate,new MD))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Vn(this.database,Ni(this._delegate,new _w))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Vn(this.database,Ni(this._delegate,new yw))}startAt(r=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Vn(this.database,Ni(this._delegate,function(i=null,r){return Vo("startAt","key",r,!0),new Up(i,r)}(r,e)))}startAfter(r=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Vn(this.database,Ni(this._delegate,function(i,r){return Vo("startAfter","key",r,!0),new SD(i,r)}(r,e)))}endAt(r=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Vn(this.database,Ni(this._delegate,function(i,r){return Vo("endAt","key",r,!0),new S_(i,r)}(r,e)))}endBefore(r=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Vn(this.database,Ni(this._delegate,function(i,r){return Vo("endBefore","key",r,!0),new Vp(i,r)}(r,e)))}equalTo(r,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Vn(this.database,Ni(this._delegate,function(i,r){return Vo("equalTo","key",r,!0),new N_(i,r)}(r,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Vn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,e,o){const u={cancel:void 0,context:void 0};if(e&&o)u.cancel=e,(0,N.Wj)(r,"cancel",u.cancel,!0),u.context=o,(0,N.lb)(r,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new ii(this.database,new ni(this._delegate._repo,this._delegate._path))}}class ii extends Vn{constructor(r,e){super(r,new Fr(e._repo,e._path,new Sd,!1)),this.database=r,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new ii(this.database,Ln(this._delegate,r))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new ii(this.database,r):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ii(this.database,this._delegate.root)}set(r,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const o=zd(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}update(r,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let f=0;f<r.length;++f)u[""+f]=r[f];r=u,XC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ar("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const o=hw(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(r,e,o){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",o,!0);const u=function(i,r,e){if(ar("setWithPriority",i._path),Si("setWithPriority",r,i._path,!1),Sp("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new N.BH;return b_(i._repo,i._path,r,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,r,e);return o&&u.then(()=>o(null),f=>o(f)),u}remove(r){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",r,!0);const e=function(i){return ar("remove",i._path),zd(i,null)}(this._delegate);return r&&e.then(()=>r(null),o=>r(o)),e}transaction(r,e,o){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(i,r,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function(i,r,e){var o;if(i=(0,N.m9)(i),ar("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const u=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,f=new N.BH,E=ul(i,()=>{});return function(i,r,e,o,u,f){nl(i,"transaction on "+r);const _={path:r,update:e,onComplete:o,status:null,order:_m(),applyLocally:f,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=Op(i,r,void 0);_.currentInputSnapshot=E;const w=_.update(E.val());if(void 0===w)_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete&&_.onComplete(null,!1,_.currentInputSnapshot);else{xu("transaction failed: Data returned ",w,_.path),_.status=0;const A=y_(i.transactionQueueTree_,r),x=ds(A)||[];let L;x.push(_),v_(A,x),"object"==typeof w&&null!==w&&(0,N.r3)(w,".priority")?(L=(0,N.DV)(w,".priority"),(0,N.hu)(Ou(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(Ru(i.serverSyncTree_,r)||ze.EMPTY_NODE).getPriority().val();const J=Hd(i),fe=Qt(w,L),De=__(fe,E,J);_.currentOutputSnapshotRaw=fe,_.currentOutputSnapshotResolved=De,_.currentWriteId=Np(i);const We=p_(i.serverSyncTree_,r,De,_.currentWriteId,_.applyLocally);Ri(i.eventQueue_,r,We),xp(i,i.transactionQueueTree_)}}(i._repo,i._path,r,(w,A,x)=>{let L=null;w?f.reject(w):(L=new ol(x,new ni(i._repo,i._path),Ht),f.resolve(new Mw(A,L)))},E,u),f.promise}(this._delegate,r,{applyLocally:o}).then(f=>new eE(f.committed,new jo(this.database,f.snapshot)));return e&&u.then(f=>e(null,f.committed,f.snapshot),f=>e(f,!1,null)),u}setPriority(r,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const o=function(i,r){i=(0,N.m9)(i),ar("setPriority",i._path),Sp("setPriority",r,!1);const e=new N.BH;return b_(i._repo,jt(i._path,".priority"),r,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}push(r,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const o=function(i,r){i=(0,N.m9)(i),ar("push",i._path),Si("push",r,i._path,!0);const e=BC(i._repo),o=Fv(e),u=Ln(i,o),f=Ln(i,o);let _;return _=null!=r?zd(f,r).then(()=>f):Promise.resolve(f),u.then=_.then.bind(_),u.catch=_.then.bind(_,void 0),u}(this._delegate,r),u=o.then(_=>new ii(this.database,_));e&&u.then(()=>e(null),_=>e(_));const f=new ii(this.database,o);return f.then=u.then.bind(u),f.catch=u.catch.bind(u,void 0),f}onDisconnect(){return ar("Reference.onDisconnect",this._delegate._path),new Lw(new Bo(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Hp{constructor(r,e){this._delegate=r,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(r,e,o={}){!function(i,r,e,o={}){(i=(0,N.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&ss("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let f;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&ss('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new _u(_u.OWNER);else if(o.mockUserToken){const _="string"==typeof o.mockUserToken?o.mockUserToken:(0,N.Sg)(o.mockUserToken,i.app.options.projectId);f=new _u(_)}!function(i,r,e,o){i.repoInfo_=new Sm(`${r}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(u,r,e,f)}(this._delegate,r,e,o)}ref(r){if((0,N.Dv)("database.ref",0,1,arguments.length),r instanceof ii){const e=Jt(this._delegate,r.toString());return new ii(this,e)}{const e=Lr(this._delegate,r);return new ii(this,e)}}refFromURL(r){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const o=Jt(this._delegate,r);return new ii(this,o)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function(i){(i=(0,N.m9)(i))._checkNotDeleted("goOffline"),WC(i._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function(i){(i=(0,N.m9)(i))._checkNotDeleted("goOnline"),function(i){i.persistentConnection_&&i.persistentConnection_.resume(UC)}(i._repo)}(this._delegate)}}Hp.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:i=>function(i){return{".sv":{increment:i}}}(i)};var O_=Object.freeze({__proto__:null,initStandalone:function({app:i,url:r,version:e,customAuthImpl:o,namespace:u,nodeAdmin:f=!1}){B0(e);const _=new zf.zt("auth-internal",new zf.H0("database-standalone"));return _.setComponent(new zf.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Hp(Bp(i,_,void 0,r,f),i),namespace:u}}});const Vw=Hp.ServerValue;!function(i){i.INTERNAL.registerComponent(new zf.wA("database-compat",(r,{instanceIdentifier:e})=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("database").getImmediate({identifier:e});return new Hp(u,o)},"PUBLIC").setServiceProps({Reference:ii,Query:Vn,Database:Hp,DataSnapshot:jo,enableLogging:Aw,INTERNAL:O_,ServerValue:Vw}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.0")}(fD.Z);var Jd=M(309),Bw=M(7771),jw=M(8858);class Hw extends Zr.xQ{constructor(r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const e=this._events;e.push(r),e.length>this._bufferSize&&e.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new tE(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,f=o.length;let _;if(this.closed)throw new Gn.N;if(this.isStopped||this.hasError?_=Ef.w.EMPTY:(this.observers.push(r),_=new jw.W(this,r)),u&&r.add(r=new Jd.ht(r,u)),e)for(let E=0;E<f&&!r.closed;E++)r.next(o[E]);else for(let E=0;E<f&&!r.closed;E++)r.next(o[E].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),_}_getNow(){return(this.scheduler||Bw.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),e=this._bufferSize,o=this._windowTime,u=this._events,f=u.length;let _=0;for(;_<f&&!(r-u[_].time<o);)_++;return f>e&&(_=Math.max(_,f-e)),_>0&&u.splice(0,_),u}}class tE{constructor(r,e){this.time=r,this.value=e}}function $p(i,r,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:e},u=>u.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let u,_,f=0,E=!1,w=!1;return function(x){let L;f++,!u||E?(E=!1,u=new Hw(i,r,o),L=u.subscribe(this),_=x.subscribe({next(J){u.next(J)},error(J){E=!0,u.error(J)},complete(){w=!0,_=void 0,u.complete()}}),w&&(_=void 0)):L=u.subscribe(this),this.add(()=>{f--,L.unsubscribe(),L=void 0,_&&!w&&e&&0===f&&(_.unsubscribe(),_=void 0,u=void 0)})}}(o))}function dl(i,r){return r?gn(()=>i,r):gn(()=>i)}var An=M(3101),nE=M(7841);const Wp=new h.OlP("angularfire2.auth.use-emulator"),rE=new h.OlP("angularfire2.auth.settings"),x_=new h.OlP("angularfire2.auth.tenant-id"),k_=new h.OlP("angularfire2.auth.langugage-code"),F_=new h.OlP("angularfire2.auth.use-device-language"),iE=new h.OlP("angularfire.auth.persistence"),sE=(i,r,e,o,u,f,_,E)=>(0,Or.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const w=r.runOutsideAngular(()=>i.auth());if(e&&w.useEmulator(...e),o&&(w.tenantId=o),w.languageCode=u,f&&w.useDeviceLanguage(),_)for(const[A,x]of Object.entries(_))w.settings[A]=x;return E&&w.setPersistence(E),w},[e,o,u,f,_,E]);let oE=(()=>{class i{constructor(e,o,u,f,_,E,w,A,x,L,J){const fe=new Zr.xQ,De=(0,Ze.of)(void 0).pipe((0,Jd.QV)(_.outsideAngular),gn(()=>f.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,9083)))),(0,dt.U)(()=>(0,xs.on)(e,f,o)),(0,dt.U)(We=>sE(We,f,E,A,x,L,w,J)),$p({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{De.pipe(Xi()).subscribe();const rt=De.pipe(gn(wt=>wt.getRedirectResult().then(_n=>_n,()=>null)),Or.iC,$p({bufferSize:1,refCount:!1})),Xt=De.pipe(gn(wt=>new In.y(_n=>({unsubscribe:f.runOutsideAngular(()=>wt.onAuthStateChanged(ps=>_n.next(ps),ps=>_n.error(ps),()=>_n.complete()))})))),$t=De.pipe(gn(wt=>new In.y(_n=>({unsubscribe:f.runOutsideAngular(()=>wt.onIdTokenChanged(ps=>_n.next(ps),ps=>_n.error(ps),()=>_n.complete()))}))));this.authState=rt.pipe(dl(Xt),(0,An.R)(_.outsideAngular),(0,Jd.QV)(_.insideAngular)),this.user=rt.pipe(dl($t),(0,An.R)(_.outsideAngular),(0,Jd.QV)(_.insideAngular)),this.idToken=this.user.pipe(gn(wt=>wt?(0,rn.D)(wt.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(gn(wt=>wt?(0,rn.D)(wt.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,cd.T)(rt,fe,this.authState.pipe(S(wt=>!wt))).pipe((0,dt.U)(wt=>(null==wt?void 0:wt.user)?wt:null),(0,An.R)(_.outsideAngular),(0,Jd.QV)(_.insideAngular))}return(0,xs.pX)(this,De,f,{spy:{apply:(We,rt,Xt)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&Xt.then($t=>fe.next($t))}}})}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(xs.Dh),h.LFG(xs.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Or.HU),h.LFG(Wp,8),h.LFG(rE,8),h.LFG(x_,8),h.LFG(k_,8),h.LFG(F_,8),h.LFG(iE,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function aE(i){return null==i}function lE(i){return"function"==typeof i.set}function hl(i,r){return lE(r)?r:i.ref(r)}function zw(i,r){if(function(i){return"string"==typeof i}(i))return r.stringCase();if(lE(i))return r.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Lu(i,r,e="on",o=ud.z){return new In.y(u=>{let f=null;return f=i[e](r,(_,E)=>{o.schedule(()=>{u.next({snapshot:_,prevKey:E})}),"once"===e&&o.schedule(()=>u.complete())},_=>{o.schedule(()=>u.error(_))}),"on"===e?{unsubscribe(){null!=f&&i.off(r,f)}}:{unsubscribe(){}}}).pipe((0,dt.U)(u=>{const{snapshot:f,prevKey:_}=u;let E=null;return f.exists()&&(E=f.key),{type:r,payload:f,prevKey:_,key:E}}),(0,iv.B)())}function qw(i,r){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===r)return o;return-1}function Yw(i,r){const{payload:e,prevKey:o,key:u}=r,f=qw(i,u),_=function(i,r){if(aE(r))return 0;{const e=qw(i,r);return-1===e?i.length:e+1}}(i,o);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let E=null;r.payload.forEach(w=>{const A={payload:w,type:"value",prevKey:E,key:w.key};return E=w.key,i=[...i,A],!1})}return i;case"child_added":if(f>-1){const E=i[f-1];(E&&E.key||null)!==o&&(i=i.filter(w=>w.payload.key!==e.key)).splice(_,0,r)}else{if(null==o)return[r,...i];(i=i.slice()).splice(_,0,r)}return i;case"child_removed":return i.filter(E=>E.payload.key!==e.key);case"child_changed":return i.map(E=>E.payload.key===u?r:E);case"child_moved":if(f>-1){const E=i.splice(f,1)[0];return(i=i.slice()).splice(_,0,E),i}return i;default:return i}}function Gp(i){return(aE(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function cE(i,r,e){return function(i,r,e){return Lu(i,"value","once",e).pipe(gn(o=>{const u=[(0,Ze.of)(o)];return r.forEach(f=>u.push(Lu(i,f,"on",e))),(0,cd.T)(...u).pipe(p(Yw,[]))}),e=>e.lift(new ov(void 0,void 0)))}(i,r=Gp(r),e)}function dE(i,r,e){const o=(r=Gp(r)).map(u=>Lu(i,u,"on",e));return(0,cd.T)(...o)}function hE(i,r){return function(o,u){return zw(o,{stringCase:()=>i.child(o)[r](u),firebaseCase:()=>o[r](u),snapshotCase:()=>o.ref[r](u)})}}function Xw(i){return function(e){return e?zw(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function fE(i,r){return function(){return Lu(i,"value","on",r)}}const Xd=new h.OlP("angularfire2.realtimeDatabaseURL"),pE=new h.OlP("angularfire2.database.use-emulator");let L_=(()=>{class i{constructor(e,o,u,f,_,E,w,A,x,L,J,fe,De,We){this.schedulers=E;const rt=w,Xt=(0,xs.on)(e,_,o);A&&sE(Xt,_,x,J,fe,De,L,We),this.database=(0,Or.cc)(`${Xt.name}.database.${u}`,"AngularFireDatabase",Xt.name,()=>{const $t=_.runOutsideAngular(()=>Xt.database(u||void 0));return rt&&$t.useEmulator(...rt),$t},[rt])}list(e,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>hl(this.database,e));let f=u;return o&&(f=o(u)),function(i,r){const e=r.schedulers.outsideAngular,o=r.schedulers.ngZone.run(()=>i.ref);return{query:i,update:hE(o,"update"),set:hE(o,"set"),push:u=>o.push(u),remove:Xw(o),snapshotChanges:u=>cE(i,u,e).pipe(Or.iC),stateChanges:u=>dE(i,u,e).pipe(Or.iC),auditTrail:u=>function(i,r,e){return function(i,r,e){return function(i,r){return Lu(i,"value","on",r).pipe((0,dt.U)(e=>{let o;return e.payload.forEach(u=>(o=u.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return r=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),r.lift(new L0(i,e))}}(r),(0,dt.U)(([u,f])=>{const _=u.lastKeyToLoad,E=f.map(w=>w.key);return{actions:f,lastKeyToLoad:_,loadedKeys:E}}),function(i){return r=>r.lift(new lv(i))}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,dt.U)(u=>u.actions))}(i,dE(i,r).pipe(p((u,f)=>[...u,f],[])),e)}(i,u,e).pipe(Or.iC),valueChanges:(u,f)=>cE(i,u,e).pipe((0,dt.U)(E=>E.map(w=>f&&f.idField?Object.assign(Object.assign({},w.payload.val()),{[f.idField]:w.key}):w.payload.val())),Or.iC)}}(f,this)}object(e){return function(i,r){return{query:i,snapshotChanges:()=>fE(i,r.schedulers.outsideAngular)().pipe(Or.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>fE(i,r.schedulers.outsideAngular)().pipe(Or.iC,(0,dt.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hl(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(xs.Dh),h.LFG(xs.xv,8),h.LFG(Xd,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Or.HU),h.LFG(pE,8),h.LFG(oE,8),h.LFG(Wp,8),h.LFG(rE,8),h.LFG(x_,8),h.LFG(k_,8),h.LFG(F_,8),h.LFG(iE,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),gE=(()=>{class i{constructor(){nE.Z.registerVersion("angularfire",Or.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[L_]}),i})();const V_="customers";let mE=(()=>{class i{constructor(e){this.db=e}getCustomers(e){this.getList().snapshotChanges().subscribe(o=>{let u=[];o.map(f=>{let _=f.payload.val();_.key=f.payload.key,u.push(_)}),e(u)})}removeCust(e){this.getList("/"+e.key).remove()}addCustomer(e){this.getList().push(e)}updateCustomer(e){this.getObject(e.key).update(e)}getList(e=""){return this.db.list(V_+e)}getObject(e){return this.db.object(V_+"/"+e)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(L_))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nI=(()=>{class i{constructor(){this.edit=new h.vpe,this.display=new h.vpe,this.remove=new h.vpe}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["table-icons"]],outputs:{edit:"edit",display:"display",remove:"remove"},decls:3,vars:0,consts:[[1,"glyphicon","glyphicon","glyphicon-user",3,"click"],[1,"glyphicon","glyphicon-pencil",3,"click"],[1,"glyphicon","glyphicon-remove",3,"click"]],template:function(e,o){1&e&&(h.TgZ(0,"span",0),h.NdJ("click",function(){return o.display.next()}),h.qZA(),h.TgZ(1,"span",1),h.NdJ("click",function(){return o.edit.next()}),h.qZA(),h.TgZ(2,"span",2),h.NdJ("click",function(){return o.remove.next()}),h.qZA())},styles:["span[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),rI=(()=>{class i{constructor(){this.customer=new rv}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-add-edit-display-customer"]],inputs:{customer:"customer",disabled:"disabled"},decls:27,vars:12,consts:[[1,"form-row"],[1,"form-group","col-md-6"],["name","first","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","text","name","last",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","email","type","email",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","phone","type","phone",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"form-group"],["type","text","name","address",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","notes","rows","10",1,"form-control",3,"disabled","ngModel","ngModelChange"]],template:function(e,o){1&e&&(h.TgZ(0,"form"),h.TgZ(1,"div",0),h.TgZ(2,"div",1),h.TgZ(3,"label"),h._uU(4,"First name "),h.qZA(),h.TgZ(5,"input",2),h.NdJ("ngModelChange",function(f){return o.customer.first=f}),h.qZA(),h.qZA(),h.TgZ(6,"div",1),h.TgZ(7,"label"),h._uU(8,"Last Name"),h.qZA(),h.TgZ(9,"input",3),h.NdJ("ngModelChange",function(f){return o.customer.last=f}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(10,"div",0),h.TgZ(11,"div",1),h.TgZ(12,"label"),h._uU(13,"Email "),h.qZA(),h.TgZ(14,"input",4),h.NdJ("ngModelChange",function(f){return o.customer.email=f}),h.qZA(),h.qZA(),h.TgZ(15,"div",1),h.TgZ(16,"label"),h._uU(17,"Phone"),h.qZA(),h.TgZ(18,"input",5),h.NdJ("ngModelChange",function(f){return o.customer.phone=f}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(19,"div",6),h.TgZ(20,"label"),h._uU(21,"Address"),h.qZA(),h.TgZ(22,"input",7),h.NdJ("ngModelChange",function(f){return o.customer.address=f}),h.qZA(),h.qZA(),h.TgZ(23,"div",6),h.TgZ(24,"label"),h._uU(25,"Notes"),h.qZA(),h.TgZ(26,"textarea",8),h.NdJ("ngModelChange",function(f){return o.customer.notes=f}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(5),h.Q6J("disabled",o.disabled)("ngModel",o.customer.first),h.xp6(4),h.Q6J("disabled",o.disabled)("ngModel",o.customer.last),h.xp6(5),h.Q6J("disabled",o.disabled)("ngModel",o.customer.email),h.xp6(4),h.Q6J("disabled",o.disabled)("ngModel",o.customer.phone),h.xp6(4),h.Q6J("disabled",o.disabled)("ngModel",o.customer.address),h.xp6(4),h.Q6J("disabled",o.disabled)("ngModel",o.customer.notes))},directives:[qi,da,zr,Tr,Bl,bo],styles:[""]}),i})();function iI(i,r){if(1&i){const e=h.EpF();h.ynx(0),h.TgZ(1,"th",14),h._uU(2),h.TgZ(3,"table-icons",15),h.NdJ("display",function(){h.CHM(e);const u=h.oxw().$implicit;return h.oxw(2).displayCustomerDetails(u)})("edit",function(){h.CHM(e);const u=h.oxw().$implicit;return h.oxw(2).editCustomer(u)})("remove",function(){h.CHM(e);const u=h.oxw().$implicit;return h.oxw(2).removeCustomer(u)}),h.qZA(),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.BQk()}if(2&i){const e=h.oxw(),o=e.index,u=e.$implicit;h.xp6(2),h.hij(" ",o+1," "),h.xp6(3),h.Oqu(u.first),h.xp6(2),h.Oqu(u.last),h.xp6(2),h.Oqu(u.phone),h.xp6(2),h.Oqu(u.email)}}function sI(i,r){if(1&i&&(h.TgZ(0,"tr"),h.YNc(1,iI,12,5,"ng-container",4),h.qZA()),2&i){const e=r.$implicit,o=h.oxw(2);h.xp6(1),h.Q6J("ngIf",!o.filterCustomer(e))}}function oI(i,r){if(1&i){const e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div",6),h.TgZ(2,"input",7),h.NdJ("ngModelChange",function(u){return h.CHM(e),h.oxw().searchFirst=u}),h.qZA(),h.TgZ(3,"input",8),h.NdJ("ngModelChange",function(u){return h.CHM(e),h.oxw().searchLast=u}),h.qZA(),h.TgZ(4,"input",9),h.NdJ("ngModelChange",function(u){return h.CHM(e),h.oxw().searchPhone=u}),h.qZA(),h.TgZ(5,"button",10),h.NdJ("click",function(){return h.CHM(e),h.oxw().addCustomer()}),h._uU(6," Add customer "),h.qZA(),h.qZA(),h.TgZ(7,"table",11),h.TgZ(8,"thead"),h.TgZ(9,"tr"),h.TgZ(10,"th",12),h._uU(11,"No."),h.qZA(),h.TgZ(12,"th",12),h._uU(13,"First Name"),h.qZA(),h.TgZ(14,"th",12),h._uU(15,"Last Name"),h.qZA(),h.TgZ(16,"th",12),h._uU(17,"Phone"),h.qZA(),h.TgZ(18,"th",12),h._uU(19,"Email"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"tbody"),h.YNc(21,sI,2,1,"tr",13),h.qZA(),h.qZA(),h.qZA()}if(2&i){const e=h.oxw();h.xp6(2),h.Q6J("ngModel",e.searchFirst),h.xp6(1),h.Q6J("ngModel",e.searchLast),h.xp6(1),h.Q6J("ngModel",e.searchPhone),h.xp6(17),h.Q6J("ngForOf",e.customers)}}function aI(i,r){if(1&i&&(h.TgZ(0,"div"),h._UZ(1,"app-add-edit-display-customer",16),h.qZA()),2&i){const e=h.oxw();h.xp6(1),h.Q6J("disabled",!0)("customer",e.currentCustomer)}}function lI(i,r){if(1&i){const e=h.EpF();h.TgZ(0,"div"),h._UZ(1,"app-add-edit-display-customer",17),h.TgZ(2,"button",18),h.NdJ("click",function(){return h.CHM(e),h.oxw().createCustomer()}),h._uU(3," Create Customer "),h.qZA(),h.qZA()}if(2&i){const e=h.oxw();h.xp6(1),h.Q6J("customer",e.currentCustomer)}}function eh(i,r){if(1&i){const e=h.EpF();h.TgZ(0,"div"),h._UZ(1,"app-add-edit-display-customer",17),h.TgZ(2,"button",18),h.NdJ("click",function(){return h.CHM(e),h.oxw().updateCustomer()}),h._uU(3," Update "),h.qZA(),h.qZA()}if(2&i){const e=h.oxw();h.xp6(1),h.Q6J("customer",e.currentCustomer)}}function th(i,r){if(1&i){const e=h.EpF();h.TgZ(0,"button",18),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return u.displayMode=u.DisplayModes.table}),h._uU(1," Back "),h.qZA()}}let uI=(()=>{class i{constructor(e){this.service=e,this.displayMode=is.table,this.DisplayModes=is,e.getCustomers(o=>{this.customers=o})}createCustomer(){this.service.addCustomer(this.currentCustomer),this.displayMode=is.table}editCustomer(e){this.displayMode=is.edit,this.currentCustomer=e}updateCustomer(){this.service.updateCustomer(this.currentCustomer),this.displayMode=is.table}displayCustomerDetails(e){this.currentCustomer=e,this.displayMode=is.details}removeCustomer(e){confirm("Are you sure? ")&&this.service.removeCust(e)}addCustomer(){this.currentCustomer=new rv,this.displayMode=is.add}filterCustomer(e){return o(this.searchFirst,e.first)||o(this.searchLast,e.last)||o(this.searchPhone,e.phone);function o(u,f){return u&&-1==f.indexOf(u)}}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(mE))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-customer-page"]],decls:10,vars:5,consts:[[1,"panel","panel-primary"],[1,"panel-heading"],[1,"panel-title"],[1,"panel-body"],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"div-filter"],["type","text","placeholder","First Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone Name",1,"input-filter",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"display","edit","remove"],[3,"disabled","customer"],[3,"customer"],[3,"click"]],template:function(e,o){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h3",2),h._uU(3,"Customers"),h.qZA(),h.qZA(),h.TgZ(4,"div",3),h.YNc(5,oI,22,4,"div",4),h.YNc(6,aI,2,2,"div",4),h.YNc(7,lI,4,1,"div",4),h.YNc(8,eh,4,1,"div",4),h.YNc(9,th,2,0,"button",5),h.qZA(),h.qZA()),2&e&&(h.xp6(5),h.Q6J("ngIf",o.displayMode==o.DisplayModes.table),h.xp6(1),h.Q6J("ngIf",o.displayMode==o.DisplayModes.details),h.xp6(1),h.Q6J("ngIf",o.displayMode==o.DisplayModes.add),h.xp6(1),h.Q6J("ngIf",o.displayMode==o.DisplayModes.edit),h.xp6(1),h.Q6J("ngIf",o.displayMode!=o.DisplayModes.table))},directives:[Ks,Tr,Bl,bo,St,nI,rI],styles:[".div-filter[_ngcontent-%COMP%]{padding:10px;margin:10px}.input-filter[_ngcontent-%COMP%]{width:200px;margin:20px}"]}),i})(),U_=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-contacts-page"]],decls:2,vars:0,template:function(e,o){1&e&&(h.TgZ(0,"p"),h._uU(1,"\ncontacts-page works!\n"),h.qZA())},styles:[""]}),i})(),fs=(()=>{class i{constructor(e){this.r=e}login(e,o){e&&o&&(window.localStorage.setItem("user","userexist"),this.r.navigate(["customers"]))}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(mn))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-login-page"]],decls:15,vars:0,consts:[[1,"form-row"],[1,"form-group","col-md-6"],["name","first","type","text",1,"form-control"],["username",""],["type","text","name","last",1,"form-control"],["pass",""],[3,"click"]],template:function(e,o){if(1&e){const u=h.EpF();h.TgZ(0,"form"),h.TgZ(1,"div",0),h.TgZ(2,"div",1),h.TgZ(3,"label"),h._uU(4,"User name "),h.qZA(),h._UZ(5,"input",2,3),h.qZA(),h.TgZ(7,"div",1),h.TgZ(8,"label"),h._uU(9," Password"),h.qZA(),h._UZ(10,"input",4,5),h.qZA(),h.qZA(),h.TgZ(12,"div",0),h.TgZ(13,"button",6),h.NdJ("click",function(){h.CHM(u);const _=h.MAs(6),E=h.MAs(11);return o.login(_.value,E.value)}),h._uU(14,"Login"),h.qZA(),h.qZA(),h.qZA()}},directives:[qi,da,zr],styles:[""]}),i})(),B_=(()=>{class i{canActivate(e,o){return null!=window.localStorage.getItem("user")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const zp={apiKey:"AIzaSyD19gce4j_XmRzDCj97vyqaKtxMt7JAuMw",authDomain:"project-2908-1bf53.firebaseapp.com",databaseURL:"https://project-2908-1bf53-default-rtdb.firebaseio.com",projectId:"project-2908-1bf53",storageBucket:"project-2908-1bf53.appspot.com",messagingSenderId:"217429315460",appId:"1:217429315460:web:2033d09a736ee6183817d1",measurementId:"G-HGLTQDMJFP"};let cI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i,bootstrap:[nv]}),i.\u0275inj=h.cJS({providers:[B_],imports:[[Ml,qt,xs.hO.initializeApp(zp),gE,lD.forRoot([{path:"customers",component:uI,canActivate:[B_]},{path:"contacts",component:U_,canActivate:[B_]},{path:"login",component:fs},{path:"**",redirectTo:"login"}])]]}),i})();(0,h.G48)(),ea().bootstrapModule(cI).catch(i=>console.error(i))},4762:(xe,ye,M)=>{"use strict";M.d(ye,{ZT:()=>te,pi:()=>U,_T:()=>ee,mG:()=>Z,Jh:()=>$,XA:()=>O,CR:()=>j,ev:()=>ne});var h=function(oe,X){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,de){ge.__proto__=de}||function(ge,de){for(var ae in de)Object.prototype.hasOwnProperty.call(de,ae)&&(ge[ae]=de[ae])})(oe,X)};function te(oe,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function ge(){this.constructor=oe}h(oe,X),oe.prototype=null===X?Object.create(X):(ge.prototype=X.prototype,new ge)}var U=function(){return(U=Object.assign||function(X){for(var ge,de=1,ae=arguments.length;de<ae;de++)for(var q in ge=arguments[de])Object.prototype.hasOwnProperty.call(ge,q)&&(X[q]=ge[q]);return X}).apply(this,arguments)};function ee(oe,X){var ge={};for(var de in oe)Object.prototype.hasOwnProperty.call(oe,de)&&X.indexOf(de)<0&&(ge[de]=oe[de]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(de=Object.getOwnPropertySymbols(oe);ae<de.length;ae++)X.indexOf(de[ae])<0&&Object.prototype.propertyIsEnumerable.call(oe,de[ae])&&(ge[de[ae]]=oe[de[ae]])}return ge}function Z(oe,X,ge,de){return new(ge||(ge=Promise))(function(q,Se){function Le(Be){try{ke(de.next(Be))}catch(Ge){Se(Ge)}}function at(Be){try{ke(de.throw(Be))}catch(Ge){Se(Ge)}}function ke(Be){Be.done?q(Be.value):function(q){return q instanceof ge?q:new ge(function(Se){Se(q)})}(Be.value).then(Le,at)}ke((de=de.apply(oe,X||[])).next())})}function $(oe,X){var de,ae,q,Se,ge={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return Se={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Se[Symbol.iterator]=function(){return this}),Se;function Le(ke){return function(Be){return function(ke){if(de)throw new TypeError("Generator is already executing.");for(;ge;)try{if(de=1,ae&&(q=2&ke[0]?ae.return:ke[0]?ae.throw||((q=ae.return)&&q.call(ae),0):ae.next)&&!(q=q.call(ae,ke[1])).done)return q;switch(ae=0,q&&(ke=[2&ke[0],q.value]),ke[0]){case 0:case 1:q=ke;break;case 4:return ge.label++,{value:ke[1],done:!1};case 5:ge.label++,ae=ke[1],ke=[0];continue;case 7:ke=ge.ops.pop(),ge.trys.pop();continue;default:if(!(q=(q=ge.trys).length>0&&q[q.length-1])&&(6===ke[0]||2===ke[0])){ge=0;continue}if(3===ke[0]&&(!q||ke[1]>q[0]&&ke[1]<q[3])){ge.label=ke[1];break}if(6===ke[0]&&ge.label<q[1]){ge.label=q[1],q=ke;break}if(q&&ge.label<q[2]){ge.label=q[2],ge.ops.push(ke);break}q[2]&&ge.ops.pop(),ge.trys.pop();continue}ke=X.call(oe,ge)}catch(Be){ke=[6,Be],ae=0}finally{de=q=0}if(5&ke[0])throw ke[1];return{value:ke[0]?ke[1]:void 0,done:!0}}([ke,Be])}}}function O(oe){var X="function"==typeof Symbol&&Symbol.iterator,ge=X&&oe[X],de=0;if(ge)return ge.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&de>=oe.length&&(oe=void 0),{value:oe&&oe[de++],done:!oe}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(oe,X){var ge="function"==typeof Symbol&&oe[Symbol.iterator];if(!ge)return oe;var ae,Se,de=ge.call(oe),q=[];try{for(;(void 0===X||X-- >0)&&!(ae=de.next()).done;)q.push(ae.value)}catch(Le){Se={error:Le}}finally{try{ae&&!ae.done&&(ge=de.return)&&ge.call(de)}finally{if(Se)throw Se.error}}return q}function ne(oe,X,ge){if(ge||2===arguments.length)for(var q,de=0,ae=X.length;de<ae;de++)(q||!(de in X))&&(q||(q=Array.prototype.slice.call(X,0,de)),q[de]=X[de]);return oe.concat(q||Array.prototype.slice.call(X))}},8239:(xe,ye,M)=>{"use strict";function h(U,ee,ue,z,pe,Z,$){try{var P=U[Z]($),B=P.value}catch(O){return void ue(O)}P.done?ee(B):Promise.resolve(B).then(z,pe)}function te(U){return function(){var ee=this,ue=arguments;return new Promise(function(z,pe){var Z=U.apply(ee,ue);function $(B){h(Z,z,pe,$,P,"next",B)}function P(B){h(Z,z,pe,$,P,"throw",B)}$(void 0)})}}M.d(ye,{Z:()=>te})}},xe=>{xe(xe.s=3043)}]);